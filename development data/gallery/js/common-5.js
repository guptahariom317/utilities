function s_gi(un,pg,ss){var a,i,j,x,s,c='s.version=\'H.26\';s.an=s_an;s.logDebug=function(m){var s=this,tcf=new Function(\'var e;try{console.log("\'+s.rep(s.rep(s.rep(m,"\\\\","\\\\\\\\"),"\\n","\\\\n"),"\\"","\\\\\\"")+\'");}catch(e){}\');tcf()};s.cls=function(x,c){var i,y=\'\';if(!c)c=this.an;for(i=0;i<x.length;i++){n=x.substring(i,i+1);if(c.indexOf(n)>=0)y+=n}return '+"y};s.fl=function(x,l){return x?(''+x).substring(0,l):x};s.co=function(o){return o};s.num=function(x){x=''+x;for(var p=0;p<x.length;p++)if(('0123456789').indexOf(x.substring(p,p+1))<0)return 0;return 1};s.rep=s_rep;s.sp=s_sp;s.jn=s_jn;s.ape=function(x){var s=this,h='0123456789ABCDEF',f=\"+~!*()'\",i,c=s.charSet,n,l,e,y='';c=c?c.toUpperCase():'';if(x){x=''+x;if(s.em==3){x=encodeURIComponent(x);for(i=0;i<f.length;i++) {n=f.substring(i,i+1);if(x.indexOf(n)>=0)x=s.rep(x,n,\"%\"+n.charCodeAt(0).toString(16).toUpperCase())}}else if(c=='AUTO'&&('').charCodeAt){for(i=0;i<x.length;i++){c=x.substring(i,i+1);n=x.charCodeAt(i);if(n>127){l=0;e='';while(n||l<4){e=h.substring(n%16,n%16+1)+e;n=(n-n%16)/16;l++}y+='%u'+e}else if(c=='+')y+='%2B';else y+=escape(c)}x=y}else x=s.rep(escape(''+x),'+','%2B');if(c&&c!='AUTO'&&s.em==1&&x.indexOf('%u')<0&&x.indexOf('%U')<0){i=x.indexOf('%');while(i>=0){i++;if(h.substring(8).indexOf(x.substring(i,i+1).toUpperCase())>=0)return x.substring(0,i)+'u00'+x.substring(i);i=x.indexOf('%',i)}}}return x};s.epa=function(x){var s=this,y,tcf;if(x){x=s.rep(''+x,'+',' ');if(s.em==3){tcf=new Function('x','var y,e;try{y=decodeURIComponent(x)}catch(e){y=unescape(x)}return y');return tcf(x)}else return unescape(x)}return y};s.pt=function(x,d,f,a){var s=this,t=x,z=0,y,r;while(t){y=t.indexOf(d);y=y<0?t.length:y;t=t.substring(0,y);r=s[f](t,a);if(r)return r;z+=y+d.length;t=x.substring(z,x.length);t=z<x.length?t:''}return ''};s.isf=function(t,a){var c=a.indexOf(':');if(c>=0)a=a.substring(0,c);c=a.indexOf('=');if(c>=0)a=a.substring(0,c);if(t.substring(0,2)=='s_')t=t.substring(2);return (t!=''&&t==a)};s.fsf=function(t,a){var s=this;if(s.pt(a,',','isf',t))s.fsg+=(s.fsg!=''?',':'')+t;return 0};s.fs=function(x,f){var s=this;s.fsg='';s.pt(x,',','fsf',f);return s.fsg};s.mpc=function(m,a){var s=this,c,l,n,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(v&&v=='prerender'){if(!s.mpq){s.mpq=new Array;l=s.sp('webkitvisibilitychange,visibilitychange',',');for(n=0;n<l.length;n++){s.d.addEventListener(l[n],new Function('var s=s_c_il['+s._in+'],c,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(s.mpq&&v==\"visible\"){while(s.mpq.length>0){c=s.mpq.shift();s[c.m].apply(s,c.a)}s.mpq=0}'),false)}}c=new Object;c.m=m;c.a=a;s.mpq.push(c);return 1}return 0};s.si=function(){var s=this,i,k,v,c=s_gi+'var s=s_gi(\"'+s.oun+'\");s.sa(\"'+s.un+'\");';for(i=0;i<s.va_g.length;i++){k=s.va_g[i];v=s[k];if(v!=undefined){if(typeof(v)!='number')c+='s.'+k+'=\"'+s_fe(v)+'\";';else c+='s.'+k+'='+v+';'}}c+=\"s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';\";return c};s.c_d='';s.c_gdf=function(t,a){var s=this;if(!s.num(t))return 1;return 0};s.c_gd=function(){var s=this,d=s.wd.location.hostname,n=s.fpCookieDomainPeriods,p;if(!n)n=s.cookieDomainPeriods;if(d&&!s.c_d){n=n?parseInt(n):2;n=n>2?n:2;p=d.lastIndexOf('.');if(p>=0){while(p>=0&&n>1){p=d.lastIndexOf('.',p-1);n--}s.c_d=p>0&&s.pt(d,'.','c_gdf',0)?d.substring(p):d}}return s.c_d};s.c_r=function(k){var s=this;k=s.ape(k);var c=' '+s.d.cookie,i=c.indexOf(' '+k+'='),e=i<0?i:c.indexOf(';',i),v=i<0?'':s.epa(c.substring(i+2+k.length,e<0?c.length:e));return v!='[[B]]'?v:''};s.c_w=function(k,v,e){var s=this,d=s.c_gd(),l=s.cookieLifetime,t;v=''+v;l=l?(''+l).toUpperCase():'';if(e&&l!='SESSION'&&l!='NONE'){t=(v!=''?parseInt(l?l:0):-60);if(t){e=new Date;e.setTime(e.getTime()+(t*1000))}}if(k&&l!='NONE'){s.d.cookie=k+'='+s.ape(v!=''?v:'[[B]]')+'; path=/;'+(e&&l!='SESSION'?' expires='+e.toGMTString()+';':'')+(d?' domain='+d+';':'');return s.c_r(k)==v}return 0};s.eh=function(o,e,r,f){var s=this,b='s_'+e+'_'+s._in,n=-1,l,i,x;if(!s.ehl)s.ehl=new Array;l=s.ehl;for(i=0;i<l.length&&n<0;i++){if(l[i].o==o&&l[i].e==e)n=i}if(n<0){n=i;l[n]=new Object}x=l[n];x.o=o;x.e=e;f=r?x.b:f;if(r||f){x.b=r?0:o[e];x.o[e]=f}if(x.b){x.o[b]=x.b;return b}return 0};s.cet=function(f,a,t,o,b){var s=this,r,tcf;if(s.apv>=5&&(!s.isopera||s.apv>=7)){tcf=new Function('s','f','a','t','var e,r;try{r=s[f](a)}catch(e){r=s[t](e)}return r');r=tcf(s,f,a,t)}else{if(s.ismac&&s.u.indexOf('MSIE 4')>=0)r=s[b](a);else{s.eh(s.wd,'onerror',0,o);r=s[f](a);s.eh(s.wd,'onerror',1)}}return r};s.gtfset=function(e){var s=this;return s.tfs};s.gtfsoe=new Function('e','var s=s_c_il['+s._in+'],c;s.eh(window,\"onerror\",1);s.etfs=1;c=s.t();if(c)s.d.write(c);s.etfs=0;return true');s.gtfsfb=function(a){return window};s.gtfsf=function(w){var s=this,p=w.parent,l=w.location;s.tfs=w;if(p&&p.location!=l&&p.location.host==l.host){s.tfs=p;return s.gtfsf(s.tfs)}return s.tfs};s.gtfs=function(){var s=this;if(!s.tfs){s.tfs=s.wd;if(!s.etfs)s.tfs=s.cet('gtfsf',s.tfs,'gtfset',s.gtfsoe,'gtfsfb')}return s.tfs};s.mrq=function(u){var s=this,l=s.rl[u],n,r;s.rl[u]=0;if(l)for(n=0;n<l.length;n++){r=l[n];s.mr(0,0,r.r,r.t,r.u)}};s.flushBufferedRequests=function(){};s.mr=function(sess,q,rs,ta,u){var s=this,dc=s.dc,t1=s.trackingServer,t2=s.trackingServerSecure,tb=s.trackingServerBase,p='.sc',ns=s.visitorNamespace,un=s.cls(u?u:(ns?ns:s.fun)),r=new Object,l,imn='s_i_'+s._in+'_'+un,im,b,e;if(!rs){if(t1){if(t2&&s.ssl)t1=t2}else{if(!tb)tb='2o7.net';if(dc)dc=(''+dc).toLowerCase();else dc='d1';if(tb=='2o7.net'){if(dc=='d1')dc='112';else if(dc=='d2')dc='122';p=''}t1=un+'.'+dc+'.'+p+tb}rs='http'+(s.ssl?'s':'')+'://'+t1+'/b/ss/'+s.un+'/'+(s.mobile?'5.1':'1')+'/'+s.version+(s.tcn?'T':'')+'/'+sess+'?AQB=1&ndh=1'+(q?q:'')+'&AQE=1';if(s.isie&&!s.ismac)rs=s.fl(rs,2047)}if(s.d.images&&s.apv>=3&&(!s.isopera||s.apv>=7)&&(s.ns6<0||s.apv>=6.1)){if(!s.rc)s.rc=new Object;if(!s.rc[un]){s.rc[un]=1;if(!s.rl)s.rl=new Object;s.rl[un]=new Array;setTimeout('if(window.s_c_il)window.s_c_il['+s._in+'].mrq(\"'+un+'\")',750)}else{l=s.rl[un];if(l){r.t=ta;r.u=un;r.r=rs;l[l.length]=r;return ''}imn+='_'+s.rc[un];s.rc[un]++}if(s.debugTracking){var d='AppMeasurement Debug: '+rs,dl=s.sp(rs,'&'),dln;for(dln=0;dln<dl.length;dln++)d+=\"\\n\\t\"+s.epa(dl[dln]);s.logDebug(d)}im=s.wd[imn];if(!im)im=s.wd[imn]=new Image;im.s_l=0;im.onload=new Function('e','this.s_l=1;var wd=window,s;if(wd.s_c_il){s=wd.s_c_il['+s._in+'];s.bcr();s.mrq(\"'+un+'\");s.nrs--;if(!s.nrs)s.m_m(\"rr\")}');if(!s.nrs){s.nrs=1;s.m_m('rs')}else s.nrs++;im.src=rs;if(s.useForcedLinkTracking||s.bcf){if(!s.forcedLinkTrackingTimeout)s.forcedLinkTrackingTimeout=250;setTimeout('if(window.s_c_il)window.s_c_il['+s._in+'].bcr()',s.forcedLinkTrackingTimeout);}else if((s.lnk||s.eo)&&(!ta||ta=='_self'||ta=='_top'||ta=='_parent'||(s.wd.name&&ta==s.wd.name))){b=e=new Date;while(!im.s_l&&e.getTime()-b.getTime()<500)e=new Date}return ''}return '<im'+'g sr'+'c=\"'+rs+'\" width=1 height=1 border=0 alt=\"\">'};s.gg=function(v){var s=this;if(!s.wd['s_'+v])s.wd['s_'+v]='';return s.wd['s_'+v]};s.glf=function(t,a){if(t.substring(0,2)=='s_')t=t.substring(2);var s=this,v=s.gg(t);if(v)s[t]=v};s.gl=function(v){var s=this;if(s.pg)s.pt(v,',','glf',0)};s.rf=function(x){var s=this,y,i,j,h,p,l=0,q,a,b='',c='',t;if(x&&x.length>255){y=''+x;i=y.indexOf('?');if(i>0){q=y.substring(i+1);y=y.substring(0,i);h=y.toLowerCase();j=0;if(h.substring(0,7)=='http://')j+=7;else if(h.substring(0,8)=='https://')j+=8;i=h.indexOf(\"/\",j);if(i>0){h=h.substring(j,i);p=y.substring(i);y=y.substring(0,i);if(h.indexOf('google')>=0)l=',q,ie,start,search_key,word,kw,cd,';else if(h.indexOf('yahoo.co')>=0)l=',p,ei,';if(l&&q){a=s.sp(q,'&');if(a&&a.length>1){for(j=0;j<a.length;j++){t=a[j];i=t.indexOf('=');if(i>0&&l.indexOf(','+t.substring(0,i)+',')>=0)b+=(b?'&':'')+t;else c+=(c?'&':'')+t}if(b&&c)q=b+'&'+c;else c=''}i=253-(q.length-c.length)-y.length;x=y+(i>0?p.substring(0,i):'')+'?'+q}}}}return x};s.s2q=function(k,v,vf,vfp,f){var s=this,qs='',sk,sv,sp,ss,nke,nk,nf,nfl=0,nfn,nfm;if(k==\"contextData\")k=\"c\";if(v){for(sk in v)if((!f||sk.substring(0,f.length)==f)&&v[sk]&&(!vf||vf.indexOf(','+(vfp?vfp+'.':'')+sk+',')>=0)&&(!Object||!Object.prototype||!Object.prototype[sk])){nfm=0;if(nfl)for(nfn=0;nfn<nfl.length;nfn++)if(sk.substring(0,nfl[nfn].length)==nfl[nfn])nfm=1;if(!nfm){if(qs=='')qs+='&'+k+'.';sv=v[sk];if(f)sk=sk.substring(f.length);if(sk.length>0){nke=sk.indexOf('.');if(nke>0){nk=sk.substring(0,nke);nf=(f?f:'')+nk+'.';if(!nfl)nfl=new Array;nfl[nfl.length]=nf;qs+=s.s2q(nk,v,vf,vfp,nf)}else{if(typeof(sv)=='boolean'){if(sv)sv='true';else sv='false'}if(sv){if(vfp=='retrieveLightData'&&f.indexOf('.contextData.')<0){sp=sk.substring(0,4);ss=sk.substring(4);if(sk=='transactionID')sk='xact';else if(sk=='channel')sk='ch';else if(sk=='campaign')sk='v0';else if(s.num(ss)){if(sp=='prop')sk='c'+ss;else if(sp=='eVar')sk='v'+ss;else if(sp=='list')sk='l'+ss;else if(sp=='hier'){sk='h'+ss;sv=sv.substring(0,255)}}}qs+='&'+s.ape(sk)+'='+s.ape(sv)}}}}}if(qs!='')qs+='&.'+k}return qs};s.hav=function(){var s=this,qs='',l,fv='',fe='',mn,i,e;if(s.lightProfileID){l=s.va_m;fv=s.lightTrackVars;if(fv)fv=','+fv+','+s.vl_mr+','}else{l=s.va_t;if(s.pe||s.linkType){fv=s.linkTrackVars;fe=s.linkTrackEvents;if(s.pe){mn=s.pe.substring(0,1).toUpperCase()+s.pe.substring(1);if(s[mn]){fv=s[mn].trackVars;fe=s[mn].trackEvents}}}if(fv)fv=','+fv+','+s.vl_l+','+s.vl_l2;if(fe){fe=','+fe+',';if(fv)fv+=',events,'}if (s.events2)e=(e?',':'')+s.events2}for(i=0;i<l.length;i++){var k=l[i],v=s[k],b=k.substring(0,4),x=k.substring(4),n=parseInt(x),q=k;if(!v)if(k=='events'&&e){v=e;e=''}if(v&&(!fv||fv.indexOf(','+k+',')>=0)&&k!='linkName'&&k!='linkType'){if(k=='timestamp')q='ts';else if(k=='dynamicVariablePrefix')q='D';else if(k=='visitorID')q='vid';else if(k=='pageURL'){q='g';if(v.length>255){s.pageURLRest=v.substring(255);v=v.substring(0,255);}}else if(k=='pageURLRest')q='-g';else if(k=='referrer'){q='r';v=s.fl(s.rf(v),255)}else if(k=='vmk'||k=='visitorMigrationKey')q='vmt';else if(k=='visitorMigrationServer'){q='vmf';if(s.ssl&&s.visitorMigrationServerSecure)v=''}else if(k=='visitorMigrationServerSecure'){q='vmf';if(!s.ssl&&s.visitorMigrationServer)v=''}else if(k=='charSet'){q='ce';if(v.toUpperCase()=='AUTO')v='ISO8859-1';else if(s.em==2||s.em==3)v='UTF-8'}else if(k=='visitorNamespace')q='ns';else if(k=='cookieDomainPeriods')q='cdp';else if(k=='cookieLifetime')q='cl';else if(k=='variableProvider')q='vvp';else if(k=='currencyCode')q='cc';else if(k=='channel')q='ch';else if(k=='transactionID')q='xact';else if(k=='campaign')q='v0';else if(k=='resolution')q='s';else if(k=='colorDepth')q='c';else if(k=='javascriptVersion')q='j';else if(k=='javaEnabled')q='v';else if(k=='cookiesEnabled')q='k';else if(k=='browserWidth')q='bw';else if(k=='browserHeight')q='bh';else if(k=='connectionType')q='ct';else if(k=='homepage')q='hp';else if(k=='plugins')q='p';else if(k=='events'){if(e)v+=(v?',':'')+e;if(fe)v=s.fs(v,fe)}else if(k=='events2')v='';else if(k=='contextData'){qs+=s.s2q('c',s[k],fv,k,0);v=''}else if(k=='lightProfileID')q='mtp';else if(k=='lightStoreForSeconds'){q='mtss';if(!s.lightProfileID)v=''}else if(k=='lightIncrementBy'){q='mti';if(!s.lightProfileID)v=''}else if(k=='retrieveLightProfiles')q='mtsr';else if(k=='deleteLightProfiles')q='mtsd';else if(k=='retrieveLightData'){if(s.retrieveLightProfiles)qs+=s.s2q('mts',s[k],fv,k,0);v=''}else if(s.num(x)){if(b=='prop')q='c'+n;else if(b=='eVar')q='v'+n;else if(b=='list')q='l'+n;else if(b=='hier'){q='h'+n;v=s.fl(v,255)}}if(v)qs+='&'+s.ape(q)+'='+(k.substring(0,3)!='pev'?s.ape(v):v)}}return qs};s.ltdf=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';var qi=h.indexOf('?');h=qi>=0?h.substring(0,qi):h;if(t&&h.substring(h.length-(t.length+1))=='.'+t)return 1;return 0};s.ltef=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';if(t&&h.indexOf(t)>=0)return 1;return 0};s.lt=function(h){var s=this,lft=s.linkDownloadFileTypes,lef=s.linkExternalFilters,lif=s.linkInternalFilters;lif=lif?lif:s.wd.location.hostname;h=h.toLowerCase();if(s.trackDownloadLinks&&lft&&s.pt(lft,',','ltdf',h))return 'd';if(s.trackExternalLinks&&h.indexOf('#')!=0&&h.indexOf('about:')!=0&&h.indexOf('javascript:')!=0&&(lef||lif)&&(!lef||s.pt(lef,',','ltef',h))&&(!lif||!s.pt(lif,',','ltef',h)))return 'e';return ''};s.lc=new Function('e','var s=s_c_il['+s._in+'],b=s.eh(this,\"onclick\");s.lnk=this;s.t();s.lnk=0;if(b)return this[b](e);return true');s.bcr=function(){var s=this;if(s.bct&&s.bce)s.bct.dispatchEvent(s.bce);if(s.bcf){if(typeof(s.bcf)=='function')s.bcf();else if(s.bct&&s.bct.href)s.d.location=s.bct.href}s.bct=s.bce=s.bcf=0};s.bc=new Function('e','if(e&&e.s_fe)return;var s=s_c_il['+s._in+'],f,tcf,t,n,nrs,a,h;if(s.d&&s.d.all&&s.d.all.cppXYctnr)return;if(!s.bbc)s.useForcedLinkTracking=0;else if(!s.useForcedLinkTracking){s.b.removeEventListener(\"click\",s.bc,true);s.bbc=s.useForcedLinkTracking=0;return}else s.b.removeEventListener(\"click\",s.bc,false);s.eo=e.srcElement?e.srcElement:e.target;nrs=s.nrs;s.t();s.eo=0;if(s.nrs>nrs&&s.useForcedLinkTracking&&e.target){a=e.target;while(a&&a!=s.b&&a.tagName.toUpperCase()!=\"A\"&&a.tagName.toUpperCase()!=\"AREA\")a=a.parentNode;if(a){h=a.href;if(h.indexOf(\"#\")==0||h.indexOf(\"about:\")==0||h.indexOf(\"javascript:\")==0)h=0;t=a.target;if(e.target.dispatchEvent&&h&&(!t||t==\"_self\"||t==\"_top\"||t==\"_parent\"||(s.wd.name&&t==s.wd.name))){tcf=new Function(\"s\",\"var x;try{n=s.d.createEvent(\\\\\"MouseEvents\\\\\")}catch(x){n=new MouseEvent}return n\");n=tcf(s);if(n){tcf=new Function(\"n\",\"e\",\"var x;try{n.initMouseEvent(\\\\\"click\\\\\",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}catch(x){n=0}return n\");n=tcf(n,e);if(n){n.s_fe=1;e.stopPropagation();if (e.stopImmediatePropagation) {e.stopImmediatePropagation();}e.preventDefault();s.bct=e.target;s.bce=n}}}}}');s.oh=function(o){var s=this,l=s.wd.location,h=o.href?o.href:'',i,j,k,p;i=h.indexOf(':');j=h.indexOf('?');k=h.indexOf('/');if(h&&(i<0||(j>=0&&i>j)||(k>=0&&i>k))){p=o.protocol&&o.protocol.length>1?o.protocol:(l.protocol?l.protocol:'');i=l.pathname.lastIndexOf('/');h=(p?p+'//':'')+(o.host?o.host:(l.host?l.host:''))+(h.substring(0,1)!='/'?l.pathname.substring(0,i<0?0:i)+'/':'')+h}return h};s.ot=function(o){var t=o.tagName;if(o.tagUrn||(o.scopeName&&o.scopeName.toUpperCase()!='HTML'))return '';t=t&&t.toUpperCase?t.toUpperCase():'';if(t=='SHAPE')t='';if(t){if((t=='INPUT'||t=='BUTTON')&&o.type&&o.type.toUpperCase)t=o.type.toUpperCase();else if(!t&&o.href)t='A';}return t};s.oid=function(o){var s=this,t=s.ot(o),p,c,n='',x=0;if(t&&!o.s_oid){p=o.protocol;c=o.onclick;if(o.href&&(t=='A'||t=='AREA')&&(!c||!p||p.toLowerCase().indexOf('javascript')<0))n=s.oh(o);else if(c){n=s.rep(s.rep(s.rep(s.rep(''+c,\"\\r\",''),\"\\n\",''),\"\\t\",''),' ','');x=2}else if(t=='INPUT'||t=='SUBMIT'){if(o.value)n=o.value;else if(o.innerText)n=o.innerText;else if(o.textContent)n=o.textContent;x=3}else if(o.src&&t=='IMAGE')n=o.src;if(n){o.s_oid=s.fl(n,100);o.s_oidt=x}}return o.s_oid};s.rqf=function(t,un){var s=this,e=t.indexOf('='),u=e>=0?t.substring(0,e):'',q=e>=0?s.epa(t.substring(e+1)):'';if(u&&q&&(','+u+',').indexOf(','+un+',')>=0){if(u!=s.un&&s.un.indexOf(',')>=0)q='&u='+u+q+'&u=0';return q}return ''};s.rq=function(un){if(!un)un=this.un;var s=this,c=un.indexOf(','),v=s.c_r('s_sq'),q='';if(c<0)return s.pt(v,'&','rqf',un);return s.pt(un,',','rq',0)};s.sqp=function(t,a){var s=this,e=t.indexOf('='),q=e<0?'':s.epa(t.substring(e+1));s.sqq[q]='';if(e>=0)s.pt(t.substring(0,e),',','sqs',q);return 0};s.sqs=function(un,q){var s=this;s.squ[un]=q;return 0};s.sq=function(q){var s=this,k='s_sq',v=s.c_r(k),x,c=0;s.sqq=new Object;s.squ=new Object;s.sqq[q]='';s.pt(v,'&','sqp',0);s.pt(s.un,',','sqs',q);v='';for(x in s.squ)if(x&&(!Object||!Object.prototype||!Object.prototype[x]))s.sqq[s.squ[x]]+=(s.sqq[s.squ[x]]?',':'')+x;for(x in s.sqq)if(x&&(!Object||!Object.prototype||!Object.prototype[x])&&s.sqq[x]&&(x==q||c<2)){v+=(v?'&':'')+s.sqq[x]+'='+s.ape(x);c++}return s.c_w(k,v,0)};s.wdl=new Function('e','var s=s_c_il['+s._in+'],r=true,b=s.eh(s.wd,\"onload\"),i,o,oc;if(b)r=this[b](e);for(i=0;i<s.d.links.length;i++){o=s.d.links[i];oc=o.onclick?\"\"+o.onclick:\"\";if((oc.indexOf(\"s_gs(\")<0||oc.indexOf(\".s_oc(\")>=0)&&oc.indexOf(\".tl(\")<0)s.eh(o,\"onclick\",0,s.lc);}return r');s.wds=function(){var s=this;if(s.apv>3&&(!s.isie||!s.ismac||s.apv>=5)){if(s.b&&s.b.attachEvent)s.b.attachEvent('onclick',s.bc);else if(s.b&&s.b.addEventListener){if(s.n&&((s.n.userAgent.indexOf('WebKit')>=0&&s.d.createEvent)||(s.n.userAgent.indexOf('Firefox/2')>=0&&s.wd.MouseEvent))){s.bbc=1;s.useForcedLinkTracking=1;s.b.addEventListener('click',s.bc,true)}s.b.addEventListener('click',s.bc,false)}else s.eh(s.wd,'onload',0,s.wdl)}};s.vs=function(x){var s=this,v=s.visitorSampling,g=s.visitorSamplingGroup,k='s_vsn_'+s.un+(g?'_'+g:''),n=s.c_r(k),e=new Date,y=e.getYear();e.setYear(y+10+(y<1900?1900:0));if(v){v*=100;if(!n){if(!s.c_w(k,x,e))return 0;n=x}if(n%10000>v)return 0}return 1};s.dyasmf=function(t,m){if(t&&m&&m.indexOf(t)>=0)return 1;return 0};s.dyasf=function(t,m){var s=this,i=t?t.indexOf('='):-1,n,x;if(i>=0&&m){var n=t.substring(0,i),x=t.substring(i+1);if(s.pt(x,',','dyasmf',m))return n}return 0};s.uns=function(){var s=this,x=s.dynamicAccountSelection,l=s.dynamicAccountList,m=s.dynamicAccountMatch,n,i;s.un=s.un.toLowerCase();if(x&&l){if(!m)m=s.wd.location.host;if(!m.toLowerCase)m=''+m;l=l.toLowerCase();m=m.toLowerCase();n=s.pt(l,';','dyasf',m);if(n)s.un=n}i=s.un.indexOf(',');s.fun=i<0?s.un:s.un.substring(0,i)};s.sa=function(un){var s=this;if(s.un&&s.mpc('sa',arguments))return;s.un=un;if(!s.oun)s.oun=un;else if((','+s.oun+',').indexOf(','+un+',')<0)s.oun+=','+un;s.uns()};s.m_i=function(n,a){var s=this,m,f=n.substring(0,1),r,l,i;if(!s.m_l)s.m_l=new Object;if(!s.m_nl)s.m_nl=new Array;m=s.m_l[n];if(!a&&m&&m._e&&!m._i)s.m_a(n);if(!m){m=new Object,m._c='s_m';m._in=s.wd.s_c_in;m._il=s._il;m._il[m._in]=m;s.wd.s_c_in++;m.s=s;m._n=n;m._l=new Array('_c','_in','_il','_i','_e','_d','_dl','s','n','_r','_g','_g1','_t','_t1','_x','_x1','_rs','_rr','_l');s.m_l[n]=m;s.m_nl[s.m_nl.length]=n}else if(m._r&&!m._m){r=m._r;r._m=m;l=m._l;for(i=0;i<l.length;i++)if(m[l[i]])r[l[i]]=m[l[i]];r._il[r._in]=r;m=s.m_l[n]=r}if(f==f.toUpperCase())s[n]=m;return m};s.m_a=new Function('n','g','e','if(!g)g=\"m_\"+n;var s=s_c_il['+s._in+'],c=s[g+\"_c\"],m,x,f=0;if(s.mpc(\"m_a\",arguments))return;if(!c)c=s.wd[\"s_\"+g+\"_c\"];if(c&&s_d)s[g]=new Function(\"s\",s_ft(s_d(c)));x=s[g];if(!x)x=s.wd[\\'s_\\'+g];if(!x)x=s.wd[g];m=s.m_i(n,1);if(x&&(!m._i||g!=\"m_\"+n)){m._i=f=1;if((\"\"+x).indexOf(\"function\")>=0)x(s);else s.m_m(\"x\",n,x,e)}m=s.m_i(n,1);if(m._dl)m._dl=m._d=0;s.dlt();return f');s.m_m=function(t,n,d,e){t='_'+t;var s=this,i,x,m,f='_'+t,r=0,u;if(s.m_l&&s.m_nl)for(i=0;i<s.m_nl.length;i++){x=s.m_nl[i];if(!n||x==n){m=s.m_i(x);u=m[t];if(u){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t](d,e);else if(d)u=m[t](d);else u=m[t]()}}if(u)r=1;u=m[t+1];if(u&&!m[f]){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t+1](d,e);else if(d)u=m[t+1](d);else u=m[t+1]()}}m[f]=1;if(u)r=1}}return r};s.m_ll=function(){var s=this,g=s.m_dl,i,o;if(g)for(i=0;i<g.length;i++){o=g[i];if(o)s.loadModule(o.n,o.u,o.d,o.l,o.e,1);g[i]=0}};s.loadModule=function(n,u,d,l,e,ln){var s=this,m=0,i,g,o=0,f1,f2,c=s.h?s.h:s.b,b,tcf;if(n){i=n.indexOf(':');if(i>=0){g=n.substring(i+1);n=n.substring(0,i)}else g=\"m_\"+n;m=s.m_i(n)}if((l||(n&&!s.m_a(n,g)))&&u&&s.d&&c&&s.d.createElement){if(d){m._d=1;m._dl=1}if(ln){if(s.ssl)u=s.rep(u,'http:','https:');i='s_s:'+s._in+':'+n+':'+g;b='var s=s_c_il['+s._in+'],o=s.d.getElementById(\"'+i+'\");if(s&&o){if(!o.l&&s.wd.'+g+'){o.l=1;if(o.i)clearTimeout(o.i);o.i=0;s.m_a(\"'+n+'\",\"'+g+'\"'+(e?',\"'+e+'\"':'')+')}';f2=b+'o.c++;if(!s.maxDelay)s.maxDelay=250;if(!o.l&&o.c<(s.maxDelay*2)/100)o.i=setTimeout(o.f2,100)}';f1=new Function('e',b+'}');tcf=new Function('s','c','i','u','f1','f2','var e,o=0;try{o=s.d.createElement(\"script\");if(o){o.type=\"text/javascript\";'+(n?'o.id=i;o.defer=true;o.onload=o.onreadystatechange=f1;o.f2=f2;o.l=0;':'')+'o.src=u;c.appendChild(o);'+(n?'o.c=0;o.i=setTimeout(f2,100)':'')+'}}catch(e){o=0}return o');o=tcf(s,c,i,u,f1,f2)}else{o=new Object;o.n=n+':'+g;o.u=u;o.d=d;o.l=l;o.e=e;g=s.m_dl;if(!g)g=s.m_dl=new Array;i=0;while(i<g.length&&g[i])i++;g[i]=o}}else if(n){m=s.m_i(n);m._e=1}return m};s.voa=function(vo,r){var s=this,l=s.va_g,i,k,v,x;for(i=0;i<l.length;i++){k=l[i];v=vo[k];if(v||vo['!'+k]){if(!r&&(k==\"contextData\"||k==\"retrieveLightData\")&&s[k])for(x in s[k])if(!v[x])v[x]=s[k][x];s[k]=v}}};s.vob=function(vo){var s=this,l=s.va_g,i,k;for(i=0;i<l.length;i++){k=l[i];vo[k]=s[k];if(!vo[k])vo['!'+k]=1}};s.dlt=new Function('var s=s_c_il['+s._in+'],d=new Date,i,vo,f=0;if(s.dll)for(i=0;i<s.dll.length;i++){vo=s.dll[i];if(vo){if(!s.m_m(\"d\")||d.getTime()-vo._t>=s.maxDelay){s.dll[i]=0;s.t(vo)}else f=1}}if(s.dli)clearTimeout(s.dli);s.dli=0;if(f){if(!s.dli)s.dli=setTimeout(s.dlt,s.maxDelay)}else s.dll=0');s.dl=function(vo){var s=this,d=new Date;if(!vo)vo=new Object;s.vob(vo);vo._t=d.getTime();if(!s.dll)s.dll=new Array;s.dll[s.dll.length]=vo;if(!s.maxDelay)s.maxDelay=250;s.dlt()};s.gfid=function(){var s=this,d='0123456789ABCDEF',k='s_fid',fid=s.c_r(k),h='',l='',i,j,m=8,n=4,e=new Date,y;if(!fid||fid.indexOf('-')<0){for(i=0;i<16;i++){j=Math.floor(Math.random()*m);h+=d.substring(j,j+1);j=Math.floor(Math.random()*n);l+=d.substring(j,j+1);m=n=16}fid=h+'-'+l;}y=e.getYear();e.setYear(y+2+(y<1900?1900:0));if(!s.c_w(k,fid,e))fid=0;return fid};s.applyADMS=function(){var s=this,vb=new Object;if(s.wd.ADMS&&!s.visitorID&&!s.admsc){if(!s.adms)s.adms=ADMS.getDefault();if(!s.admsq){s.visitorID=s.adms.getVisitorID(new Function('v','var s=s_c_il['+s._in+'],l=s.admsq,i;if(v==-1)v=0;if(v)s.visitorID=v;s.admsq=0;if(l){s.admsc=1;for(i=0;i<l.length;i++)s.t(l[i]);s.admsc=0;}'));if(!s.visitorID)s.admsq=new Array}if(s.admsq){s.vob(vb);vb['!visitorID']=0;s.admsq.push(vb);return 1}else{if(s.visitorID==-1)s.visitorID=0}}return 0};s.track=s.t=function(vo){var s=this,trk=1,tm=new Date,sed=Math&&Math.random?Math.floor(Math.random()*10000000000000):tm.getTime(),sess='s'+Math.floor(tm.getTime()/10800000)%10+sed,y=tm.getYear(),vt=tm.getDate()+'/'+tm.getMonth()+'/'+(y<1900?y+1900:y)+' '+tm.getHours()+':'+tm.getMinutes()+':'+tm.getSeconds()+' '+tm.getDay()+' '+tm.getTimezoneOffset(),tcf,tfs=s.gtfs(),ta=-1,q='',qs='',code='',vb=new Object;if(s.mpc('t',arguments))return;s.gl(s.vl_g);s.uns();s.m_ll();if(!s.td){var tl=tfs.location,a,o,i,x='',c='',v='',p='',bw='',bh='',j='1.0',k=s.c_w('s_cc','true',0)?'Y':'N',hp='',ct='',pn=0,ps;if(String&&String.prototype){j='1.1';if(j.match){j='1.2';if(tm.setUTCDate){j='1.3';if(s.isie&&s.ismac&&s.apv>=5)j='1.4';if(pn.toPrecision){j='1.5';a=new Array;if(a.forEach){j='1.6';i=0;o=new Object;tcf=new Function('o','var e,i=0;try{i=new Iterator(o)}catch(e){}return i');i=tcf(o);if(i&&i.next){j='1.7';if(a.reduce){j='1.8';if(j.trim){j='1.8.1';if(Date.parse){j='1.8.2';if(Object.create)j='1.8.5'}}}}}}}}}if(s.apv>=4)x=screen.width+'x'+screen.height;if(s.isns||s.isopera){if(s.apv>=3){v=s.n.javaEnabled()?'Y':'N';if(s.apv>=4){c=screen.pixelDepth;bw=s.wd.innerWidth;bh=s.wd.innerHeight}}s.pl=s.n.plugins}else if(s.isie){if(s.apv>=4){v=s.n.javaEnabled()?'Y':'N';c=screen.colorDepth;if(s.apv>=5){bw=s.d.documentElement.offsetWidth;bh=s.d.documentElement.offsetHeight;if(!s.ismac&&s.b){tcf=new Function('s','tl','var e,hp=0;try{s.b.addBehavior(\"#default#homePage\");hp=s.b.isHomePage(tl)?\"Y\":\"N\"}catch(e){}return hp');hp=tcf(s,tl);tcf=new Function('s','var e,ct=0;try{s.b.addBehavior(\"#default#clientCaps\");ct=s.b.connectionType}catch(e){}return ct');ct=tcf(s)}}}else r=''}if(s.pl)while(pn<s.pl.length&&pn<30){ps=s.fl(s.pl[pn].name,100)+';';if(p.indexOf(ps)<0)p+=ps;pn++}s.resolution=x;s.colorDepth=c;s.javascriptVersion=j;s.javaEnabled=v;s.cookiesEnabled=k;s.browserWidth=bw;s.browserHeight=bh;s.connectionType=ct;s.homepage=hp;s.plugins=p;s.td=1}if(vo){s.vob(vb);s.voa(vo)}s.fid=s.gfid();if(s.applyADMS())return '';if((vo&&vo._t)||!s.m_m('d')){if(s.usePlugins)s.doPlugins(s);if(!s.abort){var l=s.wd.location,r=tfs.document.referrer;if(!s.pageURL)s.pageURL=l.href?l.href:l;if(!s.referrer&&!s._1_referrer){s.referrer=r;s._1_referrer=1}s.m_m('g');if(s.lnk||s.eo){var o=s.eo?s.eo:s.lnk,p=s.pageName,w=1,t=s.ot(o),n=s.oid(o),x=o.s_oidt,h,l,i,oc;if(s.eo&&o==s.eo){while(o&&!n&&t!='BODY'){o=o.parentElement?o.parentElement:o.parentNode;if(o){t=s.ot(o);n=s.oid(o);x=o.s_oidt}}if(!n||t=='BODY')o='';if(o){oc=o.onclick?''+o.onclick:'';if((oc.indexOf('s_gs(')>=0&&oc.indexOf('.s_oc(')<0)||oc.indexOf('.tl(')>=0)o=0}}if(o){if(n)ta=o.target;h=s.oh(o);i=h.indexOf('?');h=s.linkLeaveQueryString||i<0?h:h.substring(0,i);l=s.linkName;t=s.linkType?s.linkType.toLowerCase():s.lt(h);if(t&&(h||l)){s.pe='lnk_'+(t=='d'||t=='e'?t:'o');s.pev1=(h?s.ape(h):'');s.pev2=(l?s.ape(l):'')}else trk=0;if(s.trackInlineStats){if(!p){p=s.pageURL;w=0}t=s.ot(o);i=o.sourceIndex;if(o.dataset&&o.dataset.sObjectId){s.wd.s_objectID=o.dataset.sObjectId;}else if(o.getAttribute&&o.getAttribute('data-s-object-id')){s.wd.s_objectID=o.getAttribute('data-s-object-id');}else if(s.useForcedLinkTracking){s.wd.s_objectID='';oc=o.onclick?''+o.onclick:'';if(oc){var ocb=oc.indexOf('s_objectID'),oce,ocq,ocx;if(ocb>=0){ocb+=10;while(ocb<oc.length&&(\"= \\t\\r\\n\").indexOf(oc.charAt(ocb))>=0)ocb++;if(ocb<oc.length){oce=ocb;ocq=ocx=0;while(oce<oc.length&&(oc.charAt(oce)!=';'||ocq)){if(ocq){if(oc.charAt(oce)==ocq&&!ocx)ocq=0;else if(oc.charAt(oce)==\"\\\\\")ocx=!ocx;else ocx=0;}else{ocq=oc.charAt(oce);if(ocq!='\"'&&ocq!=\"'\")ocq=0}oce++;}oc=oc.substring(ocb,oce);if(oc){o.s_soid=new Function('s','var e;try{s.wd.s_objectID='+oc+'}catch(e){}');o.s_soid(s)}}}}}if(s.gg('objectID')){n=s.gg('objectID');x=1;i=1}if(p&&n&&t)qs='&pid='+s.ape(s.fl(p,255))+(w?'&pidt='+w:'')+'&oid='+s.ape(s.fl(n,100))+(x?'&oidt='+x:'')+'&ot='+s.ape(t)+(i?'&oi='+i:'')}}else trk=0}if(trk||qs){s.sampled=s.vs(sed);if(trk){if(s.sampled)code=s.mr(sess,(vt?'&t='+s.ape(vt):'')+s.hav()+q+(qs?qs:s.rq()),0,ta);qs='';s.m_m('t');if(s.p_r)s.p_r();s.referrer=s.lightProfileID=s.retrieveLightProfiles=s.deleteLightProfiles=''}s.sq(qs)}}}else s.dl(vo);if(vo)s.voa(vb,1);s.abort=0;s.pageURLRest=s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';if(s.pg)s.wd.s_lnk=s.wd.s_eo=s.wd.s_linkName=s.wd.s_linkType='';return code};s.trackLink=s.tl=function(o,t,n,vo,f){var s=this;s.lnk=o;s.linkType=t;s.linkName=n;if(f){s.bct=o;s.bcf=f}s.t(vo)};s.trackLight=function(p,ss,i,vo){var s=this;s.lightProfileID=p;s.lightStoreForSeconds=ss;s.lightIncrementBy=i;s.t(vo)};s.setTagContainer=function(n){var s=this,l=s.wd.s_c_il,i,t,x,y;s.tcn=n;if(l)for(i=0;i<l.length;i++){t=l[i];if(t&&t._c=='s_l'&&t.tagContainerName==n){s.voa(t);if(t.lmq)for(i=0;i<t.lmq.length;i++){x=t.lmq[i];y='m_'+x.n;if(!s[y]&&!s[y+'_c']){s[y]=t[y];s[y+'_c']=t[y+'_c']}s.loadModule(x.n,x.u,x.d)}if(t.ml)for(x in t.ml)if(s[x]){y=s[x];x=t.ml[x];for(i in x)if(!Object.prototype[i]){if(typeof(x[i])!='function'||(''+x[i]).indexOf('s_c_il')<0)y[i]=x[i]}}if(t.mmq)for(i=0;i<t.mmq.length;i++){x=t.mmq[i];if(s[x.m]){y=s[x.m];if(y[x.f]&&typeof(y[x.f])=='function'){if(x.a)y[x.f].apply(y,x.a);else y[x.f].apply(y)}}}if(t.tq)for(i=0;i<t.tq.length;i++)s.t(t.tq[i]);t.s=s;return}}};s.wd=window;s.ssl=(s.wd.location.protocol.toLowerCase().indexOf('https')>=0);s.d=document;s.b=s.d.body;if(s.d.getElementsByTagName){s.h=s.d.getElementsByTagName('HEAD');if(s.h)s.h=s.h[0]}s.n=navigator;s.u=s.n.userAgent;s.ns6=s.u.indexOf('Netscape6/');var apn=s.n.appName,v=s.n.appVersion,ie=v.indexOf('MSIE '),o=s.u.indexOf('Opera '),i;if(v.indexOf('Opera')>=0||o>0)apn='Opera';s.isie=(apn=='Microsoft Internet Explorer');s.isns=(apn=='Netscape');s.isopera=(apn=='Opera');s.ismac=(s.u.indexOf('Mac')>=0);if(o>0)s.apv=parseFloat(s.u.substring(o+6));else if(ie>0){s.apv=parseInt(i=v.substring(ie+5));if(s.apv>3)s.apv=parseFloat(i)}else if(s.ns6>0)s.apv=parseFloat(s.u.substring(s.ns6+10));else s.apv=parseFloat(v);s.em=0;if(s.em.toPrecision)s.em=3;else if(String.fromCharCode){i=escape(String.fromCharCode(256)).toUpperCase();s.em=(i=='%C4%80'?2:(i=='%U0100'?1:0))}if(s.oun)s.sa(s.oun);s.sa(un);s.vl_l='timestamp,dynamicVariablePrefix,visitorID,fid,vmk,visitorMigrationKey,visitorMigrationServer,visitorMigrationServerSecure,ppu,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,pageName,pageURL,referrer,contextData,currencyCode,lightProfileID,lightStoreForSeconds,lightIncrementBy,retrieveLightProfiles,deleteLightProfiles,retrieveLightData';s.va_l=s.sp(s.vl_l,',');s.vl_mr=s.vl_m='timestamp,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,contextData,lightProfileID,lightStoreForSeconds,lightIncrementBy';s.vl_t=s.vl_l+',variableProvider,channel,server,pageType,transactionID,purchaseID,campaign,state,zip,events,events2,products,linkName,linkType';var n;for(n=1;n<=75;n++){s.vl_t+=',prop'+n+',eVar'+n;s.vl_m+=',prop'+n+',eVar'+n}for(n=1;n<=5;n++)s.vl_t+=',hier'+n;for(n=1;n<=3;n++)s.vl_t+=',list'+n;s.va_m=s.sp(s.vl_m,',');s.vl_l2=',tnt,pe,pev1,pev2,pev3,resolution,colorDepth,javascriptVersion,javaEnabled,cookiesEnabled,browserWidth,browserHeight,connectionType,homepage,pageURLRest,plugins';s.vl_t+=s.vl_l2;s.va_t=s.sp(s.vl_t,',');s.vl_g=s.vl_t+',trackingServer,trackingServerSecure,trackingServerBase,fpCookieDomainPeriods,disableBufferedRequests,mobile,visitorSampling,visitorSamplingGroup,dynamicAccountSelection,dynamicAccountList,dynamicAccountMatch,trackDownloadLinks,trackExternalLinks,trackInlineStats,linkLeaveQueryString,linkDownloadFileTypes,linkExternalFilters,linkInternalFilters,linkTrackVars,linkTrackEvents,linkNames,lnk,eo,lightTrackVars,_1_referrer,un';s.va_g=s.sp(s.vl_g,',');s.pg=pg;s.gl(s.vl_g);s.contextData=new Object;s.retrieveLightData=new Object;if(!ss)s.wds();if(pg){s.wd.s_co=function(o){return o};s.wd.s_gs=function(un){s_gi(un,1,1).t()};s.wd.s_dc=function(un){s_gi(un,1).t()}}",w=window,l=w.s_c_il,n=navigator,u=n.userAgent,v=n.appVersion,e=v.indexOf("MSIE "),m=u.indexOf("Netscape6/");if(un&&(un=un.toLowerCase(),l))for(j=0;2>j;j++)for(i=0;i<l.length;i++)if(s=l[i],x=s._c,(!x||"s_c"==x||j>0&&"s_l"==x)&&(s.oun==un||s.fs&&s.sa&&s.fs(s.oun,un))){if(s.sa&&s.sa(un),"s_c"==x)return s}else s=0;return w.s_an="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",w.s_sp=new Function("x","d","var a=new Array,i=0,j;if(x){if(x.split)a=x.split(d);else if(!d)for(i=0;i<x.length;i++)a[a.length]=x.substring(i,i+1);else while(i>=0){j=x.indexOf(d,i);a[a.length]=x.substring(i,j<0?x.length:j);i=j;if(i>=0)i+=d.length}}return a"),w.s_jn=new Function("a","d","var x='',i,j=a.length;if(a&&j>0){x=a[0];if(j>1){if(a.join)x=a.join(d);else for(i=1;i<j;i++)x+=d+a[i]}}return x"),w.s_rep=new Function("x","o","n","return s_jn(s_sp(x,o),n)"),w.s_d=new Function("x","var t='`^@$#',l=s_an,l2=new Object,x2,d,b=0,k,i=x.lastIndexOf('~~'),j,v,w;if(i>0){d=x.substring(0,i);x=x.substring(i+2);l=s_sp(l,'');for(i=0;i<62;i++)l2[l[i]]=i;t=s_sp(t,'');d=s_sp(d,'~');i=0;while(i<5){v=0;if(x.indexOf(t[i])>=0) {x2=s_sp(x,t[i]);for(j=1;j<x2.length;j++){k=x2[j].substring(0,1);w=t[i]+k;if(k!=' '){v=1;w=d[b+l2[k]]}x2[j]=w+x2[j].substring(1)}}if(v)x=s_jn(x2,'');else{w=t[i]+' ';if(x.indexOf(w)>=0)x=s_rep(x,w,t[i]);i++;b+=62}}}return x"),w.s_fe=new Function("c","return s_rep(s_rep(s_rep(c,'\\\\','\\\\\\\\'),'\"','\\\\\"'),\"\\n\",\"\\\\n\")"),w.s_fa=new Function("f","var s=f.indexOf('(')+1,e=f.indexOf(')'),a='',c;while(s>=0&&s<e){c=f.substring(s,s+1);if(c==',')a+='\",\"';else if((\"\\n\\r\\t \").indexOf(c)<0)a+=c;s++}return a?'\"'+a+'\"':a"),w.s_ft=new Function("c","c+='';var s,e,o,a,d,q,f,h,x;s=c.indexOf('=function(');while(s>=0){s++;d=1;q='';x=0;f=c.substring(s);a=s_fa(f);e=o=c.indexOf('{',s);e++;while(d>0){h=c.substring(e,e+1);if(q){if(h==q&&!x)q='';if(h=='\\\\')x=x?0:1;else x=0}else{if(h=='\"'||h==\"'\")q=h;if(h=='{')d++;if(h=='}')d--}if(d>0)e++}c=c.substring(0,s)+'new Function('+(a?a+',':'')+'\"'+s_fe(c.substring(o+1,e))+'\")'+c.substring(e+1);s=c.indexOf('=function(')}return c;"),c=s_d(c),e>0?(a=parseInt(i=v.substring(e+5)),a>3&&(a=parseFloat(i))):a=parseFloat(m>0?u.substring(m+10):v),(5>a||v.indexOf("Opera")>=0||u.indexOf("Opera")>=0)&&(c=s_ft(c)),s||(s=new Object,w.s_c_in||(w.s_c_il=new Array,w.s_c_in=0),s._il=w.s_c_il,s._in=w.s_c_in,s._il[s._in]=s,w.s_c_in++),s._c="s_c",new Function("s","un","pg","ss",c)(s,un,pg,ss),s
}function s_giqf(){var i,t,s,w=window,q=w.s_giq;if(q)for(i=0;i<q.length;i++)t=q[i],s=s_gi(t.oun),s.sa(t.un),s.setTagContainer(t.tagContainerName);w.s_giq=0}function initializeLandingPageLoader(allLandingPages,strategyName,targetElementId,isEditMode,trackingURL){if(isEditMode=CQ.Ext&&("true"==isEditMode||isEditMode===!0),window.CQ_Analytics){var LANDINGPAGE_SUFFIX=".html",toExecute=function(){var currentVisibleLandingPage=null,loadLandingPages=function(){var landingPages=new Array;if(CQ_Analytics.SegmentMgr)for(var lastBoost=0,i=0;i<allLandingPages.length;i++)if(!allLandingPages[i].segments||0==allLandingPages[i].segments.length||CQ_Analytics.SegmentMgr.resolveArray(allLandingPages[i].segments)===!0){var boost=CQ_Analytics.SegmentMgr.getMaxBoost(allLandingPages[i].segments);boost==lastBoost?landingPages.push(allLandingPages[i]):boost>lastBoost&&(landingPages=new Array,landingPages.push(allLandingPages[i]),lastBoost=boost)}if(landingPages.length>0){var landingPageToShow=landingPages[0];if(CQ_Analytics.StrategyMgr){var lp=CQ_Analytics.StrategyMgr.choose(strategyName,landingPages);null!=lp&&(landingPageToShow=lp)}if(!currentVisibleLandingPage||currentVisibleLandingPage.path!=landingPageToShow.path){var previousLandingPage=currentVisibleLandingPage;currentVisibleLandingPage=landingPageToShow;var request=CQ.shared.HTTP.get(landingPageToShow.path+LANDINGPAGE_SUFFIX),text=request.responseText,extractDiv=function(text,id){if(text&&-1!=text.indexOf('id="'+id+'"'))for(var index=text.indexOf('id="'+id+'"'),oDivIndex=text.substring(0,index).lastIndexOf("<div"),tmp=text.substring(oDivIndex),split=tmp.split(new RegExp("<div","ig")),opened=0,i=0;i<split.length;i++){opened++;for(var split2=split[i].split(new RegExp("</div","ig")),j=1;j<split2.length;j++)if(opened--,1==opened){var cDivIndex=split[i].lastIndexOf("</div")+6;return cDivIndex=tmp.indexOf(split[i])+cDivIndex,tmp=tmp.substring(0,cDivIndex),tmp=tmp.substring(tmp.indexOf(">")+1,tmp.lastIndexOf("</div"))}}return""};text=extractDiv(text,targetElementId);var target=$CQ("#"+targetElementId)[0],removeEditables=function(filter){if(isEditMode){var editables=CQ.WCM.getEditables();for(var epath in editables){var editable=editables[epath];filter&&-1==editable.path.indexOf(filter)||(editable.hide(),editable.remove())}}},node=document.createElement("div");if(node.innerHTML=text,previousLandingPage)$CQ("object",target).parent().fadeOut("slow"),$CQ("img",target).fadeOut("slow"),$CQ(target).slideUp("slow",function(){removeEditables(previousLandingPage.path,!1),$CQ(target).children().remove();target.insertBefore(node,target.firstChild);$CQ(target).slideDown("slow",function(){isEditMode&&CQ.DOM.executeScripts(CQ.Ext.get(node))})});else{{target.insertBefore(node,target.firstChild)}$CQ(target).slideDown("slow",function(){isEditMode&&CQ.DOM.executeScripts(CQ.Ext.get(node))})}try{window.CQ_trackLandingPagesStats&&trackingURL&&(CQ_Analytics.loadedLandingPagesStack||(CQ_Analytics.loadedLandingPagesStack=[],$CQ(window).unload(function(){try{var loadedLandingPages=CQ_Analytics.loadedLandingPagesStack;if(loadedLandingPages){delete CQ_Analytics.loadedLandingPagesStack;for(var url=trackingURL,i=0;i<loadedLandingPages.length;i++)url=CQ.shared.HTTP.addParameter(url,"path",loadedLandingPages[i]);CQ.shared.HTTP.get(url,function(){})}}catch(error){}})),CQ_Analytics.loadedLandingPagesStack.push(landingPageToShow.path))}catch(error){}}}else CQ_Analytics.Utils.clearElement(targetElementId),currentVisibleLandingPage=null};loadLandingPages.call(),CQ_Analytics.SegmentMgr&&CQ_Analytics.SegmentMgr.addListener("update",loadLandingPages)};CQ_Analytics.ClickstreamcloudMgr&&(CQ_Analytics.ClickstreamcloudMgr.areStoresLoaded?toExecute.call(this):CQ_Analytics.ClickstreamcloudMgr.addListener("storesloaded",toExecute))}}function resetTeaserImpressions(){CQ_Analytics.CQloadedTeasersStack=new Array}function trackTeaserImpressions(teaserTrackingUrl){window.CQ_trackTeasersStats&&CQ_Analytics.CQloadedTeasersStack.length>0&&$.ajax({type:"POST",url:teaserTrackingUrl,contentType:"application/json",data:JSON.stringify(CQ_Analytics.CQloadedTeasersStack)})}function initializeTeaserLoader(allTeasers,strategyName,targetElementId,isEditMode){if(isEditMode=CQ.Ext&&("true"==isEditMode||isEditMode===!0),window.CQ_Analytics){var toExecute=function(){var TEASER_SUFFIX="/_jcr_content/par.html",ttip=null,loadTeasers=function(){var teasers=new Array,teaser_select_teasers=new Array;if(CQ_Analytics.SegmentMgr)for(var i=0;i<allTeasers.length;i++)allTeasers[i].segments.length>0&&CQ_Analytics.SegmentMgr.resolveArray(allTeasers[i].segments,null,"OR")===!0&&(teasers.push(allTeasers[i]),"teasercriteria"==strategyName&&CQ_Analytics.SegmentMgr.resolveArray(allTeasers[i].segments,null,"OR")===!0&&teaser_select_teasers.push(allTeasers[i]));if(teasers.length>0){var teaserToShow=null;if(teaser_select_teasers.length>0&&(teasers=teaser_select_teasers),CQ_Analytics.StrategyMgr){var teas=CQ_Analytics.StrategyMgr.choose(strategyName,teasers);null!=teas&&(teaserToShow=teas,console&&console.log("Loading teaser "+teaserToShow.path+" into DIV id of "+targetElementId))}null==teaserToShow?(isEditMode&&ttip&&ttip.remove(),CQ_Analytics.Utils.clearElement(targetElementId),currentVisibleTeaser=null,console&&console.log("No teasers loaded for DIV id of "+targetElementId),$CQ("#"+targetElementId).data("status","empty")):(currentVisibleTeaser=teaserToShow,markTeaserLoaded(currentVisibleTeaser),$CQ("#"+targetElementId).data("status","show"),CQ_Analytics.Utils.loadTeaserElement(teaserToShow.path+TEASER_SUFFIX,targetElementId))}else isEditMode&&ttip&&ttip.remove(),CQ_Analytics.Utils.clearElement(targetElementId),currentVisibleTeaser=null,console&&console.log("No teasers were selected to load for "+targetElementId)};loadTeasers()};CQ_Analytics.ClickstreamcloudMgr&&(CQ_Analytics.ClickstreamcloudMgr.areStoresLoaded?toExecute.call(this):CQ_Analytics.ClickstreamcloudMgr.addListener("storesloaded",toExecute))}}function markTeaserLoaded(teaser){teaser&&CQ_Analytics.CQloadedTeasersStack&&CQ_Analytics.CQloadedTeasersStack.push(teaser)}function DropDown(el,document){this.dd=el,this.document=document,this.placeholder=this.dd.children("span"),this.opts=this.dd.find("ul > li > a"),this.val="",this.index=-1,this.initEvents()}function validateQuickFindForm(){for(var filtersToMap=["meal","type"],i=0;i<filtersToMap.length;i++)$filter=$("select[name='"+filtersToMap[i]+"']"),$filter.length>0&&""!==$filter.val()&&$("#recipeQuickfind").append("<input type='hidden' name='filter_"+$filter.val()+"' value='true'>"),$filter.remove()}function determineProviders(){if($socialLoginsToShow=$("#socialLoginsToShow"),$socialLoginsToShow.length>0){if(mdp.log("socialLoginsToShow:"+$socialLoginsToShow.val()),"0"==$socialLoginsToShow.val())return["facebook","google","yahoo","twitter"];if("1"==$socialLoginsToShow.val())return["facebook"];if("9"==$socialLoginsToShow.val())return[]}return mdp.gigya.DefaultProviders}this.JST=this.JST||{},this.JST["templates/BlogFeed.tpl"]=function(rc){{var __t,__p="";_.escape,Array.prototype.join}return __p+='<ul class="storyGroupList">\n    ',_.each(rc,function(entry){__p+='\n			<li class="sgStory clearfix">\n				<a href="'+(null==(__t=entry.link)?"":__t)+'">\n					<img src="'+(null==(__t=entry.imgLink)?"":__t)+'" width="50" align="left" class="blogAuthor" alt="'+(null==(__t=entry.author)?"":__t)+'" />'+(null==(__t=entry.title)?"":__t)+"\n				</a>\n				<p>by "+(null==(__t=entry.author)?"":__t)+" - "+(null==(__t=entry.contentSnippet)?"":__t)+"</p>\n			</li>\n    "}),__p+="\n</ul>"},this.JST["templates/slideshow_description.tpl"]=function(rc){{var __t,__p="";_.escape}return __p+='<span class="heading2">'+(null==(__t=rc.title)?"":__t)+"</span>\n"+(null==(__t=rc.text)?"":__t)+"\n"},this.JST["templates/slideshow_thumb.tpl"]=function(rc){{var __t,__p="";_.escape,Array.prototype.join}return __p+='<li>\n   <a href="#page='+(null==(__t=rc.id)?"":__t)+'">\n    ',null!=rc.video&&(__p+=' <span class="playvideoSmall"></span> '),__p+='\n       <img alt="'+(null==(__t=rc.title)?"":__t)+'" src="'+(null==(__t=rc.oneHundredSquareImageUrl)?"":__t)+'">\n       <span class="allSlideThumbText">'+(null==(__t=rc.title)?"":__t)+"</span>\n   </a>\n</li>"},this.JST["templates/supernav_featured_content.tpl"]=function(rc){{var __t,__p="";_.escape,Array.prototype.join}return __p+='<aside class="highlights">\n <h3>'+(null==(__t=rc.featuredMainHeader)?"":__t)+'</h3>\n <section class="featured">\n   <article>\n     <a href="'+(null==(__t=rc.featuredMainContent.link)?"":__t)+'" class="'+(null==(__t=-1!==rc.featuredMainContent.link.indexOf(".com/videos/")?"playButton":"")?"":__t)+'"><img src="'+(null==(__t=rc.featuredMainContent.image)?"":__t)+'" height="200" width="350" /></a>\n     <p class="title"><a href="'+(null==(__t=rc.featuredMainContent.link)?"":__t)+'">'+(null==(__t=rc.featuredMainContent.title)?"":__t)+"</a></p>\n     </article>\n </section>\n <h3>"+(null==(__t=rc.featuredSubHeader)?"":__t)+'</h3>\n <section class="popular">\n    ',_.each(rc.featuredSubContent,function(item){__p+='\n   <article>\n     <a href="'+(null==(__t=item.link)?"":__t)+'"><img src="'+(null==(__t=item.image)?"":__t)+'" height="100" width="100" /></a>\n     <p class="title"><a href="'+(null==(__t=item.link)?"":__t)+'">'+(null==(__t=item.title)?"":__t)+"</a></p>\n   </article>\n    "}),__p+="\n </section>\n</aside>"},this.JST["templates/supernav_mobile_subnav.tpl"]=function(){{var __p="";_.escape}return __p+='<nav id="subNav" class="subNavWrapper">\n    <a class="back" href="#superNav">Back</a>\n</nav>'},this.JST["templates/supernav_mobile_topnav.tpl"]=function(){{var __p="";_.escape}return __p+='<nav class="mobileNav" id="mobileNav">\n    <a href="#superNav" id="mainNavToggle" class="menuButton"><i class="icon-search"></i> Menu</a>\n    <a href="#serviceNav" id="serviceNavToggle" class="helpButton">Help</a>\n</nav>'},this.JST["templates/supernav_subnav_template.tpl"]=function(rc){{var __t,__p="";_.escape,Array.prototype.join}return __p+='<div class="subNavContainer">\n  <nav class="subNav">\n      <ul class="subLinks">\n          ',_.each(rc.subNavItems,function(item){__p+='\n          <li class="'+(null==(__t=item.isChild?"subLink":"")?"":__t)+'">\n              <a href="'+(null==(__t=item.link)?"":__t)+'">'+(null==(__t=item.name)?"":__t)+"</a>\n          </li>\n          "}),__p+="\n      </ul>\n  </nav>\n</div>"},this.JST["templates/zonefinder_form.tpl"]=function(){{var __p="";_.escape}return __p+='<div class="zoneFinder clearfix">\n    <hr class="gradient">\n    <span class="heading3 zoneFinderH">zone finder</span>\n    <div id="pf_zoneFind" class="zoneFinderQuery">\n        Enter your ZIP code to learn your USDA hardiness zone.\n\n        <a href="http://www.bhg.com/gardening/gardening-by-region/how-to-use-hardiness-zone-information/">What is this?</a>\n\n        <form name="zipToZoneForm" action="/" method="POST">\n            <input name="zipCode" value="Type ZIP code here" id="zoneFinderZipCode" class="quickFindSearchInput" onfocus="if (this.value.indexOf(\'Type ZIP code here\') &gt; -1) this.value = \'\'" type="text">\n            <span class="largeBtnLeft"><input type="submit" class="quickFindSearchSubmit largeBtn" value="go" onclick="APP.ZoneFinder.submit();return false;"></span>\n        </form>\n    </div>\n</div>\n'},this.JST["templates/zonefinder_results.tpl"]=function(rc){{var __t,__p="";_.escape}return __p+='<div class="zoneFinder clearfix">\n    <hr class="gradient">\n    <span class="heading3 zoneFinderH">zone finder</span>\n    <div class="zoneFinderResults">\n        <div>Your USDA Hardiness Zone is <strong>'+(null==(__t=rc.zone)?"":__t)+"</strong></div>\n        <div>Based on your ZIP code: <strong>"+(null==(__t=rc.zip)?"":__t)+'</strong></div>\n\n        <a href="/app/plantencyclopedia/searchResults.jsp?searchType=quick&amp;zone='+(null==(__t=rc.zone)?"":__t)+'">Find plants in zone '+(null==(__t=rc.zone)?"":__t)+'</a>\n        <a class="newQuickFind" href="/gardening/" onclick=\'APP.ZoneFinder.resetZone(); return false;\'>Enter another ZIP code</a>\n    </div>\n</div>\n'},window._g=window._g||{},_g.shared={},void 0===window.console&&(window.console={log:function(){}}),_g.shared.HTTP=new function(){var createResponse=function(){var response=new Object;return response.headers=new Object,response.body=new Object,response},getResponseFromXhr=function(request){if(!request)return null;var response=createResponse();return response.body=request.responseText,response.headers[_g.HTTP.HEADER_STATUS]=request.status,response.responseText=request.responseText,response.status=request.status,response},contextPath=null,SCRIPT_URL_REGEXP=/\/etc\/clientlibs\/.*\/shared.*\.js$/,ENCODE_PATH_REGEXP=/[^1\w-\.!~\*'\(\)\/%;:@&=\$,]/,LOGIN_TRIGGERED=!1;return{EXTENSION_HTML:".html",EXTENSION_JSON:".json",EXTENSION_RES:".res",HEADER_STATUS:"Status",HEADER_MESSAGE:"Message",HEADER_LOCATION:"Location",HEADER_PATH:"Path",PARAM_NO_CACHE:"cq_ck",get:function(url,callback,scope,suppressForbiddenCheck){if(url=_g.HTTP.getXhrHookedURL(_g.HTTP.externalize(url,!0)),void 0!=callback)return _g.$.ajax({type:"GET",url:url,complete:function(request,textStatus){var response=getResponseFromXhr(request);suppressForbiddenCheck||_g.HTTP.handleForbidden(response),callback.call(scope||this,this,"success"==textStatus,response)}});try{var request=_g.$.ajax({type:"GET",url:url,async:!1}),response=getResponseFromXhr(request);return suppressForbiddenCheck||_g.HTTP.handleForbidden(response),response}catch(e){return null}},post:function(url,callback,params,scope,suppressErrorMsg,suppressForbiddenCheck){url=_g.HTTP.externalize(url,!0);var hook=_g.HTTP.getXhrHook(url,"POST",params);if(hook&&(url=hook.url,params=hook.params),void 0!=callback)return _g.$.ajax({type:"POST",url:url,data:params,complete:function(request,textStatus){var response=_g.HTTP.buildPostResponseFromHTML(request.responseText);suppressForbiddenCheck||_g.HTTP.handleForbidden(request),callback.call(scope||this,this,"success"==textStatus,response)}});try{var request=_g.$.ajax({type:"POST",url:url,data:params,async:!1}),response=_g.HTTP.buildPostResponseFromHTML(request.responseText);return suppressForbiddenCheck||_g.HTTP.handleForbidden(request),response}catch(e){return null}},getParameter:function(url,name){var params=_g.HTTP.getParameters(url,name);return null!=params?params[0]:null},getParameters:function(url,name){var values=[];if(!name)return null;if(name=encodeURIComponent(name),-1==url.indexOf("?"))return null;var query=url.substring(url.indexOf("?")+1);if(-1==query.indexOf(name))return null;for(var queryPts=query.split("&"),i=0;i<queryPts.length;i++){var paramPts=queryPts[i].split("=");paramPts[0]==name&&values.push(paramPts.length>1?decodeURIComponent(paramPts[1]):"")}return values.length>0?values:null},addParameter:function(url,name,value){if(value&&value instanceof Array){for(var i=0;i<value.length;i++)url=_g.HTTP.addParameter(url,name,value[i]);return url}var separator=-1==url.indexOf("?")?"?":"&",hashIdx=url.indexOf("#");if(0>hashIdx)return url+separator+encodeURIComponent(name)+"="+encodeURIComponent(value);var hash=url.substring(hashIdx);return url=url.substring(0,hashIdx),url+separator+encodeURIComponent(name)+"="+encodeURIComponent(value)+hash},setParameter:function(url,name,value){return url=_g.HTTP.removeParameter(url,name),_g.HTTP.addParameter(url,name,value)},removeParameter:function(url,name){var pattern,pattern0="?"+encodeURIComponent(name)+"=",pattern1="&"+encodeURIComponent(name)+"=";if(-1!=url.indexOf(pattern0))pattern=pattern0;else{if(-1==url.indexOf(pattern1))return url;pattern=pattern1}var indexCutStart=url.indexOf(pattern),begin=url.substring(0,indexCutStart),indexCutEnd=url.indexOf("&",indexCutStart+1),end="";return-1!=indexCutEnd&&(end=url.substring(indexCutEnd),0==end.indexOf("&")&&(end=end.replace("&","?"))),begin+end},removeParameters:function(url){return-1!=url.indexOf("?")?url.substring(0,url.indexOf("?")):url},addSelector:function(url,selector,index){index||(index=0);var post="",pIndex=url.indexOf("?");-1==pIndex&&(pIndex=url.indexOf("#")),-1!=pIndex&&(post=url.substring(pIndex),url=url.substring(0,pIndex));var sIndex=url.lastIndexOf("/"),main=url.substring(sIndex);if(-1==main.indexOf("."+selector+".")){var path=url.substring(0,sIndex),obj=main.split("."),newMain="",delim="";(index>obj.length-2||-1==index)&&(index=obj.length-2);for(var i=0;i<obj.length;i++)newMain+=delim+obj[i],delim=".",index==i&&(newMain+=delim+selector);return path+newMain+post}return url},setSelector:function(url,selector,index){var post="",pIndex=url.indexOf("?");-1==pIndex&&(pIndex=url.indexOf("#")),-1!=pIndex&&(post=url.substring(pIndex),url=url.substring(0,pIndex));var selectors=_g.HTTP.getSelectors(url),ext=url.substring(url.lastIndexOf("."));url=url.substring(0,url.lastIndexOf("."));var fragment=selectors.length>0?url.replace("."+selectors.join("."),""):url;if(selectors.length>0)for(var i=0;i<selectors.length;i++)fragment+=index==i?"."+selector:"."+selectors[i];else fragment+="."+selector;return fragment+ext+post},addSelectors:function(url,selectors){var res=url;if(url&&selectors&&selectors.length)for(var i=0;i<selectors.length;i++)res=_g.HTTP.addSelector(res,selectors[i],i);return res},getAnchor:function(url){return-1!=url.indexOf("#")?url.substring(url.indexOf("#")+1):""},setAnchor:function(url,anchor){return _g.HTTP.removeAnchor(url)+"#"+anchor},removeAnchor:function(url){return-1!=url.indexOf("#")?url.substring(0,url.indexOf("#")):url},noCaching:function(url){return _g.HTTP.setParameter(url,_g.HTTP.PARAM_NO_CACHE,(new Date).valueOf())},buildPostResponseFromNode:function(node,response){if(!node)return null;void 0==response&&(response=createResponse());for(var i=0;i<node.childNodes.length;i++){var child=node.childNodes[i];child.tagName&&(child.id&&(response.headers[child.id]=child.href?child.href:child.innerHTML),response=_g.HTTP.buildPostResponseFromNode(child,response))}return response},buildPostResponseFromHTML:function(html){var response=createResponse();try{void 0!=html.responseText?html=html.responseText:"string"!=typeof html&&(html=html.toString());var div=document.createElement("div");div.innerHTML=html,response=_g.HTTP.buildPostResponseFromNode(div,response),div=null}catch(e){}return response},getCookie:function(name){var cname=encodeURIComponent(name)+"=",dc=document.cookie;if(dc.length>0){var begin=dc.indexOf(cname);if(-1!=begin){begin+=cname.length;var end=dc.indexOf(";",begin);return-1==end&&(end=dc.length),decodeURIComponent(dc.substring(begin,end))}}return null},setCookie:function(name,value,path,days,domain,secure){"number"!=typeof days&&(days=7);var date;return days>0?(date=new Date,date.setTime(date.getTime()+24*days*60*60*1e3)):date=new Date(0),document.cookie=encodeURIComponent(name)+"="+encodeURIComponent(value)+"; "+(0!=days?"expires="+date.toGMTString()+"; ":"")+(domain?"domain="+domain+"; ":"")+(path?"path="+path:"")+(secure?"; secure":""),value},clearCookie:function(name,path,domain,secure){_g.HTTP.setCookie(name,"null",path||"",-1,domain||"",secure||"")},getSchemeAndAuthority:function(url){try{if(-1==url.indexOf("://"))return"";var end=url.indexOf("/",url.indexOf("://")+3);return-1==end?url:url.substring(0,end)}catch(e){return""}},getContextPath:function(){return contextPath},detectContextPath:function(){try{if(CQURLInfo)contextPath=CQURLInfo.contextPath||"";else for(var scripts=document.getElementsByTagName("script"),i=0;i<scripts.length;i++){var path=scripts[i].src;if(path.indexOf("?")>=0&&(path=path.substring(0,path.indexOf("?"))),SCRIPT_URL_REGEXP.test(path)){path=path.replace(/.*\:[\/][\/]/,""),path=path.substring(path.indexOf("/")),path=path.replace(SCRIPT_URL_REGEXP,""),contextPath=path;break}}}catch(e){}},externalize:function(url,encode){encode&&(url=_g.HTTP.encodePathOfURI(url));try{0==url.indexOf("/")&&contextPath&&0!=url.indexOf(contextPath+"/")&&(url=contextPath+url)}catch(e){}return url},internalize:function(url,doc){doc||(doc=document);var docHost=_g.HTTP.getSchemeAndAuthority(doc.location.href),urlHost=_g.HTTP.getSchemeAndAuthority(url);return docHost==urlHost?url.substring(urlHost.length+contextPath.length):url},getPath:function(url){if(!url&&CQURLInfo.requestPath)return CQURLInfo.requestPath;url=url||window.location.href,url=_g.HTTP.internalize(url),url=_g.HTTP.removeParameters(url),url=_g.HTTP.removeAnchor(url);var i=url.indexOf(".",url.lastIndexOf("/"));return-1!=i&&(url=url.substring(0,url.indexOf(".",url.lastIndexOf("/")))),url},getSuffix:function(){return CQURLInfo.suffix?CQURLInfo.suffix:null},getSelectors:function(url){if(!url&&CQURLInfo.selectors)return CQURLInfo.selectors;var selectors=[];url=url||window.location.href,url=_g.HTTP.removeParameters(url),url=_g.HTTP.removeAnchor(url);var fragment=url.substring(url.lastIndexOf("/"));if(fragment){var split=fragment.split(".");if(split.length>2)for(var i=0;i<split.length;i++)i>0&&i<split.length-1&&selectors.push(split[i])}return selectors},getExtension:function(url){if(!url&&CQURLInfo.extension)return CQURLInfo.extension;url=_g.HTTP.removeParameters(url),url=_g.HTTP.removeAnchor(url);var pos=url.lastIndexOf(".");return 0>pos?"":(url=url.substring(pos+1),pos=url.indexOf("/"),0>pos?url:url.substring(0,pos))},encodePathOfURI:function(url){var parts,delim;return-1!=url.indexOf("?")?(parts=url.split("?"),delim="?"):-1!=url.indexOf("#")?(parts=url.split("#"),delim="#"):parts=[url],ENCODE_PATH_REGEXP.test(parts[0])&&(parts[0]=_g.HTTP.encodePath(parts[0])),parts.join(delim)},encodePath:function(path){return path=encodeURI(path).replace(/%5B/g,"[").replace(/%5D/g,"]"),path=path.replace(/\+/g,"%2B"),path=path.replace(/\?/g,"%3F"),path=path.replace(/;/g,"%3B"),path=path.replace(/#/g,"%23"),path=path.replace(/=/g,"%3D"),path=path.replace(/\$/g,"%24"),path=path.replace(/,/g,"%2C"),path=path.replace(/'/g,"%27"),path=path.replace(/"/g,"%22")},eval:function(response){"object"!=typeof response&&(response=_g.HTTP.get(response));try{return eval("("+(response.body?response.body:response.responseText)+")")}catch(e){}return null},isOkStatus:function(status){try{return 0==new String(status).indexOf("2")}catch(e){return!1}},isOk:function(response){try{return _g.HTTP.isOkStatus(response.headers[_g.HTTP.HEADER_STATUS])}catch(e){return!1}},handleForbidden:function(response,suppressLogin){try{if(403==response[_g.HTTP.HEADER_STATUS.toLowerCase()]){if(!suppressLogin&&!LOGIN_TRIGGERED){LOGIN_TRIGGERED=!0,alert(_g.I18n.get("Your request could not be completed because you have been signed out."));var l=_g.Util.getTopWindow().document.location;l.href=_g.HTTP.externalize(_g.Sling.LOGIN_URL)+"?resource="+l.pathname+encodeURIComponent(l.search)+l.hash}return!0}return!1}catch(e){return!1}},getXhrHook:function(url,method,params){if(method=method||"GET","undefined"!=typeof G_XHR_HOOK&&_g.$.isFunction(G_XHR_HOOK)){var p={url:url,method:method};return params&&(p.params=params),G_XHR_HOOK(p)}return null},getXhrHookedURL:function(url,method,params){var hook=_g.HTTP.getXhrHook(url,method,params);return hook?hook.url:url},reloadHook:function(url){return"undefined"!=typeof G_RELOAD_HOOK&&_g.$.isFunction(G_RELOAD_HOOK)&&(""!=CQURLInfo.selectorString&&(url=_g.HTTP.addSelector(url,CQURLInfo.selectorString)),url=G_RELOAD_HOOK(url)||url),url}}},_g.HTTP=_g.shared.HTTP,_g.shared.Util=new function(){return{reload:function(win,url,preventHistory){win||(win=window),url||(url=_g.HTTP.noCaching(win.location.href)),url=_g.HTTP.reloadHook(url),preventHistory?win.location.replace(url):win.location.href=url},load:function(url,preventHistory){_g.Util.reload(window,url,preventHistory)},open:function(url,win,name,options){return win||(win=window),url?(url=_g.HTTP.reloadHook(url),name||(name=""),options||(options=""),win.open(url,name,options)):void 0},htmlEncode:function(value){return value?String(value).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;"):value},htmlDecode:function(value){return value?String(value).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):value},ellipsis:function(value,length,word){if(value&&value.length>length){if(word){var vs=value.substr(0,length-2),index=Math.max(vs.lastIndexOf(" "),vs.lastIndexOf("."),vs.lastIndexOf("!"),vs.lastIndexOf("?"),vs.lastIndexOf(";"));return-1==index||length-15>index?value.substr(0,length-3)+"...":vs.substr(0,index)+"..."}return value.substr(0,length-3)+"..."}return value},patchText:function(text,snippets){if(snippets)if(_g.$.isArray(snippets))for(var i=0;i<snippets.length;i++)text=text.replace("{"+i+"}",snippets[i]);else text=text.replace("{0}",snippets);return text},eval:function(response){return _g.HTTP.eval(response)},getTopWindow:function(){var win=window;try{for(;win.parent&&win!==win.parent&&win.parent.location.href;)win=win.parent}catch(error){}return win}}},_g.Util=_g.shared.Util,_g.shared.Sling=function(){return{SELECTOR_INFINITY:".infinity",CHARSET:"_charset_",STATUS:":status",STATUS_BROWSER:"browser",OPERATION:":operation",OPERATION_DELETE:"delete",OPERATION_MOVE:"move",DELETE_SUFFIX:"@Delete",TYPEHINT_SUFFIX:"@TypeHint",COPY_SUFFIX:"@CopyFrom",MOVE_SUFFIX:"@MoveFrom",ORDER:":order",REPLACE:":replace",DESTINATION:":dest",SAVE_PARAM_PREFIX:":saveParamPrefix",IGNORE_PARAM:":ignore",REQUEST_LOGIN_PARAM:"sling:authRequestLogin",LOGIN_URL:"/system/sling/login.html",LOGOUT_URL:"/system/sling/logout.html",processBinaryData:function(value){if(value&&void 0!=value[":jcr:data"]){var o=new Object;o.size=value[":jcr:data"],o.type=value["jcr:mimeType"],o.date=value["jcr:lastModified"],value=o}return value},getContentPath:function(relPath,absPath,allowParentPaths){var path=absPath;if(path.lastIndexOf(".")>path.lastIndexOf("/")&&(path=path.substr(0,path.indexOf(".",path.lastIndexOf("/")))),relPath)if(0==relPath.indexOf("/"))path=relPath;else{if(allowParentPaths)for(;0==relPath.indexOf("../");)relPath=relPath.substring(3),path=path.substring(0,path.lastIndexOf("/"));relPath=relPath.replace("./",""),path=path+"/"+relPath}return path}}}(),_g.Sling=_g.shared.Sling,_g.shared.XSS=new function(){return{getXSSPropertyName:function(propertyName){return propertyName?_g.XSS.KEY_REGEXP.test(propertyName)?propertyName:propertyName+=_g.XSS.KEY_SUFFIX:""},getXSSRecordPropertyValue:function(rec,propertyName,ellipsisLimit){var value="";if(rec&&propertyName){var xssPropValue=rec.get(this.getXSSPropertyName(propertyName));value=xssPropValue?xssPropValue:rec.get(propertyName),ellipsisLimit&&!isNaN(ellipsisLimit)&&(value=_g.Util.ellipsis(value,ellipsisLimit,!0))}return value},getXSSTablePropertyValue:function(table,propertyName,ellipsisLimit){var value="";if(table&&propertyName){var xssPropValue=table[this.getXSSPropertyName(propertyName)];value=xssPropValue?xssPropValue:table[propertyName],ellipsisLimit&&!isNaN(ellipsisLimit)&&(value=_g.Util.ellipsis(value,ellipsisLimit,!0))}return value},getXSSValue:function(val){return val?_g.Util.htmlEncode(val):""},updatePropertyName:function(cfg,propertyName){cfg&&propertyName&&cfg[propertyName]&&cfg.xssProtect&&!cfg.xssKeepPropName&&(cfg[propertyName]=this.getXSSPropertyName(cfg[propertyName]))},xssPropertyRenderer:function(val,meta,rec,cfg){return cfg&&cfg.dataIndex&&rec&&rec.data&&rec.data[this.getXSSPropertyName(cfg.dataIndex)]?(val=rec.data[this.getXSSPropertyName(cfg.dataIndex)],cfg.ellipsisLimit&&!isNaN(cfg.ellipsisLimit)&&(val=_g.Util.ellipsis(val,cfg.ellipsisLimit,!0)),val):val?val:""}}},_g.XSS=_g.shared.XSS,_g.XSS.KEY_SUFFIX="_xss",_g.XSS.KEY_REGEXP=new RegExp(_g.XSS.KEY_SUFFIX+"$"),_g.shared.I18n=function(){var dicts=new Object,initialized=!1,urlPrefix="/libs/cq/i18n/dict.",urlSuffix=".json",currentLocale=null,languages=null;return{LOCALE_DEFAULT:"en",init:function(config){config||(config=new Object),config.locale&&_g.I18n.setLocale(config.locale),config.urlPrefix&&_g.I18n.setUrlPrefix(config.urlPrefix),config.urlSuffix&&_g.I18n.setUrlSuffix(config.urlSuffix),initialized=!0},getLocale:function(){return currentLocale?currentLocale:_g.I18n.LOCALE_DEFAULT},setLocale:function(locale){currentLocale=locale},setUrlPrefix:function(prefix){urlPrefix=prefix},setUrlSuffix:function(suffix){urlSuffix=suffix},getDictionary:function(locale){if(locale||(locale=_g.I18n.getLocale()),!dicts[locale]){var url=urlPrefix+locale+urlSuffix;try{var response=_g.HTTP.get(url);_g.HTTP.isOk(response)&&(dicts[locale]=_g.Util.eval(response))}catch(e){}dicts[locale]||(dicts[locale]={})}return dicts[locale]},getMessage:function(text,snippets,note){return this.get(text,snippets,note)},getVarMessage:function(text,note){return this.getVar(text,note)},get:function(text,snippets,note){var dict,newText,lookupText;return lookupText=note?text+" (("+note+"))":text,initialized&&(dict=_g.I18n.getDictionary()),dict&&(newText=dict[lookupText]),newText||(newText=text),_g.Util.patchText(newText,snippets)},getVar:function(text,note){return text?this.get(text,null,note):null},getLanguages:function(){if(!languages)try{var json=_g.HTTP.eval("/libs/wcm/core/resources/languages.overlay.infinity.json");_g.$.each(json,function(name,lang){lang.title=_g.I18n.getVar(lang.language),lang.title&&lang.country&&"*"!=lang.country&&(lang.title+=" ("+_g.I18n.getVar(lang.country)+")")}),languages=json}catch(e){languages={}}return languages},parseLocale:function(langCode){if(!langCode)return null;var pos=langCode.indexOf("_");0>pos&&(pos=langCode.indexOf("-"));var language,country;return 0>pos?(language=langCode,country=null):(language=langCode.substring(0,pos),country=langCode.substring(pos+1)),{code:langCode,language:language,country:country}}}}(),_g.I18n=_g.shared.I18n,_g.shared.String=new function(){return{startsWith:function(str,prefix){if(null==str||null==prefix)return null==str&&null==prefix;if(prefix.length>str.length)return!1;var sMatch=str.toString(),sSearch=prefix.toString();return 0==sMatch.indexOf(sSearch)},endsWith:function(str,suffix){return null==str||null==suffix?null==str&&null==suffix:suffix.length>str.length?!1:(str=str.toString(),suffix=suffix.toString(),str.lastIndexOf(suffix)==str.length-suffix.length)},contains:function(str,searchStr){return null==str||null==searchStr?!1:(str=str.toString(),searchStr=searchStr.toString(),str.indexOf(searchStr)>=0)}}},_g.String=_g.shared.String,_g.HTTP.detectContextPath(),_g.I18n.init(),window.CQ=window.CQ||{},CQ.shared=_g.shared,CQ.Sling=CQ.shared.Sling,CQ.I18n=CQ.shared.I18n,G_XHR_HOOK="undefined"!=typeof CQ_XHR_HOOK?CQ_XHR_HOOK:void 0,G_XHR_RELOAD="undefined"!=typeof CQ_RELOAD_HOOK?CQ_RELOAD_HOOK:void 0,G_CONTENT_PATH="undefined"!=typeof CQ_CONTENT_PATH?CQ_CONTENT_PATH:void 0,CQ.shared.User||(CQ.shared.User=function(){return{data:null,language:null,userPropsPath:null,getUserPropsUrl:function(){return this.userPropsPath||(this.userPropsPath=CQ.shared.User.PROXY_URI),this.userPropsPath},init:function(){return{userID:"anonymous",userName:"anonymous",userName_xss:"anonymous",home:"/home/users/a/anonymous",impersonated:!1,allowedApps:[],preferences:{}}},getLanguage:function(){return this.language=this.data&&this.data.preferences&&this.data.preferences.language?this.data.preferences.language:"en",this.language}}}(),CQ.shared.User.PROXY_URI=CQ.shared.HTTP.externalize("/services/profile"),CQ.shared.User.init()),function(window,undefined){function createFlags(flags){var i,length,object=flagsCache[flags]={};for(flags=flags.split(/\s+/),i=0,length=flags.length;length>i;i++)object[flags[i]]=!0;return object}function dataAttr(elem,key,data){if(data===undefined&&1===elem.nodeType){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();if(data=elem.getAttribute(name),"string"==typeof data){try{data="true"===data?!0:"false"===data?!1:"null"===data?null:jQuery.isNumeric(data)?parseFloat(data):rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}jQuery.data(elem,key,data)}else data=undefined}return data}function isEmptyDataObject(obj){for(var name in obj)if(("data"!==name||!jQuery.isEmptyObject(obj[name]))&&"toJSON"!==name)return!1;return!0}function handleQueueMarkDefer(elem,type,src){var deferDataKey=type+"defer",queueDataKey=type+"queue",markDataKey=type+"mark",defer=jQuery._data(elem,deferDataKey);
!defer||"queue"!==src&&jQuery._data(elem,queueDataKey)||"mark"!==src&&jQuery._data(elem,markDataKey)||setTimeout(function(){jQuery._data(elem,queueDataKey)||jQuery._data(elem,markDataKey)||(jQuery.removeData(elem,deferDataKey,!0),defer.fire())},0)}function returnFalse(){return!1}function returnTrue(){return!0}function isDisconnected(node){return!node||!node.parentNode||11===node.parentNode.nodeType}function winnow(elements,qualifier,keep){if(qualifier=qualifier||0,jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){var retVal=!!qualifier.call(elem,i,elem);return retVal===keep});if(qualifier.nodeType)return jQuery.grep(elements,function(elem){return elem===qualifier===keep});if("string"==typeof qualifier){var filtered=jQuery.grep(elements,function(elem){return 1===elem.nodeType});if(isSimple.test(qualifier))return jQuery.filter(qualifier,filtered,!keep);qualifier=jQuery.filter(qualifier,filtered)}return jQuery.grep(elements,function(elem){return jQuery.inArray(elem,qualifier)>=0===keep})}function createSafeFragment(document){var list=nodeNames.split(" "),safeFrag=document.createDocumentFragment();if(safeFrag.createElement)for(;list.length;)safeFrag.createElement(list.pop());return safeFrag}function root(elem){return jQuery.nodeName(elem,"table")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function cloneCopyEvent(src,dest){if(1===dest.nodeType&&jQuery.hasData(src)){var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events){delete curData.handle,curData.events={};for(type in events)for(i=0,l=events[type].length;l>i;i++)jQuery.event.add(dest,type+(events[type][i].namespace?".":"")+events[type][i].namespace,events[type][i],events[type][i].data)}curData.data&&(curData.data=jQuery.extend({},curData.data))}}function cloneFixAttributes(src,dest){var nodeName;1===dest.nodeType&&(dest.clearAttributes&&dest.clearAttributes(),dest.mergeAttributes&&dest.mergeAttributes(src),nodeName=dest.nodeName.toLowerCase(),"object"===nodeName?dest.outerHTML=src.outerHTML:"input"!==nodeName||"checkbox"!==src.type&&"radio"!==src.type?"option"===nodeName?dest.selected=src.defaultSelected:("input"===nodeName||"textarea"===nodeName)&&(dest.defaultValue=src.defaultValue):(src.checked&&(dest.defaultChecked=dest.checked=src.checked),dest.value!==src.value&&(dest.value=src.value)),dest.removeAttribute(jQuery.expando))}function getAll(elem){return"undefined"!=typeof elem.getElementsByTagName?elem.getElementsByTagName("*"):"undefined"!=typeof elem.querySelectorAll?elem.querySelectorAll("*"):[]}function fixDefaultChecked(elem){("checkbox"===elem.type||"radio"===elem.type)&&(elem.defaultChecked=elem.checked)}function findInputs(elem){var nodeName=(elem.nodeName||"").toLowerCase();"input"===nodeName?fixDefaultChecked(elem):"script"!==nodeName&&"undefined"!=typeof elem.getElementsByTagName&&jQuery.grep(elem.getElementsByTagName("input"),fixDefaultChecked)}function evalScript(i,elem){elem.src?jQuery.ajax({url:elem.src,async:!1,dataType:"script"}):jQuery.globalEval((elem.text||elem.textContent||elem.innerHTML||"").replace(rcleanScript,"/*$0*/")),elem.parentNode&&elem.parentNode.removeChild(elem)}function getWH(elem,name,extra){var val="width"===name?elem.offsetWidth:elem.offsetHeight,which="width"===name?cssWidth:cssHeight;return val>0?("border"!==extra&&jQuery.each(which,function(){extra||(val-=parseFloat(jQuery.css(elem,"padding"+this))||0),"margin"===extra?val+=parseFloat(jQuery.css(elem,extra+this))||0:val-=parseFloat(jQuery.css(elem,"border"+this+"Width"))||0}),val+"px"):(val=curCSS(elem,name,name),(0>val||null==val)&&(val=elem.style[name]||0),val=parseFloat(val)||0,extra&&jQuery.each(which,function(){val+=parseFloat(jQuery.css(elem,"padding"+this))||0,"padding"!==extra&&(val+=parseFloat(jQuery.css(elem,"border"+this+"Width"))||0),"margin"===extra&&(val+=parseFloat(jQuery.css(elem,extra+this))||0)}),val+"px")}function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if("string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*"),jQuery.isFunction(func))for(var dataType,list,placeBefore,dataTypes=dataTypeExpression.toLowerCase().split(rspacesAjax),i=0,length=dataTypes.length;length>i;i++)dataType=dataTypes[i],placeBefore=/^\+/.test(dataType),placeBefore&&(dataType=dataType.substr(1)||"*"),list=structure[dataType]=structure[dataType]||[],list[placeBefore?"unshift":"push"](func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,dataType,inspected){dataType=dataType||options.dataTypes[0],inspected=inspected||{},inspected[dataType]=!0;for(var selection,list=structure[dataType],i=0,length=list?list.length:0,executeOnly=structure===prefilters;length>i&&(executeOnly||!selection);i++)selection=list[i](options,originalOptions,jqXHR),"string"==typeof selection&&(!executeOnly||inspected[selection]?selection=undefined:(options.dataTypes.unshift(selection),selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,selection,inspected)));return!executeOnly&&selection||inspected["*"]||(selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,"*",inspected)),selection}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)src[key]!==undefined&&((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);deep&&jQuery.extend(!0,target,deep)}function buildParams(prefix,obj,traditional,add){if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v||jQuery.isArray(v)?i:"")+"]",v,traditional,add)});else if(traditional||null==obj||"object"!=typeof obj)add(prefix,obj);else for(var name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}function ajaxHandleResponses(s,jqXHR,responses){var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes,responseFields=s.responseFields;for(type in responseFields)type in responses&&(jqXHR[responseFields[type]]=responses[type]);for(;"*"===dataTypes[0];)dataTypes.shift(),ct===undefined&&(ct=s.mimeType||jqXHR.getResponseHeader("content-type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}return finalDataType?(finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]):void 0}function ajaxConvert(s,response){s.dataFilter&&(response=s.dataFilter(response,s.dataType));var i,key,tmp,prev,conversion,conv,conv1,conv2,dataTypes=s.dataTypes,converters={},length=dataTypes.length,current=dataTypes[0];for(i=1;length>i;i++){if(1===i)for(key in s.converters)"string"==typeof key&&(converters[key.toLowerCase()]=s.converters[key]);if(prev=current,current=dataTypes[i],"*"===current)current=prev;else if("*"!==prev&&prev!==current){if(conversion=prev+" "+current,conv=converters[conversion]||converters["* "+current],!conv){conv2=undefined;for(conv1 in converters)if(tmp=conv1.split(" "),(tmp[0]===prev||"*"===tmp[0])&&(conv2=converters[tmp[1]+" "+current])){conv1=converters[conv1],conv1===!0?conv=conv2:conv2===!0&&(conv=conv1);break}}conv||conv2||jQuery.error("No conversion from "+conversion.replace(" "," to ")),conv!==!0&&(response=conv?conv(response):conv2(conv1(response)))}}return response}function createStandardXHR(){try{return new window.XMLHttpRequest}catch(e){}}function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function createFxNow(){return setTimeout(clearFxNow,0),fxNow=jQuery.now()}function clearFxNow(){fxNow=undefined}function genFx(type,num){var obj={};return jQuery.each(fxAttrs.concat.apply([],fxAttrs.slice(0,num)),function(){obj[this]=type}),obj}function defaultDisplay(nodeName){if(!elemdisplay[nodeName]){var body=document.body,elem=jQuery("<"+nodeName+">").appendTo(body),display=elem.css("display");elem.remove(),("none"===display||""===display)&&(iframe||(iframe=document.createElement("iframe"),iframe.frameBorder=iframe.width=iframe.height=0),body.appendChild(iframe),iframeDoc&&iframe.createElement||(iframeDoc=(iframe.contentWindow||iframe.contentDocument).document,iframeDoc.write(("CSS1Compat"===document.compatMode?"<!doctype html>":"")+"<html><body>"),iframeDoc.close()),elem=iframeDoc.createElement(nodeName),iframeDoc.body.appendChild(elem),display=jQuery.css(elem,"display"),body.removeChild(iframe)),elemdisplay[nodeName]=display}return elemdisplay[nodeName]}function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType?elem.defaultView||elem.parentWindow:!1}var document=window.document,navigator=window.navigator,location=window.location,jQuery=function(){function doScrollCheck(){if(!jQuery.isReady){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(doScrollCheck,1)}jQuery.ready()}}var rootjQuery,browserMatch,readyList,DOMContentLoaded,jQuery=function(selector,context){return new jQuery.fn.init(selector,context,rootjQuery)},_jQuery=window.jQuery,_$=window.$,quickExpr=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rnotwhite=/\S/,trimLeft=/^\s+/,trimRight=/\s+$/,rdigit=/\d/,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,rvalidchars=/^[\],:{}\s]*$/,rvalidescape=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rvalidtokens=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rwebkit=/(webkit)[ \/]([\w.]+)/,ropera=/(opera)(?:.*version)?[ \/]([\w.]+)/,rmsie=/(msie) ([\w.]+)/,rmozilla=/(mozilla)(?:.*? rv:([\w.]+))?/,rdashAlpha=/-([a-z]|[0-9])/gi,rmsPrefix=/^-ms-/,fcamelCase=function(all,letter){return(letter+"").toUpperCase()},userAgent=navigator.userAgent,toString=Object.prototype.toString,hasOwn=Object.prototype.hasOwnProperty,push=Array.prototype.push,slice=Array.prototype.slice,trim=String.prototype.trim,indexOf=Array.prototype.indexOf,class2type={};return jQuery.fn=jQuery.prototype={constructor:jQuery,init:function(selector,context,rootjQuery){var match,elem,ret,doc;if(!selector)return this;if(selector.nodeType)return this.context=this[0]=selector,this.length=1,this;if("body"===selector&&!context&&document.body)return this.context=document,this[0]=document.body,this.selector=selector,this.length=1,this;if("string"==typeof selector){if(match="<"===selector.charAt(0)&&">"===selector.charAt(selector.length-1)&&selector.length>=3?[null,selector,null]:quickExpr.exec(selector),!match||!match[1]&&context)return!context||context.jquery?(context||rootjQuery).find(selector):this.constructor(context).find(selector);if(match[1])return context=context instanceof jQuery?context[0]:context,doc=context?context.ownerDocument||context:document,ret=rsingleTag.exec(selector),ret?jQuery.isPlainObject(context)?(selector=[document.createElement(ret[1])],jQuery.fn.attr.call(selector,context,!0)):selector=[doc.createElement(ret[1])]:(ret=jQuery.buildFragment([match[1]],[doc]),selector=(ret.cacheable?jQuery.clone(ret.fragment):ret.fragment).childNodes),jQuery.merge(this,selector);if(elem=document.getElementById(match[2]),elem&&elem.parentNode){if(elem.id!==match[2])return rootjQuery.find(selector);this.length=1,this[0]=elem}return this.context=document,this.selector=selector,this}return jQuery.isFunction(selector)?rootjQuery.ready(selector):(selector.selector!==undefined&&(this.selector=selector.selector,this.context=selector.context),jQuery.makeArray(selector,this))},selector:"",jquery:"1.7",length:0,size:function(){return this.length},toArray:function(){return slice.call(this,0)},get:function(num){return null==num?this.toArray():0>num?this[this.length+num]:this[num]},pushStack:function(elems,name,selector){var ret=this.constructor();return jQuery.isArray(elems)?push.apply(ret,elems):jQuery.merge(ret,elems),ret.prevObject=this,ret.context=this.context,"find"===name?ret.selector=this.selector+(this.selector?" ":"")+selector:name&&(ret.selector=this.selector+"."+name+"("+selector+")"),ret},each:function(callback,args){return jQuery.each(this,callback,args)},ready:function(fn){return jQuery.bindReady(),readyList.add(fn),this},eq:function(i){return-1===i?this.slice(i):this.slice(i,+i+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(slice.apply(this,arguments),"slice",slice.call(arguments).join(","))},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:[].sort,splice:[].splice},jQuery.fn.init.prototype=jQuery.fn,jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[1]||{},i=2),"object"==typeof target||jQuery.isFunction(target)||(target={}),length===i&&(target=this,--i);length>i;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&jQuery.isArray(src)?src:[]):clone=src&&jQuery.isPlainObject(src)?src:{},target[name]=jQuery.extend(deep,clone,copy)):copy!==undefined&&(target[name]=copy));return target},jQuery.extend({noConflict:function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},isReady:!1,readyWait:1,holdReady:function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},ready:function(wait){if(wait===!0&&!--jQuery.readyWait||wait!==!0&&!jQuery.isReady){if(!document.body)return setTimeout(jQuery.ready,1);if(jQuery.isReady=!0,wait!==!0&&--jQuery.readyWait>0)return;readyList.fireWith(document,[jQuery]),jQuery.fn.trigger&&jQuery(document).trigger("ready").unbind("ready")}},bindReady:function(){if(!readyList){if(readyList=jQuery.Callbacks("once memory"),"complete"===document.readyState)return setTimeout(jQuery.ready,1);if(document.addEventListener)document.addEventListener("DOMContentLoaded",DOMContentLoaded,!1),window.addEventListener("load",jQuery.ready,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",DOMContentLoaded),window.attachEvent("onload",jQuery.ready);var toplevel=!1;try{toplevel=null==window.frameElement}catch(e){}document.documentElement.doScroll&&toplevel&&doScrollCheck()}}},isFunction:function(obj){return"function"===jQuery.type(obj)},isArray:Array.isArray||function(obj){return"array"===jQuery.type(obj)},isWindow:function(obj){return obj&&"object"==typeof obj&&"setInterval"in obj},isNumeric:function(obj){return null!=obj&&rdigit.test(obj)&&!isNaN(obj)},type:function(obj){return null==obj?String(obj):class2type[toString.call(obj)]||"object"},isPlainObject:function(obj){if(!obj||"object"!==jQuery.type(obj)||obj.nodeType||jQuery.isWindow(obj))return!1;try{if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var key;for(key in obj);return key===undefined||hasOwn.call(obj,key)},isEmptyObject:function(obj){for(var name in obj)return!1;return!0},error:function(msg){throw msg},parseJSON:function(data){return"string"==typeof data&&data?(data=jQuery.trim(data),window.JSON&&window.JSON.parse?window.JSON.parse(data):rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))?new Function("return "+data)():void jQuery.error("Invalid JSON: "+data)):null},parseXML:function(data){var xml,tmp;try{window.DOMParser?(tmp=new DOMParser,xml=tmp.parseFromString(data,"text/xml")):(xml=new ActiveXObject("Microsoft.XMLDOM"),xml.async="false",xml.loadXML(data))}catch(e){xml=undefined}return xml&&xml.documentElement&&!xml.getElementsByTagName("parsererror").length||jQuery.error("Invalid XML: "+data),xml},noop:function(){},globalEval:function(data){data&&rnotwhite.test(data)&&(window.execScript||function(data){window.eval.call(window,data)})(data)},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()===name.toUpperCase()},each:function(object,callback,args){var name,i=0,length=object.length,isObj=length===undefined||jQuery.isFunction(object);if(args)if(isObj){for(name in object)if(callback.apply(object[name],args)===!1)break}else for(;length>i&&callback.apply(object[i++],args)!==!1;);else if(isObj){for(name in object)if(callback.call(object[name],name,object[name])===!1)break}else for(;length>i&&callback.call(object[i],i,object[i++])!==!1;);return object},trim:trim?function(text){return null==text?"":trim.call(text)}:function(text){return null==text?"":text.toString().replace(trimLeft,"").replace(trimRight,"")},makeArray:function(array,results){var ret=results||[];if(null!=array){var type=jQuery.type(array);null==array.length||"string"===type||"function"===type||"regexp"===type||jQuery.isWindow(array)?push.call(ret,array):jQuery.merge(ret,array)}return ret},inArray:function(elem,array,i){var len;if(array){if(indexOf)return indexOf.call(array,elem,i);for(len=array.length,i=i?0>i?Math.max(0,len+i):i:0;len>i;i++)if(i in array&&array[i]===elem)return i}return-1},merge:function(first,second){var i=first.length,j=0;if("number"==typeof second.length)for(var l=second.length;l>j;j++)first[i++]=second[j];else for(;second[j]!==undefined;)first[i++]=second[j++];return first.length=i,first},grep:function(elems,callback,inv){var retVal,ret=[];inv=!!inv;for(var i=0,length=elems.length;length>i;i++)retVal=!!callback(elems[i],i),inv!==retVal&&ret.push(elems[i]);return ret},map:function(elems,callback,arg){var value,key,ret=[],i=0,length=elems.length,isArray=elems instanceof jQuery||length!==undefined&&"number"==typeof length&&(length>0&&elems[0]&&elems[length-1]||0===length||jQuery.isArray(elems));if(isArray)for(;length>i;i++)value=callback(elems[i],i,arg),null!=value&&(ret[ret.length]=value);else for(key in elems)value=callback(elems[key],key,arg),null!=value&&(ret[ret.length]=value);return ret.concat.apply([],ret)},guid:1,proxy:function(fn,context){if("string"==typeof context){var tmp=fn[context];context=fn,fn=tmp}if(!jQuery.isFunction(fn))return undefined;var args=slice.call(arguments,2),proxy=function(){return fn.apply(context,args.concat(slice.call(arguments)))};return proxy.guid=fn.guid=fn.guid||proxy.guid||jQuery.guid++,proxy},access:function(elems,key,value,exec,fn,pass){var length=elems.length;if("object"==typeof key){for(var k in key)jQuery.access(elems,k,key[k],exec,fn,value);return elems}if(value!==undefined){exec=!pass&&exec&&jQuery.isFunction(value);for(var i=0;length>i;i++)fn(elems[i],key,exec?value.call(elems[i],i,fn(elems[i],key)):value,pass);return elems}return length?fn(elems[0],key):undefined},now:function(){return(new Date).getTime()},uaMatch:function(ua){ua=ua.toLowerCase();var match=rwebkit.exec(ua)||ropera.exec(ua)||rmsie.exec(ua)||ua.indexOf("compatible")<0&&rmozilla.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}},sub:function(){function jQuerySub(selector,context){return new jQuerySub.fn.init(selector,context)}jQuery.extend(!0,jQuerySub,this),jQuerySub.superclass=this,jQuerySub.fn=jQuerySub.prototype=this(),jQuerySub.fn.constructor=jQuerySub,jQuerySub.sub=this.sub,jQuerySub.fn.init=function(selector,context){return context&&context instanceof jQuery&&!(context instanceof jQuerySub)&&(context=jQuerySub(context)),jQuery.fn.init.call(this,selector,context,rootjQuerySub)},jQuerySub.fn.init.prototype=jQuerySub.fn;var rootjQuerySub=jQuerySub(document);return jQuerySub},browser:{}}),jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()}),browserMatch=jQuery.uaMatch(userAgent),browserMatch.browser&&(jQuery.browser[browserMatch.browser]=!0,jQuery.browser.version=browserMatch.version),jQuery.browser.webkit&&(jQuery.browser.safari=!0),rnotwhite.test(" ")&&(trimLeft=/^[\s\xA0]+/,trimRight=/[\s\xA0]+$/),rootjQuery=jQuery(document),document.addEventListener?DOMContentLoaded=function(){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,!1),jQuery.ready()}:document.attachEvent&&(DOMContentLoaded=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",DOMContentLoaded),jQuery.ready())}),"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return jQuery}),jQuery}(),flagsCache={};jQuery.Callbacks=function(flags){flags=flags?flagsCache[flags]||createFlags(flags):{};var memory,firing,firingStart,firingLength,firingIndex,list=[],stack=[],add=function(args){var i,length,elem,type;for(i=0,length=args.length;length>i;i++)elem=args[i],type=jQuery.type(elem),"array"===type?add(elem):"function"===type&&(flags.unique&&self.has(elem)||list.push(elem))},fire=function(context,args){for(args=args||[],memory=!flags.memory||[context,args],firing=!0,firingIndex=firingStart||0,firingStart=0,firingLength=list.length;list&&firingLength>firingIndex;firingIndex++)if(list[firingIndex].apply(context,args)===!1&&flags.stopOnFalse){memory=!0;break}firing=!1,list&&(flags.once?memory===!0?self.disable():list=[]:stack&&stack.length&&(memory=stack.shift(),self.fireWith(memory[0],memory[1])))},self={add:function(){if(list){var length=list.length;add(arguments),firing?firingLength=list.length:memory&&memory!==!0&&(firingStart=length,fire(memory[0],memory[1]))}return this},remove:function(){if(list)for(var args=arguments,argIndex=0,argLength=args.length;argLength>argIndex;argIndex++)for(var i=0;i<list.length&&(args[argIndex]!==list[i]||(firing&&firingLength>=i&&(firingLength--,firingIndex>=i&&firingIndex--),list.splice(i--,1),!flags.unique));i++);return this},has:function(fn){if(list)for(var i=0,length=list.length;length>i;i++)if(fn===list[i])return!0;return!1},empty:function(){return list=[],this},disable:function(){return list=stack=memory=undefined,this},disabled:function(){return!list},lock:function(){return stack=undefined,memory&&memory!==!0||self.disable(),this},locked:function(){return!stack},fireWith:function(context,args){return stack&&(firing?flags.once||stack.push([context,args]):flags.once&&memory||fire(context,args)),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!memory}};return self};var sliceDeferred=[].slice;jQuery.extend({Deferred:function(func){var key,doneList=jQuery.Callbacks("once memory"),failList=jQuery.Callbacks("once memory"),progressList=jQuery.Callbacks("memory"),state="pending",lists={resolve:doneList,reject:failList,notify:progressList},promise={done:doneList.add,fail:failList.add,progress:progressList.add,state:function(){return state},isResolved:doneList.fired,isRejected:failList.fired,then:function(doneCallbacks,failCallbacks,progressCallbacks){return deferred.done(doneCallbacks).fail(failCallbacks).progress(progressCallbacks),this},always:function(){return deferred.done.apply(deferred,arguments).fail.apply(deferred,arguments)},pipe:function(fnDone,fnFail,fnProgress){return jQuery.Deferred(function(newDefer){jQuery.each({done:[fnDone,"resolve"],fail:[fnFail,"reject"],progress:[fnProgress,"notify"]},function(handler,data){var returned,fn=data[0],action=data[1];deferred[handler](jQuery.isFunction(fn)?function(){returned=fn.apply(this,arguments),returned&&jQuery.isFunction(returned.promise)?returned.promise().then(newDefer.resolve,newDefer.reject,newDefer.notify):newDefer[action+"With"](this===deferred?newDefer:this,[returned])}:newDefer[action])})}).promise()},promise:function(obj){if(null==obj)obj=promise;else for(var key in promise)obj[key]=promise[key];return obj}},deferred=promise.promise({});for(key in lists)deferred[key]=lists[key].fire,deferred[key+"With"]=lists[key].fireWith;return deferred.done(function(){state="resolved"},failList.disable,progressList.lock).fail(function(){state="rejected"},doneList.disable,progressList.lock),func&&func.call(deferred,deferred),deferred},when:function(firstParam){function resolveFunc(i){return function(value){args[i]=arguments.length>1?sliceDeferred.call(arguments,0):value,--count||deferred.resolveWith(deferred,args)}}function progressFunc(i){return function(value){pValues[i]=arguments.length>1?sliceDeferred.call(arguments,0):value,deferred.notifyWith(promise,pValues)}}var args=sliceDeferred.call(arguments,0),i=0,length=args.length,pValues=new Array(length),count=length,deferred=1>=length&&firstParam&&jQuery.isFunction(firstParam.promise)?firstParam:jQuery.Deferred(),promise=deferred.promise();if(length>1){for(;length>i;i++)args[i]&&args[i].promise&&jQuery.isFunction(args[i].promise)?args[i].promise().then(resolveFunc(i),deferred.reject,progressFunc(i)):--count;count||deferred.resolveWith(deferred,args)}else deferred!==firstParam&&deferred.resolveWith(deferred,length?[firstParam]:[]);return promise}}),jQuery.support=function(){var all,a,select,opt,input,marginDiv,support,fragment,body,testElementParent,testElement,testElementStyle,tds,eventName,i,isSupported,div=document.createElement("div"),documentElement=document.documentElement;if(div.setAttribute("className","t"),div.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/><nav></nav>",all=div.getElementsByTagName("*"),a=div.getElementsByTagName("a")[0],!all||!all.length||!a)return{};select=document.createElement("select"),opt=select.appendChild(document.createElement("option")),input=div.getElementsByTagName("input")[0],support={leadingWhitespace:3===div.firstChild.nodeType,tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/top/.test(a.getAttribute("style")),hrefNormalized:"/a"===a.getAttribute("href"),opacity:/^0.55/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,unknownElems:!!div.getElementsByTagName("nav").length,checkOn:"on"===input.value,optSelected:opt.selected,getSetAttribute:"t"!==div.className,enctype:!!document.createElement("form").enctype,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},input.checked=!0,support.noCloneChecked=input.cloneNode(!0).checked,select.disabled=!0,support.optDisabled=!opt.disabled;try{delete div.test}catch(e){support.deleteExpando=!1}!div.addEventListener&&div.attachEvent&&div.fireEvent&&(div.attachEvent("onclick",function(){support.noCloneEvent=!1}),div.cloneNode(!0).fireEvent("onclick")),input=document.createElement("input"),input.value="t",input.setAttribute("type","radio"),support.radioValue="t"===input.value,input.setAttribute("checked","checked"),div.appendChild(input),fragment=document.createDocumentFragment(),fragment.appendChild(div.lastChild),support.checkClone=fragment.cloneNode(!0).cloneNode(!0).lastChild.checked,div.innerHTML="",div.style.width=div.style.paddingLeft="1px",body=document.getElementsByTagName("body")[0],testElement=document.createElement(body?"div":"body"),testElementStyle={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},body&&jQuery.extend(testElementStyle,{position:"absolute",left:"-999px",top:"-999px"});for(i in testElementStyle)testElement.style[i]=testElementStyle[i];if(testElement.appendChild(div),testElementParent=body||documentElement,testElementParent.insertBefore(testElement,testElementParent.firstChild),support.appendChecked=input.checked,support.boxModel=2===div.offsetWidth,"zoom"in div.style&&(div.style.display="inline",div.style.zoom=1,support.inlineBlockNeedsLayout=2===div.offsetWidth,div.style.display="",div.innerHTML="<div style='width:4px;'></div>",support.shrinkWrapBlocks=2!==div.offsetWidth),div.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",tds=div.getElementsByTagName("td"),isSupported=0===tds[0].offsetHeight,tds[0].style.display="",tds[1].style.display="none",support.reliableHiddenOffsets=isSupported&&0===tds[0].offsetHeight,div.innerHTML="",document.defaultView&&document.defaultView.getComputedStyle&&(marginDiv=document.createElement("div"),marginDiv.style.width="0",marginDiv.style.marginRight="0",div.appendChild(marginDiv),support.reliableMarginRight=0===(parseInt((document.defaultView.getComputedStyle(marginDiv,null)||{marginRight:0}).marginRight,10)||0)),div.attachEvent)for(i in{submit:1,change:1,focusin:1})eventName="on"+i,isSupported=eventName in div,isSupported||(div.setAttribute(eventName,"return;"),isSupported="function"==typeof div[eventName]),support[i+"Bubbles"]=isSupported;return jQuery(function(){var container,outer,inner,td,offsetSupport,conMarginTop=1,ptlm="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",vb="visibility:hidden;border:0;",style="style='"+ptlm+"border:5px solid #000;padding:0;'",html="<div "+style+"><div></div></div><table "+style+" cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";body=document.getElementsByTagName("body")[0],body&&(container=document.createElement("div"),container.style.cssText=vb+"width:0;height:0;position:static;top:0;margin-top:"+conMarginTop+"px",body.insertBefore(container,body.firstChild),testElement=document.createElement("div"),testElement.style.cssText=ptlm+vb,testElement.innerHTML=html,container.appendChild(testElement),outer=testElement.firstChild,inner=outer.firstChild,td=outer.nextSibling.firstChild.firstChild,offsetSupport={doesNotAddBorder:5!==inner.offsetTop,doesAddBorderForTableAndCells:5===td.offsetTop},inner.style.position="fixed",inner.style.top="20px",offsetSupport.fixedPosition=20===inner.offsetTop||15===inner.offsetTop,inner.style.position=inner.style.top="",outer.style.overflow="hidden",outer.style.position="relative",offsetSupport.subtractsBorderForOverflowNotVisible=-5===inner.offsetTop,offsetSupport.doesNotIncludeMarginInBodyOffset=body.offsetTop!==conMarginTop,body.removeChild(container),testElement=container=null,jQuery.extend(support,offsetSupport))}),testElement.innerHTML="",testElementParent.removeChild(testElement),testElement=fragment=select=opt=body=marginDiv=div=input=null,support}(),jQuery.boxModel=jQuery.support.boxModel;var rbrace=/^(?:\{.*\}|\[.*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({cache:{},uuid:0,expando:"jQuery"+(jQuery.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(elem){return elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando],!!elem&&!isEmptyDataObject(elem)},data:function(elem,name,data,pvt){if(jQuery.acceptData(elem)){var privateCache,thisCache,ret,getByName=(jQuery.expando,"string"==typeof name),isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:elem[jQuery.expando]&&jQuery.expando,isEvents="events"===name;if(id&&cache[id]&&(isEvents||pvt||cache[id].data)||!getByName||data!==undefined)return id||(isNode?elem[jQuery.expando]=id=++jQuery.uuid:id=jQuery.expando),cache[id]||(cache[id]={},isNode||(cache[id].toJSON=jQuery.noop)),("object"==typeof name||"function"==typeof name)&&(pvt?cache[id]=jQuery.extend(cache[id],name):cache[id].data=jQuery.extend(cache[id].data,name)),privateCache=thisCache=cache[id],pvt||(thisCache.data||(thisCache.data={}),thisCache=thisCache.data),data!==undefined&&(thisCache[jQuery.camelCase(name)]=data),isEvents&&!thisCache[name]?privateCache.events:(getByName?(ret=thisCache[name],null==ret&&(ret=thisCache[jQuery.camelCase(name)])):ret=thisCache,ret)}},removeData:function(elem,name,pvt){if(jQuery.acceptData(elem)){var thisCache,i,l,isNode=(jQuery.expando,elem.nodeType),cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:jQuery.expando;if(cache[id]){if(name&&(thisCache=pvt?cache[id]:cache[id].data)){jQuery.isArray(name)?name=name:name in thisCache?name=[name]:(name=jQuery.camelCase(name),name=name in thisCache?[name]:name.split(" "));
for(i=0,l=name.length;l>i;i++)delete thisCache[name[i]];if(!(pvt?isEmptyDataObject:jQuery.isEmptyObject)(thisCache))return}(pvt||(delete cache[id].data,isEmptyDataObject(cache[id])))&&(jQuery.support.deleteExpando||!cache.setInterval?delete cache[id]:cache[id]=null,isNode&&(jQuery.support.deleteExpando?delete elem[jQuery.expando]:elem.removeAttribute?elem.removeAttribute(jQuery.expando):elem[jQuery.expando]=null))}}},_data:function(elem,name,data){return jQuery.data(elem,name,data,!0)},acceptData:function(elem){if(elem.nodeName){var match=jQuery.noData[elem.nodeName.toLowerCase()];if(match)return!(match===!0||elem.getAttribute("classid")!==match)}return!0}}),jQuery.fn.extend({data:function(key,value){var parts,attr,name,data=null;if("undefined"==typeof key){if(this.length&&(data=jQuery.data(this[0]),1===this[0].nodeType&&!jQuery._data(this[0],"parsedAttrs"))){attr=this[0].attributes;for(var i=0,l=attr.length;l>i;i++)name=attr[i].name,0===name.indexOf("data-")&&(name=jQuery.camelCase(name.substring(5)),dataAttr(this[0],name,data[name]));jQuery._data(this[0],"parsedAttrs",!0)}return data}return"object"==typeof key?this.each(function(){jQuery.data(this,key)}):(parts=key.split("."),parts[1]=parts[1]?"."+parts[1]:"",value===undefined?(data=this.triggerHandler("getData"+parts[1]+"!",[parts[0]]),data===undefined&&this.length&&(data=jQuery.data(this[0],key),data=dataAttr(this[0],key,data)),data===undefined&&parts[1]?this.data(parts[0]):data):this.each(function(){var $this=jQuery(this),args=[parts[0],value];$this.triggerHandler("setData"+parts[1]+"!",args),jQuery.data(this,key,value),$this.triggerHandler("changeData"+parts[1]+"!",args)}))},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}}),jQuery.extend({_mark:function(elem,type){elem&&(type=(type||"fx")+"mark",jQuery._data(elem,type,(jQuery._data(elem,type)||0)+1))},_unmark:function(force,elem,type){if(force!==!0&&(type=elem,elem=force,force=!1),elem){type=type||"fx";var key=type+"mark",count=force?0:(jQuery._data(elem,key)||1)-1;count?jQuery._data(elem,key,count):(jQuery.removeData(elem,key,!0),handleQueueMarkDefer(elem,type,"mark"))}},queue:function(elem,type,data){var q;return elem?(type=(type||"fx")+"queue",q=jQuery._data(elem,type),data&&(!q||jQuery.isArray(data)?q=jQuery._data(elem,type,jQuery.makeArray(data)):q.push(data)),q||[]):void 0},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),fn=queue.shift(),hooks={};"inprogress"===fn&&(fn=queue.shift()),fn&&("fx"===type&&queue.unshift("inprogress"),jQuery._data(elem,type+".run",hooks),fn.call(elem,function(){jQuery.dequeue(elem,type)},hooks)),queue.length||(jQuery.removeData(elem,type+"queue "+type+".run",!0),handleQueueMarkDefer(elem,type,"queue"))}}),jQuery.fn.extend({queue:function(type,data){return"string"!=typeof type&&(data=type,type="fx"),data===undefined?jQuery.queue(this[0],type):this.each(function(){var queue=jQuery.queue(this,type,data);"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},delay:function(time,type){return time=jQuery.fx?jQuery.fx.speeds[time]||time:time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,object){function resolve(){--count||defer.resolveWith(elements,[elements])}"string"!=typeof type&&(object=type,type=undefined),type=type||"fx";for(var tmp,defer=jQuery.Deferred(),elements=this,i=elements.length,count=1,deferDataKey=type+"defer",queueDataKey=type+"queue",markDataKey=type+"mark";i--;)(tmp=jQuery.data(elements[i],deferDataKey,undefined,!0)||(jQuery.data(elements[i],queueDataKey,undefined,!0)||jQuery.data(elements[i],markDataKey,undefined,!0))&&jQuery.data(elements[i],deferDataKey,jQuery.Callbacks("once memory"),!0))&&(count++,tmp.add(resolve));return resolve(),defer.promise()}});var nodeHook,boolHook,fixSpecified,rclass=/[\n\t\r]/g,rspace=/\s+/,rreturn=/\r/g,rtype=/^(?:button|input)$/i,rfocusable=/^(?:button|input|object|select|textarea)$/i,rclickable=/^a(?:rea)?$/i,rboolean=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,getSetAttribute=jQuery.support.getSetAttribute;jQuery.fn.extend({attr:function(name,value){return jQuery.access(this,name,value,!0,jQuery.attr)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})},prop:function(name,value){return jQuery.access(this,name,value,!0,jQuery.prop)},removeProp:function(name){return name=jQuery.propFix[name]||name,this.each(function(){try{this[name]=undefined,delete this[name]}catch(e){}})},addClass:function(value){var classNames,i,l,elem,setClass,c,cl;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))});if(value&&"string"==typeof value)for(classNames=value.split(rspace),i=0,l=this.length;l>i;i++)if(elem=this[i],1===elem.nodeType)if(elem.className||1!==classNames.length){for(setClass=" "+elem.className+" ",c=0,cl=classNames.length;cl>c;c++)~setClass.indexOf(" "+classNames[c]+" ")||(setClass+=classNames[c]+" ");elem.className=jQuery.trim(setClass)}else elem.className=value;return this},removeClass:function(value){var classNames,i,l,elem,className,c,cl;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))});if(value&&"string"==typeof value||value===undefined)for(classNames=(value||"").split(rspace),i=0,l=this.length;l>i;i++)if(elem=this[i],1===elem.nodeType&&elem.className)if(value){for(className=(" "+elem.className+" ").replace(rclass," "),c=0,cl=classNames.length;cl>c;c++)className=className.replace(" "+classNames[c]+" "," ");elem.className=jQuery.trim(className)}else elem.className="";return this},toggleClass:function(value,stateVal){var type=typeof value,isBool="boolean"==typeof stateVal;return this.each(jQuery.isFunction(value)?function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)}:function(){if("string"===type)for(var className,i=0,self=jQuery(this),state=stateVal,classNames=value.split(rspace);className=classNames[i++];)state=isBool?state:!self.hasClass(className),self[state?"addClass":"removeClass"](className);else("undefined"===type||"boolean"===type)&&(this.className&&jQuery._data(this,"__className__",this.className),this.className=this.className||value===!1?"":jQuery._data(this,"__className__")||"")})},hasClass:function(selector){for(var className=" "+selector+" ",i=0,l=this.length;l>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>-1)return!0;return!1},val:function(value){var hooks,ret,isFunction,elem=this[0];return arguments.length?(isFunction=jQuery.isFunction(value),this.each(function(i){var val,self=jQuery(this);1===this.nodeType&&(val=isFunction?value.call(this,i,self.val()):value,null==val?val="":"number"==typeof val?val+="":jQuery.isArray(val)&&(val=jQuery.map(val,function(value){return null==value?"":value+""})),hooks=jQuery.valHooks[this.nodeName.toLowerCase()]||jQuery.valHooks[this.type],hooks&&"set"in hooks&&hooks.set(this,val,"value")!==undefined||(this.value=val))})):elem?(hooks=jQuery.valHooks[elem.nodeName.toLowerCase()]||jQuery.valHooks[elem.type],hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined?ret:(ret=elem.value,"string"==typeof ret?ret.replace(rreturn,""):null==ret?"":ret)):undefined}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=elem.attributes.value;return!val||val.specified?elem.value:elem.text}},select:{get:function(elem){var value,i,max,option,index=elem.selectedIndex,values=[],options=elem.options,one="select-one"===elem.type;if(0>index)return null;for(i=one?index:0,max=one?index+1:options.length;max>i;i++)if(option=options[i],!(!option.selected||(jQuery.support.optDisabled?option.disabled:null!==option.getAttribute("disabled"))||option.parentNode.disabled&&jQuery.nodeName(option.parentNode,"optgroup"))){if(value=jQuery(option).val(),one)return value;values.push(value)}return one&&!values.length&&options.length?jQuery(options[index]).val():values},set:function(elem,value){var values=jQuery.makeArray(value);return jQuery(elem).find("option").each(function(){this.selected=jQuery.inArray(jQuery(this).val(),values)>=0}),values.length||(elem.selectedIndex=-1),values}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(elem,name,value,pass){var ret,hooks,notxml,nType=elem.nodeType;return elem&&3!==nType&&8!==nType&&2!==nType?pass&&name in jQuery.attrFn?jQuery(elem)[name](value):"getAttribute"in elem?(notxml=1!==nType||!jQuery.isXMLDoc(elem),notxml&&(name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(rboolean.test(name)?boolHook:nodeHook)),value!==undefined?null===value?(jQuery.removeAttr(elem,name),undefined):hooks&&"set"in hooks&&notxml&&(ret=hooks.set(elem,value,name))!==undefined?ret:(elem.setAttribute(name,""+value),value):hooks&&"get"in hooks&&notxml&&null!==(ret=hooks.get(elem,name))?ret:(ret=elem.getAttribute(name),null===ret?undefined:ret)):jQuery.prop(elem,name,value):undefined},removeAttr:function(elem,value){var propName,attrNames,name,l,i=0;if(1===elem.nodeType)for(attrNames=(value||"").split(rspace),l=attrNames.length;l>i;i++)name=attrNames[i].toLowerCase(),propName=jQuery.propFix[name]||name,jQuery.attr(elem,name,""),elem.removeAttribute(getSetAttribute?name:propName),rboolean.test(name)&&propName in elem&&(elem[propName]=!1)},attrHooks:{type:{set:function(elem,value){if(rtype.test(elem.nodeName)&&elem.parentNode)jQuery.error("type property can't be changed");else if(!jQuery.support.radioValue&&"radio"===value&&jQuery.nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}},value:{get:function(elem,name){return nodeHook&&jQuery.nodeName(elem,"button")?nodeHook.get(elem,name):name in elem?elem.value:null},set:function(elem,value,name){return nodeHook&&jQuery.nodeName(elem,"button")?nodeHook.set(elem,value,name):void(elem.value=value)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;return elem&&3!==nType&&8!==nType&&2!==nType?(notxml=1!==nType||!jQuery.isXMLDoc(elem),notxml&&(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),value!==undefined?hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]):undefined},propHooks:{tabIndex:{get:function(elem){var attributeNode=elem.getAttributeNode("tabindex");return attributeNode&&attributeNode.specified?parseInt(attributeNode.value,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined}}}}),jQuery.attrHooks.tabindex=jQuery.propHooks.tabIndex,boolHook={get:function(elem,name){var attrNode,property=jQuery.prop(elem,name);return property===!0||"boolean"!=typeof property&&(attrNode=elem.getAttributeNode(name))&&attrNode.nodeValue!==!1?name.toLowerCase():undefined},set:function(elem,value,name){var propName;return value===!1?jQuery.removeAttr(elem,name):(propName=jQuery.propFix[name]||name,propName in elem&&(elem[propName]=!0),elem.setAttribute(name,name.toLowerCase())),name}},getSetAttribute||(fixSpecified={name:!0,id:!0},nodeHook=jQuery.valHooks.button={get:function(elem,name){var ret;return ret=elem.getAttributeNode(name),ret&&(fixSpecified[name]?""!==ret.nodeValue:ret.specified)?ret.nodeValue:undefined},set:function(elem,value,name){var ret=elem.getAttributeNode(name);return ret||(ret=document.createAttribute(name),elem.setAttributeNode(ret)),ret.nodeValue=value+""}},jQuery.attrHooks.tabindex.set=nodeHook.set,jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{set:function(elem,value){return""===value?(elem.setAttribute(name,"auto"),value):void 0}})}),jQuery.attrHooks.contenteditable={get:nodeHook.get,set:function(elem,value,name){""===value&&(value="false"),nodeHook.set(elem,value,name)}}),jQuery.support.hrefNormalized||jQuery.each(["href","src","width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{get:function(elem){var ret=elem.getAttribute(name,2);return null===ret?undefined:ret}})}),jQuery.support.style||(jQuery.attrHooks.style={get:function(elem){return elem.style.cssText.toLowerCase()||undefined},set:function(elem,value){return elem.style.cssText=""+value}}),jQuery.support.optSelected||(jQuery.propHooks.selected=jQuery.extend(jQuery.propHooks.selected,{get:function(elem){var parent=elem.parentNode;return parent&&(parent.selectedIndex,parent.parentNode&&parent.parentNode.selectedIndex),null}})),jQuery.support.enctype||(jQuery.propFix.enctype="encoding"),jQuery.support.checkOn||jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={get:function(elem){return null===elem.getAttribute("value")?"on":elem.value}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]=jQuery.extend(jQuery.valHooks[this],{set:function(elem,value){return jQuery.isArray(value)?elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0:void 0}})});var rformElems=/^(?:textarea|input|select)$/i,rtypenamespace=/^([^\.]*)?(?:\.(.+))?$/,rhoverHack=/\bhover(\.\S+)?/,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rquickIs=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,quickParse=function(selector){var quick=rquickIs.exec(selector);return quick&&(quick[1]=(quick[1]||"").toLowerCase(),quick[3]=quick[3]&&new RegExp("(?:^|\\s)"+quick[3]+"(?:\\s|$)")),quick},quickIs=function(elem,m){return!(m[1]&&elem.nodeName.toLowerCase()!==m[1]||m[2]&&elem.id!==m[2]||m[3]&&!m[3].test(elem.className))},hoverHack=function(events){return jQuery.event.special.hover?events:events.replace(rhoverHack,"mouseenter$1 mouseleave$1")};jQuery.event={add:function(elem,types,handler,data,selector){var elemData,eventHandle,events,t,tns,type,namespaces,handleObj,handleObjIn,handlers,special;if(3!==elem.nodeType&&8!==elem.nodeType&&types&&handler&&(elemData=jQuery._data(elem))){for(handler.handler&&(handleObjIn=handler,handler=handleObjIn.handler),handler.guid||(handler.guid=jQuery.guid++),events=elemData.events,events||(elemData.events=events={}),eventHandle=elemData.handle,eventHandle||(elemData.handle=eventHandle=function(e){return"undefined"==typeof jQuery||e&&jQuery.event.triggered===e.type?undefined:jQuery.event.dispatch.apply(eventHandle.elem,arguments)},eventHandle.elem=elem),types=hoverHack(types).split(" "),t=0;t<types.length;t++)tns=rtypenamespace.exec(types[t])||[],type=tns[1],namespaces=(tns[2]||"").split(".").sort(),special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:tns[1],data:data,handler:handler,guid:handler.guid,selector:selector,namespace:namespaces.join(".")},handleObjIn),selector&&(handleObj.quick=quickParse(selector),!handleObj.quick&&jQuery.expr.match.POS.test(selector)&&(handleObj.isPositional=!0)),handlers=events[type],handlers||(handlers=events[type]=[],handlers.delegateCount=0,special.setup&&special.setup.call(elem,data,namespaces,eventHandle)!==!1||(elem.addEventListener?elem.addEventListener(type,eventHandle,!1):elem.attachEvent&&elem.attachEvent("on"+type,eventHandle))),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0;elem=null}},global:{},remove:function(elem,types,handler,selector){var t,tns,type,namespaces,origCount,j,events,special,handle,eventType,handleObj,elemData=jQuery.hasData(elem)&&jQuery._data(elem);if(elemData&&(events=elemData.events)){for(types=hoverHack(types||"").split(" "),t=0;t<types.length;t++){if(tns=rtypenamespace.exec(types[t])||[],type=tns[1],namespaces=tns[2],!type){namespaces=namespaces?"."+namespaces:"";for(j in events)jQuery.event.remove(elem,j+namespaces,handler,selector);return}if(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,eventType=events[type]||[],origCount=eventType.length,namespaces=namespaces?new RegExp("(^|\\.)"+namespaces.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,handler||namespaces||selector||special.remove)for(j=0;j<eventType.length;j++)handleObj=eventType[j],handler&&handler.guid!==handleObj.guid||(!namespaces||namespaces.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||"**"===selector&&handleObj.selector)&&(eventType.splice(j--,1),handleObj.selector&&eventType.delegateCount--,special.remove&&special.remove.call(elem,handleObj));else eventType.length=0;0===eventType.length&&origCount!==eventType.length&&(special.teardown&&special.teardown.call(elem,namespaces)!==!1||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}jQuery.isEmptyObject(events)&&(handle=elemData.handle,handle&&(handle.elem=null),jQuery.removeData(elem,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(event,data,elem,onlyHandlers){if(!elem||3!==elem.nodeType&&8!==elem.nodeType){var cache,exclusive,i,cur,old,ontype,special,handle,eventPath,bubbleType,type=event.type||event,namespaces=[];if(type.indexOf("!")>=0&&(type=type.slice(0,-1),exclusive=!0),type.indexOf(".")>=0&&(namespaces=type.split("."),type=namespaces.shift(),namespaces.sort()),elem&&!jQuery.event.customEvent[type]||jQuery.event.global[type])if(event="object"==typeof event?event[jQuery.expando]?event:new jQuery.Event(type,event):new jQuery.Event(type),event.type=type,event.isTrigger=!0,event.exclusive=exclusive,event.namespace=namespaces.join("."),event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,ontype=type.indexOf(":")<0?"on"+type:"",(onlyHandlers||!elem)&&event.preventDefault(),elem){if(event.result=undefined,event.target||(event.target=elem),data=null!=data?jQuery.makeArray(data):[],data.unshift(event),special=jQuery.event.special[type]||{},!special.trigger||special.trigger.apply(elem,data)!==!1){if(eventPath=[[elem,special.bindType||type]],!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){for(bubbleType=special.delegateType||type,old=null,cur=elem.parentNode;cur;cur=cur.parentNode)eventPath.push([cur,bubbleType]),old=cur;old&&old===elem.ownerDocument&&eventPath.push([old.defaultView||old.parentWindow||window,bubbleType])}for(i=0;i<eventPath.length&&(cur=eventPath[i][0],event.type=eventPath[i][1],handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle"),handle&&handle.apply(cur,data),handle=ontype&&cur[ontype],handle&&jQuery.acceptData(cur)&&handle.apply(cur,data),!event.isPropagationStopped());i++);return event.type=type,event.isDefaultPrevented()||special._default&&special._default.apply(elem.ownerDocument,data)!==!1||"click"===type&&jQuery.nodeName(elem,"a")||!jQuery.acceptData(elem)||ontype&&elem[type]&&("focus"!==type&&"blur"!==type||0!==event.target.offsetWidth)&&!jQuery.isWindow(elem)&&(old=elem[ontype],old&&(elem[ontype]=null),jQuery.event.triggered=type,elem[type](),jQuery.event.triggered=undefined,old&&(elem[ontype]=old)),event.result}}else{cache=jQuery.cache;for(i in cache)cache[i].events&&cache[i].events[type]&&jQuery.event.trigger(event,data,cache[i].handle.elem,!0)}}},dispatch:function(event){event=jQuery.event.fix(event||window.event);var i,j,cur,ret,selMatch,matched,matches,handleObj,sel,hit,handlers=(jQuery._data(this,"events")||{})[event.type]||[],delegateCount=handlers.delegateCount,args=[].slice.call(arguments,0),run_all=!event.exclusive&&!event.namespace,specialHandle=(jQuery.event.special[event.type]||{}).handle,handlerQueue=[];if(args[0]=event,event.delegateTarget=this,delegateCount&&!event.target.disabled&&(!event.button||"click"!==event.type))for(cur=event.target;cur!=this;cur=cur.parentNode||this){for(selMatch={},matches=[],i=0;delegateCount>i;i++)handleObj=handlers[i],sel=handleObj.selector,hit=selMatch[sel],handleObj.isPositional?hit=(hit||(selMatch[sel]=jQuery(sel))).index(cur)>=0:hit===undefined&&(hit=selMatch[sel]=handleObj.quick?quickIs(cur,handleObj.quick):jQuery(cur).is(sel)),hit&&matches.push(handleObj);matches.length&&handlerQueue.push({elem:cur,matches:matches})}for(handlers.length>delegateCount&&handlerQueue.push({elem:this,matches:handlers.slice(delegateCount)}),i=0;i<handlerQueue.length&&!event.isPropagationStopped();i++)for(matched=handlerQueue[i],event.currentTarget=matched.elem,j=0;j<matched.matches.length&&!event.isImmediatePropagationStopped();j++)handleObj=matched.matches[j],(run_all||!event.namespace&&!handleObj.namespace||event.namespace_re&&event.namespace_re.test(handleObj.namespace))&&(event.data=handleObj.data,event.handleObj=handleObj,ret=(specialHandle||handleObj.handler).apply(matched.elem,args),ret!==undefined&&(event.result=ret,ret===!1&&(event.preventDefault(),event.stopPropagation())));return event.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){return null==event.which&&(event.which=null!=original.charCode?original.charCode:original.keyCode),event}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement wheelDelta".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button,fromElement=original.fromElement;return null==event.pageX&&null!=original.clientX&&(eventDoc=event.target.ownerDocument||document,doc=eventDoc.documentElement,body=eventDoc.body,event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),!event.relatedTarget&&fromElement&&(event.relatedTarget=fromElement===event.target?original.toElement:fromElement),event.which||button===undefined||(event.which=1&button?1:2&button?3:4&button?2:0),event}},fix:function(event){if(event[jQuery.expando])return event;var i,prop,originalEvent=event,fixHook=jQuery.event.fixHooks[event.type]||{},copy=fixHook.props?this.props.concat(fixHook.props):this.props;for(event=jQuery.Event(originalEvent),i=copy.length;i;)prop=copy[--i],event[prop]=originalEvent[prop];return event.target||(event.target=originalEvent.srcElement||document),3===event.target.nodeType&&(event.target=event.target.parentNode),event.metaKey===undefined&&(event.metaKey=event.ctrlKey),fixHook.filter?fixHook.filter(event,originalEvent):event},special:{ready:{setup:jQuery.bindReady},focus:{delegateType:"focusin",noBubble:!0},blur:{delegateType:"focusout",noBubble:!0},beforeunload:{setup:function(data,namespaces,eventHandle){jQuery.isWindow(this)&&(this.onbeforeunload=eventHandle)},teardown:function(namespaces,eventHandle){this.onbeforeunload===eventHandle&&(this.onbeforeunload=null)}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0,originalEvent:{}});bubble?jQuery.event.trigger(e,null,elem):jQuery.event.dispatch.call(elem,e),e.isDefaultPrevented()&&event.preventDefault()}},jQuery.event.handle=jQuery.event.dispatch,jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle,!1)}:function(elem,type,handle){elem.detachEvent&&elem.detachEvent("on"+type,handle)},jQuery.Event=function(src,props){return this instanceof jQuery.Event?(src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||src.returnValue===!1||src.getPreventDefault&&src.getPreventDefault()?returnTrue:returnFalse):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||jQuery.now(),void(this[jQuery.expando]=!0)):new jQuery.Event(src,props)},jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]=jQuery.event.special[fix]={delegateType:fix,bindType:fix,handle:function(event){{var oldType,ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;handleObj.selector}return(!related||handleObj.origType===event.type||related!==target&&!jQuery.contains(target,related))&&(oldType=event.type,event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=oldType),ret}}}),jQuery.support.submitBubbles||(jQuery.event.special.submit={setup:function(){return jQuery.nodeName(this,"form")?!1:void jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,"button")?elem.form:undefined;form&&!form._submit_attached&&(jQuery.event.add(form,"submit._submit",function(event){this.parentNode&&jQuery.event.simulate("submit",this.parentNode,event,!0)}),form._submit_attached=!0)})},teardown:function(){return jQuery.nodeName(this,"form")?!1:void jQuery.event.remove(this,"._submit")}}),jQuery.support.changeBubbles||(jQuery.event.special.change={setup:function(){return rformElems.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(jQuery.event.add(this,"propertychange._change",function(event){"checked"===event.originalEvent.propertyName&&(this._just_changed=!0)}),jQuery.event.add(this,"click._change",function(event){this._just_changed&&(this._just_changed=!1,jQuery.event.simulate("change",this,event,!0))})),!1):void jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;rformElems.test(elem.nodeName)&&!elem._change_attached&&(jQuery.event.add(elem,"change._change",function(event){this.parentNode&&!event.isSimulated&&jQuery.event.simulate("change",this.parentNode,event,!0)}),elem._change_attached=!0)})},handle:function(event){var elem=event.target;return this!==elem||event.isSimulated||event.isTrigger||"radio"!==elem.type&&"checkbox"!==elem.type?event.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return jQuery.event.remove(this,"._change"),rformElems.test(this.nodeName)}}),jQuery.support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var attaches=0,handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),!0)};jQuery.event.special[fix]={setup:function(){0===attaches++&&document.addEventListener(orig,handler,!0)},teardown:function(){0===--attaches&&document.removeEventListener(orig,handler,!0)}}}),jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if("object"==typeof types){"string"!=typeof selector&&(data=selector,selector=undefined);for(type in types)this.on(type,selector,data,types[type],one);return this}if(null==data&&null==fn?(fn=selector,data=selector=undefined):null==fn&&("string"==typeof selector?(fn=data,data=undefined):(fn=data,data=selector,selector=undefined)),fn===!1)fn=returnFalse;else if(!fn)return this;return 1===one&&(origFn=fn,fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)},fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on.call(this,types,selector,data,fn,1)},off:function(types,selector,fn){if(types&&types.preventDefault&&types.handleObj){var handleObj=types.handleObj;return jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.type+"."+handleObj.namespace:handleObj.type,handleObj.selector,handleObj.handler),this}if("object"==typeof types){for(var type in types)this.off(type,selector,types[type]);return this}return(selector===!1||"function"==typeof selector)&&(fn=selector,selector=undefined),fn===!1&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)})},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},live:function(types,data,fn){return jQuery(this.context).on(types,this.selector,data,fn),this},die:function(types,fn){return jQuery(this.context).off(types,this.selector||"**",fn),this},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1==arguments.length?this.off(selector,"**"):this.off(types,selector,fn)},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){return this[0]?jQuery.event.trigger(type,data,this[0],!0):void 0},toggle:function(fn){var args=arguments,guid=fn.guid||jQuery.guid++,i=0,toggler=function(event){var lastToggle=(jQuery._data(this,"lastToggle"+fn.guid)||0)%i;return jQuery._data(this,"lastToggle"+fn.guid,lastToggle+1),event.preventDefault(),args[lastToggle].apply(this,arguments)||!1};for(toggler.guid=guid;i<args.length;)args[i++].guid=guid;return this.click(toggler)},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return null==fn&&(fn=data,data=null),arguments.length>0?this.bind(name,data,fn):this.trigger(name)},jQuery.attrFn&&(jQuery.attrFn[name]=!0),rkeyEvent.test(name)&&(jQuery.event.fixHooks[name]=jQuery.event.keyHooks),rmouseEvent.test(name)&&(jQuery.event.fixHooks[name]=jQuery.event.mouseHooks)}),function(){function dirNodeCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;l>i;i++){var elem=checkSet[i];if(elem){var match=!1;for(elem=elem[dir];elem;){if(elem[expando]===doneName){match=checkSet[elem.sizset];break}if(1!==elem.nodeType||isXML||(elem[expando]=doneName,elem.sizset=i),elem.nodeName.toLowerCase()===cur){match=elem;break}elem=elem[dir]}checkSet[i]=match}}}function dirCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;l>i;i++){var elem=checkSet[i];if(elem){var match=!1;for(elem=elem[dir];elem;){if(elem[expando]===doneName){match=checkSet[elem.sizset];break}if(1===elem.nodeType)if(isXML||(elem[expando]=doneName,elem.sizset=i),"string"!=typeof cur){if(elem===cur){match=!0;break}}else if(Sizzle.filter(cur,[elem]).length>0){match=elem;break}elem=elem[dir]}checkSet[i]=match}}}var chunker=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,expando="sizcache"+(Math.random()+"").replace(".",""),done=0,toString=Object.prototype.toString,hasDuplicate=!1,baseHasDuplicate=!0,rBackslash=/\\/g,rReturn=/\r\n/g,rNonWord=/\W/;[0,0].sort(function(){return baseHasDuplicate=!1,0});var Sizzle=function(selector,context,results,seed){results=results||[],context=context||document;var origContext=context;if(1!==context.nodeType&&9!==context.nodeType)return[];
if(!selector||"string"!=typeof selector)return results;var m,set,checkSet,extra,ret,cur,pop,i,prune=!0,contextXML=Sizzle.isXML(context),parts=[],soFar=selector;do if(chunker.exec(""),m=chunker.exec(soFar),m&&(soFar=m[3],parts.push(m[1]),m[2])){extra=m[3];break}while(m);if(parts.length>1&&origPOS.exec(selector))if(2===parts.length&&Expr.relative[parts[0]])set=posProcess(parts[0]+parts[1],context,seed);else for(set=Expr.relative[parts[0]]?[context]:Sizzle(parts.shift(),context);parts.length;)selector=parts.shift(),Expr.relative[selector]&&(selector+=parts.shift()),set=posProcess(selector,set,seed);else if(!seed&&parts.length>1&&9===context.nodeType&&!contextXML&&Expr.match.ID.test(parts[0])&&!Expr.match.ID.test(parts[parts.length-1])&&(ret=Sizzle.find(parts.shift(),context,contextXML),context=ret.expr?Sizzle.filter(ret.expr,ret.set)[0]:ret.set[0]),context)for(ret=seed?{expr:parts.pop(),set:makeArray(seed)}:Sizzle.find(parts.pop(),1!==parts.length||"~"!==parts[0]&&"+"!==parts[0]||!context.parentNode?context:context.parentNode,contextXML),set=ret.expr?Sizzle.filter(ret.expr,ret.set):ret.set,parts.length>0?checkSet=makeArray(set):prune=!1;parts.length;)cur=parts.pop(),pop=cur,Expr.relative[cur]?pop=parts.pop():cur="",null==pop&&(pop=context),Expr.relative[cur](checkSet,pop,contextXML);else checkSet=parts=[];if(checkSet||(checkSet=set),checkSet||Sizzle.error(cur||selector),"[object Array]"===toString.call(checkSet))if(prune)if(context&&1===context.nodeType)for(i=0;null!=checkSet[i];i++)checkSet[i]&&(checkSet[i]===!0||1===checkSet[i].nodeType&&Sizzle.contains(context,checkSet[i]))&&results.push(set[i]);else for(i=0;null!=checkSet[i];i++)checkSet[i]&&1===checkSet[i].nodeType&&results.push(set[i]);else results.push.apply(results,checkSet);else makeArray(checkSet,results);return extra&&(Sizzle(extra,origContext,results,seed),Sizzle.uniqueSort(results)),results};Sizzle.uniqueSort=function(results){if(sortOrder&&(hasDuplicate=baseHasDuplicate,results.sort(sortOrder),hasDuplicate))for(var i=1;i<results.length;i++)results[i]===results[i-1]&&results.splice(i--,1);return results},Sizzle.matches=function(expr,set){return Sizzle(expr,null,null,set)},Sizzle.matchesSelector=function(node,expr){return Sizzle(expr,null,null,[node]).length>0},Sizzle.find=function(expr,context,isXML){var set,i,len,match,type,left;if(!expr)return[];for(i=0,len=Expr.order.length;len>i;i++)if(type=Expr.order[i],(match=Expr.leftMatch[type].exec(expr))&&(left=match[1],match.splice(1,1),"\\"!==left.substr(left.length-1)&&(match[1]=(match[1]||"").replace(rBackslash,""),set=Expr.find[type](match,context,isXML),null!=set))){expr=expr.replace(Expr.match[type],"");break}return set||(set="undefined"!=typeof context.getElementsByTagName?context.getElementsByTagName("*"):[]),{set:set,expr:expr}},Sizzle.filter=function(expr,set,inplace,not){for(var match,anyFound,type,found,item,filter,left,i,pass,old=expr,result=[],curLoop=set,isXMLFilter=set&&set[0]&&Sizzle.isXML(set[0]);expr&&set.length;){for(type in Expr.filter)if(null!=(match=Expr.leftMatch[type].exec(expr))&&match[2]){if(filter=Expr.filter[type],left=match[1],anyFound=!1,match.splice(1,1),"\\"===left.substr(left.length-1))continue;if(curLoop===result&&(result=[]),Expr.preFilter[type])if(match=Expr.preFilter[type](match,curLoop,inplace,result,not,isXMLFilter)){if(match===!0)continue}else anyFound=found=!0;if(match)for(i=0;null!=(item=curLoop[i]);i++)item&&(found=filter(item,match,i,curLoop),pass=not^found,inplace&&null!=found?pass?anyFound=!0:curLoop[i]=!1:pass&&(result.push(item),anyFound=!0));if(found!==undefined){if(inplace||(curLoop=result),expr=expr.replace(Expr.match[type],""),!anyFound)return[];break}}if(expr===old){if(null!=anyFound)break;Sizzle.error(expr)}old=expr}return curLoop},Sizzle.error=function(msg){throw"Syntax error, unrecognized expression: "+msg};var getText=Sizzle.getText=function(elem){var i,node,nodeType=elem.nodeType,ret="";if(nodeType){if(1===nodeType){if("string"==typeof elem.textContent)return elem.textContent;if("string"==typeof elem.innerText)return elem.innerText.replace(rReturn,"");for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(i=0;node=elem[i];i++)8!==node.nodeType&&(ret+=getText(node));return ret},Expr=Sizzle.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(elem){return elem.getAttribute("href")},type:function(elem){return elem.getAttribute("type")}},relative:{"+":function(checkSet,part){var isPartStr="string"==typeof part,isTag=isPartStr&&!rNonWord.test(part),isPartStrNotTag=isPartStr&&!isTag;isTag&&(part=part.toLowerCase());for(var elem,i=0,l=checkSet.length;l>i;i++)if(elem=checkSet[i]){for(;(elem=elem.previousSibling)&&1!==elem.nodeType;);checkSet[i]=isPartStrNotTag||elem&&elem.nodeName.toLowerCase()===part?elem||!1:elem===part}isPartStrNotTag&&Sizzle.filter(part,checkSet,!0)},">":function(checkSet,part){var elem,isPartStr="string"==typeof part,i=0,l=checkSet.length;if(isPartStr&&!rNonWord.test(part)){for(part=part.toLowerCase();l>i;i++)if(elem=checkSet[i]){var parent=elem.parentNode;checkSet[i]=parent.nodeName.toLowerCase()===part?parent:!1}}else{for(;l>i;i++)elem=checkSet[i],elem&&(checkSet[i]=isPartStr?elem.parentNode:elem.parentNode===part);isPartStr&&Sizzle.filter(part,checkSet,!0)}},"":function(checkSet,part,isXML){var nodeCheck,doneName=done++,checkFn=dirCheck;"string"!=typeof part||rNonWord.test(part)||(part=part.toLowerCase(),nodeCheck=part,checkFn=dirNodeCheck),checkFn("parentNode",part,doneName,checkSet,nodeCheck,isXML)},"~":function(checkSet,part,isXML){var nodeCheck,doneName=done++,checkFn=dirCheck;"string"!=typeof part||rNonWord.test(part)||(part=part.toLowerCase(),nodeCheck=part,checkFn=dirNodeCheck),checkFn("previousSibling",part,doneName,checkSet,nodeCheck,isXML)}},find:{ID:function(match,context,isXML){if("undefined"!=typeof context.getElementById&&!isXML){var m=context.getElementById(match[1]);return m&&m.parentNode?[m]:[]}},NAME:function(match,context){if("undefined"!=typeof context.getElementsByName){for(var ret=[],results=context.getElementsByName(match[1]),i=0,l=results.length;l>i;i++)results[i].getAttribute("name")===match[1]&&ret.push(results[i]);return 0===ret.length?null:ret}},TAG:function(match,context){return"undefined"!=typeof context.getElementsByTagName?context.getElementsByTagName(match[1]):void 0}},preFilter:{CLASS:function(match,curLoop,inplace,result,not,isXML){if(match=" "+match[1].replace(rBackslash,"")+" ",isXML)return match;for(var elem,i=0;null!=(elem=curLoop[i]);i++)elem&&(not^(elem.className&&(" "+elem.className+" ").replace(/[\t\n\r]/g," ").indexOf(match)>=0)?inplace||result.push(elem):inplace&&(curLoop[i]=!1));return!1},ID:function(match){return match[1].replace(rBackslash,"")},TAG:function(match){return match[1].replace(rBackslash,"").toLowerCase()},CHILD:function(match){if("nth"===match[1]){match[2]||Sizzle.error(match[0]),match[2]=match[2].replace(/^\+|\s*/g,"");var test=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===match[2]&&"2n"||"odd"===match[2]&&"2n+1"||!/\D/.test(match[2])&&"0n+"+match[2]||match[2]);match[2]=test[1]+(test[2]||1)-0,match[3]=test[3]-0}else match[2]&&Sizzle.error(match[0]);return match[0]=done++,match},ATTR:function(match,curLoop,inplace,result,not,isXML){var name=match[1]=match[1].replace(rBackslash,"");return!isXML&&Expr.attrMap[name]&&(match[1]=Expr.attrMap[name]),match[4]=(match[4]||match[5]||"").replace(rBackslash,""),"~="===match[2]&&(match[4]=" "+match[4]+" "),match},PSEUDO:function(match,curLoop,inplace,result,not){if("not"===match[1]){if(!((chunker.exec(match[3])||"").length>1||/^\w/.test(match[3]))){var ret=Sizzle.filter(match[3],curLoop,inplace,!0^not);return inplace||result.push.apply(result,ret),!1}match[3]=Sizzle(match[3],null,null,curLoop)}else if(Expr.match.POS.test(match[0])||Expr.match.CHILD.test(match[0]))return!0;return match},POS:function(match){return match.unshift(!0),match}},filters:{enabled:function(elem){return elem.disabled===!1&&"hidden"!==elem.type},disabled:function(elem){return elem.disabled===!0},checked:function(elem){return elem.checked===!0},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,elem.selected===!0},parent:function(elem){return!!elem.firstChild},empty:function(elem){return!elem.firstChild},has:function(elem,i,match){return!!Sizzle(match[3],elem).length},header:function(elem){return/h\d/i.test(elem.nodeName)},text:function(elem){var attr=elem.getAttribute("type"),type=elem.type;return"input"===elem.nodeName.toLowerCase()&&"text"===type&&(attr===type||null===attr)},radio:function(elem){return"input"===elem.nodeName.toLowerCase()&&"radio"===elem.type},checkbox:function(elem){return"input"===elem.nodeName.toLowerCase()&&"checkbox"===elem.type},file:function(elem){return"input"===elem.nodeName.toLowerCase()&&"file"===elem.type},password:function(elem){return"input"===elem.nodeName.toLowerCase()&&"password"===elem.type},submit:function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&"submit"===elem.type},image:function(elem){return"input"===elem.nodeName.toLowerCase()&&"image"===elem.type},reset:function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&"reset"===elem.type},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},input:function(elem){return/input|select|textarea|button/i.test(elem.nodeName)},focus:function(elem){return elem===elem.ownerDocument.activeElement}},setFilters:{first:function(elem,i){return 0===i},last:function(elem,i,match,array){return i===array.length-1},even:function(elem,i){return i%2===0},odd:function(elem,i){return i%2===1},lt:function(elem,i,match){return i<match[3]-0},gt:function(elem,i,match){return i>match[3]-0},nth:function(elem,i,match){return match[3]-0===i},eq:function(elem,i,match){return match[3]-0===i}},filter:{PSEUDO:function(elem,match,i,array){var name=match[1],filter=Expr.filters[name];if(filter)return filter(elem,i,match,array);if("contains"===name)return(elem.textContent||elem.innerText||getText([elem])||"").indexOf(match[3])>=0;if("not"===name){for(var not=match[3],j=0,l=not.length;l>j;j++)if(not[j]===elem)return!1;return!0}Sizzle.error(name)},CHILD:function(elem,match){var first,last,doneName,parent,count,diff,type=match[1],node=elem;switch(type){case"only":case"first":for(;node=node.previousSibling;)if(1===node.nodeType)return!1;if("first"===type)return!0;node=elem;case"last":for(;node=node.nextSibling;)if(1===node.nodeType)return!1;return!0;case"nth":if(first=match[2],last=match[3],1===first&&0===last)return!0;if(doneName=match[0],parent=elem.parentNode,parent&&(parent[expando]!==doneName||!elem.nodeIndex)){for(count=0,node=parent.firstChild;node;node=node.nextSibling)1===node.nodeType&&(node.nodeIndex=++count);parent[expando]=doneName}return diff=elem.nodeIndex-last,0===first?0===diff:diff%first===0&&diff/first>=0}},ID:function(elem,match){return 1===elem.nodeType&&elem.getAttribute("id")===match},TAG:function(elem,match){return"*"===match&&1===elem.nodeType||!!elem.nodeName&&elem.nodeName.toLowerCase()===match},CLASS:function(elem,match){return(" "+(elem.className||elem.getAttribute("class"))+" ").indexOf(match)>-1},ATTR:function(elem,match){var name=match[1],result=Sizzle.attr?Sizzle.attr(elem,name):Expr.attrHandle[name]?Expr.attrHandle[name](elem):null!=elem[name]?elem[name]:elem.getAttribute(name),value=result+"",type=match[2],check=match[4];return null==result?"!="===type:!type&&Sizzle.attr?null!=result:"="===type?value===check:"*="===type?value.indexOf(check)>=0:"~="===type?(" "+value+" ").indexOf(check)>=0:check?"!="===type?value!==check:"^="===type?0===value.indexOf(check):"$="===type?value.substr(value.length-check.length)===check:"|="===type?value===check||value.substr(0,check.length+1)===check+"-":!1:value&&result!==!1},POS:function(elem,match,i,array){var name=match[2],filter=Expr.setFilters[name];return filter?filter(elem,i,match,array):void 0}}},origPOS=Expr.match.POS,fescape=function(all,num){return"\\"+(num-0+1)};for(var type in Expr.match)Expr.match[type]=new RegExp(Expr.match[type].source+/(?![^\[]*\])(?![^\(]*\))/.source),Expr.leftMatch[type]=new RegExp(/(^(?:.|\r|\n)*?)/.source+Expr.match[type].source.replace(/\\(\d+)/g,fescape));var makeArray=function(array,results){return array=Array.prototype.slice.call(array,0),results?(results.push.apply(results,array),results):array};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(e){makeArray=function(array,results){var i=0,ret=results||[];if("[object Array]"===toString.call(array))Array.prototype.push.apply(ret,array);else if("number"==typeof array.length)for(var l=array.length;l>i;i++)ret.push(array[i]);else for(;array[i];i++)ret.push(array[i]);return ret}}var sortOrder,siblingCheck;document.documentElement.compareDocumentPosition?sortOrder=function(a,b){return a===b?(hasDuplicate=!0,0):a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b)?-1:1:a.compareDocumentPosition?-1:1}:(sortOrder=function(a,b){if(a===b)return hasDuplicate=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var al,bl,ap=[],bp=[],aup=a.parentNode,bup=b.parentNode,cur=aup;if(aup===bup)return siblingCheck(a,b);if(!aup)return-1;if(!bup)return 1;for(;cur;)ap.unshift(cur),cur=cur.parentNode;for(cur=bup;cur;)bp.unshift(cur),cur=cur.parentNode;al=ap.length,bl=bp.length;for(var i=0;al>i&&bl>i;i++)if(ap[i]!==bp[i])return siblingCheck(ap[i],bp[i]);return i===al?siblingCheck(a,bp[i],-1):siblingCheck(ap[i],b,1)},siblingCheck=function(a,b,ret){if(a===b)return ret;for(var cur=a.nextSibling;cur;){if(cur===b)return-1;cur=cur.nextSibling}return 1}),function(){var form=document.createElement("div"),id="script"+(new Date).getTime(),root=document.documentElement;form.innerHTML="<a name='"+id+"'/>",root.insertBefore(form,root.firstChild),document.getElementById(id)&&(Expr.find.ID=function(match,context,isXML){if("undefined"!=typeof context.getElementById&&!isXML){var m=context.getElementById(match[1]);return m?m.id===match[1]||"undefined"!=typeof m.getAttributeNode&&m.getAttributeNode("id").nodeValue===match[1]?[m]:undefined:[]}},Expr.filter.ID=function(elem,match){var node="undefined"!=typeof elem.getAttributeNode&&elem.getAttributeNode("id");return 1===elem.nodeType&&node&&node.nodeValue===match}),root.removeChild(form),root=form=null}(),function(){var div=document.createElement("div");div.appendChild(document.createComment("")),div.getElementsByTagName("*").length>0&&(Expr.find.TAG=function(match,context){var results=context.getElementsByTagName(match[1]);if("*"===match[1]){for(var tmp=[],i=0;results[i];i++)1===results[i].nodeType&&tmp.push(results[i]);results=tmp}return results}),div.innerHTML="<a href='#'></a>",div.firstChild&&"undefined"!=typeof div.firstChild.getAttribute&&"#"!==div.firstChild.getAttribute("href")&&(Expr.attrHandle.href=function(elem){return elem.getAttribute("href",2)}),div=null}(),document.querySelectorAll&&!function(){var oldSizzle=Sizzle,div=document.createElement("div"),id="__sizzle__";if(div.innerHTML="<p class='TEST'></p>",!div.querySelectorAll||0!==div.querySelectorAll(".TEST").length){Sizzle=function(query,context,extra,seed){if(context=context||document,!seed&&!Sizzle.isXML(context)){var match=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(query);if(match&&(1===context.nodeType||9===context.nodeType)){if(match[1])return makeArray(context.getElementsByTagName(query),extra);if(match[2]&&Expr.find.CLASS&&context.getElementsByClassName)return makeArray(context.getElementsByClassName(match[2]),extra)}if(9===context.nodeType){if("body"===query&&context.body)return makeArray([context.body],extra);if(match&&match[3]){var elem=context.getElementById(match[3]);if(!elem||!elem.parentNode)return makeArray([],extra);if(elem.id===match[3])return makeArray([elem],extra)}try{return makeArray(context.querySelectorAll(query),extra)}catch(qsaError){}}else if(1===context.nodeType&&"object"!==context.nodeName.toLowerCase()){var oldContext=context,old=context.getAttribute("id"),nid=old||id,hasParent=context.parentNode,relativeHierarchySelector=/^\s*[+~]/.test(query);old?nid=nid.replace(/'/g,"\\$&"):context.setAttribute("id",nid),relativeHierarchySelector&&hasParent&&(context=context.parentNode);try{if(!relativeHierarchySelector||hasParent)return makeArray(context.querySelectorAll("[id='"+nid+"'] "+query),extra)}catch(pseudoError){}finally{old||oldContext.removeAttribute("id")}}}return oldSizzle(query,context,extra,seed)};for(var prop in oldSizzle)Sizzle[prop]=oldSizzle[prop];div=null}}(),function(){var html=document.documentElement,matches=html.matchesSelector||html.mozMatchesSelector||html.webkitMatchesSelector||html.msMatchesSelector;if(matches){var disconnectedMatch=!matches.call(document.createElement("div"),"div"),pseudoWorks=!1;try{matches.call(document.documentElement,"[test!='']:sizzle")}catch(pseudoError){pseudoWorks=!0}Sizzle.matchesSelector=function(node,expr){if(expr=expr.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!Sizzle.isXML(node))try{if(pseudoWorks||!Expr.match.PSEUDO.test(expr)&&!/!=/.test(expr)){var ret=matches.call(node,expr);if(ret||!disconnectedMatch||node.document&&11!==node.document.nodeType)return ret}}catch(e){}return Sizzle(expr,null,null,[node]).length>0}}}(),function(){var div=document.createElement("div");div.innerHTML="<div class='test e'></div><div class='test'></div>",div.getElementsByClassName&&0!==div.getElementsByClassName("e").length&&(div.lastChild.className="e",1!==div.getElementsByClassName("e").length&&(Expr.order.splice(1,0,"CLASS"),Expr.find.CLASS=function(match,context,isXML){return"undefined"==typeof context.getElementsByClassName||isXML?void 0:context.getElementsByClassName(match[1])},div=null))}(),Sizzle.contains=document.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:document.documentElement.compareDocumentPosition?function(a,b){return!!(16&a.compareDocumentPosition(b))}:function(){return!1},Sizzle.isXML=function(elem){var documentElement=(elem?elem.ownerDocument||elem:0).documentElement;return documentElement?"HTML"!==documentElement.nodeName:!1};var posProcess=function(selector,context,seed){for(var match,tmpSet=[],later="",root=context.nodeType?[context]:context;match=Expr.match.PSEUDO.exec(selector);)later+=match[0],selector=selector.replace(Expr.match.PSEUDO,"");selector=Expr.relative[selector]?selector+"*":selector;for(var i=0,l=root.length;l>i;i++)Sizzle(selector,root[i],tmpSet,seed);return Sizzle.filter(later,tmpSet)};Sizzle.attr=jQuery.attr,Sizzle.selectors.attrMap={},jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.filters,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains}();var runtil=/Until$/,rparentsprev=/^(?:parents|prevUntil|prevAll)/,rmultiselector=/,/,isSimple=/^.[^:#\[\.,]*$/,slice=Array.prototype.slice,POS=jQuery.expr.match.POS,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.fn.extend({find:function(selector){var i,l,self=this;if("string"!=typeof selector)return jQuery(selector).filter(function(){for(i=0,l=self.length;l>i;i++)if(jQuery.contains(self[i],this))return!0});var length,n,r,ret=this.pushStack("","find",selector);for(i=0,l=this.length;l>i;i++)if(length=ret.length,jQuery.find(selector,this[i],ret),i>0)for(n=length;n<ret.length;n++)for(r=0;length>r;r++)if(ret[r]===ret[n]){ret.splice(n--,1);break}return ret},has:function(target){var targets=jQuery(target);return this.filter(function(){for(var i=0,l=targets.length;l>i;i++)if(jQuery.contains(this,targets[i]))return!0})},not:function(selector){return this.pushStack(winnow(this,selector,!1),"not",selector)},filter:function(selector){return this.pushStack(winnow(this,selector,!0),"filter",selector)},is:function(selector){return!!selector&&("string"==typeof selector?POS.test(selector)?jQuery(selector,this.context).index(this[0])>=0:jQuery.filter(selector,this).length>0:this.filter(selector).length>0)},closest:function(selectors,context){var i,l,ret=[],cur=this[0];if(jQuery.isArray(selectors)){for(var level=1;cur&&cur.ownerDocument&&cur!==context;){for(i=0;i<selectors.length;i++)jQuery(cur).is(selectors[i])&&ret.push({selector:selectors[i],elem:cur,level:level});cur=cur.parentNode,level++}return ret}var pos=POS.test(selectors)||"string"!=typeof selectors?jQuery(selectors,context||this.context):0;for(i=0,l=this.length;l>i;i++)for(cur=this[i];cur;){if(pos?pos.index(cur)>-1:jQuery.find.matchesSelector(cur,selectors)){ret.push(cur);break}if(cur=cur.parentNode,!cur||!cur.ownerDocument||cur===context||11===cur.nodeType)break}return ret=ret.length>1?jQuery.unique(ret):ret,this.pushStack(ret,"closest",selectors)},index:function(elem){return elem?"string"==typeof elem?jQuery.inArray(this[0],jQuery(elem)):jQuery.inArray(elem.jquery?elem[0]:elem,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(selector,context){var set="string"==typeof selector?jQuery(selector,context):jQuery.makeArray(selector&&selector.nodeType?[selector]:selector),all=jQuery.merge(this.get(),set);return this.pushStack(isDisconnected(set[0])||isDisconnected(all[0])?all:jQuery.unique(all))},andSelf:function(){return this.add(this.prevObject)}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return jQuery.nth(elem,2,"nextSibling")},prev:function(elem){return jQuery.nth(elem,2,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling(elem.parentNode.firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.makeArray(elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until),args=slice.call(arguments);return runtil.test(name)||(selector=until),selector&&"string"==typeof selector&&(ret=jQuery.filter(selector,ret)),ret=this.length>1&&!guaranteedUnique[name]?jQuery.unique(ret):ret,(this.length>1||rmultiselector.test(selector))&&rparentsprev.test(name)&&(ret=ret.reverse()),this.pushStack(ret,name,args.join(","))}}),jQuery.extend({filter:function(expr,elems,not){return not&&(expr=":not("+expr+")"),1===elems.length?jQuery.find.matchesSelector(elems[0],expr)?[elems[0]]:[]:jQuery.find.matches(expr,elems)},dir:function(elem,dir,until){for(var matched=[],cur=elem[dir];cur&&9!==cur.nodeType&&(until===undefined||1!==cur.nodeType||!jQuery(cur).is(until));)1===cur.nodeType&&matched.push(cur),cur=cur[dir];return matched},nth:function(cur,result,dir){result=result||1;for(var num=0;cur&&(1!==cur.nodeType||++num!==result);cur=cur[dir]);return cur},sibling:function(n,elem){for(var r=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&r.push(n);return r}});var nodeNames="abbr article aside audio canvas datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",rinlinejQuery=/ jQuery\d+="(?:\d+|null)"/g,rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style)/i,rnocache=/<(?:script|object|embed|option|style)/i,rnoshimcache=new RegExp("<(?:"+nodeNames.replace(" ","|")+")","i"),rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/\/(java|ecma)script/i,rcleanScript=/^\s*<!(?:\[CDATA\[|\-\-)/,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},safeFragment=createSafeFragment(document);wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.support.htmlSerialize||(wrapMap._default=[1,"div<div>","</div>"]),jQuery.fn.extend({text:function(text){return jQuery.isFunction(text)?this.each(function(i){var self=jQuery(this);self.text(text.call(this,i,self.text()))}):"object"!=typeof text&&text!==undefined?this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(text)):jQuery.text(this)},wrapAll:function(html){if(jQuery.isFunction(html))return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))});if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstChild&&1===elem.firstChild.nodeType;)elem=elem.firstChild;return elem}).append(this)}return this},wrapInner:function(html){return this.each(jQuery.isFunction(html)?function(i){jQuery(this).wrapInner(html.call(this,i))}:function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){return this.each(function(){jQuery(this).wrapAll(html)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(elem){1===this.nodeType&&this.appendChild(elem)})},prepend:function(){return this.domManip(arguments,!0,function(elem){1===this.nodeType&&this.insertBefore(elem,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(elem){this.parentNode.insertBefore(elem,this)});if(arguments.length){var set=jQuery(arguments[0]);return set.push.apply(set,this.toArray()),this.pushStack(set,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(elem){this.parentNode.insertBefore(elem,this.nextSibling)});if(arguments.length){var set=this.pushStack(this,"after",arguments);return set.push.apply(set,jQuery(arguments[0]).toArray()),set}},remove:function(selector,keepData){for(var elem,i=0;null!=(elem=this[i]);i++)(!selector||jQuery.filter(selector,[elem]).length)&&(keepData||1!==elem.nodeType||(jQuery.cleanData(elem.getElementsByTagName("*")),jQuery.cleanData([elem])),elem.parentNode&&elem.parentNode.removeChild(elem));return this},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++)for(1===elem.nodeType&&jQuery.cleanData(elem.getElementsByTagName("*"));elem.firstChild;)elem.removeChild(elem.firstChild);return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null==dataAndEvents?!1:dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){if(value===undefined)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(rinlinejQuery,""):null;if("string"!=typeof value||rnoInnerhtml.test(value)||!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(value)||wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()])jQuery.isFunction(value)?this.each(function(i){var self=jQuery(this);self.html(value.call(this,i,self.html()))}):this.empty().append(value);else{value=value.replace(rxhtmlTag,"<$1></$2>");try{for(var i=0,l=this.length;l>i;i++)1===this[i].nodeType&&(jQuery.cleanData(this[i].getElementsByTagName("*")),this[i].innerHTML=value)}catch(e){this.empty().append(value)}}return this},replaceWith:function(value){return this[0]&&this[0].parentNode?jQuery.isFunction(value)?this.each(function(i){var self=jQuery(this),old=self.html();self.replaceWith(value.call(this,i,old))}):("string"!=typeof value&&(value=jQuery(value).detach()),this.each(function(){var next=this.nextSibling,parent=this.parentNode;jQuery(this).remove(),next?jQuery(next).before(value):jQuery(parent).append(value)})):this.length?this.pushStack(jQuery(jQuery.isFunction(value)?value():value),"replaceWith",value):this},detach:function(selector){return this.remove(selector,!0)},domManip:function(args,table,callback){var results,first,fragment,parent,value=args[0],scripts=[];if(!jQuery.support.checkClone&&3===arguments.length&&"string"==typeof value&&rchecked.test(value))return this.each(function(){jQuery(this).domManip(args,table,callback,!0)});if(jQuery.isFunction(value))return this.each(function(i){var self=jQuery(this);args[0]=value.call(this,i,table?self.html():undefined),self.domManip(args,table,callback)});if(this[0]){if(parent=value&&value.parentNode,results=jQuery.support.parentNode&&parent&&11===parent.nodeType&&parent.childNodes.length===this.length?{fragment:parent}:jQuery.buildFragment(args,this,scripts),fragment=results.fragment,first=1===fragment.childNodes.length?fragment=fragment.firstChild:fragment.firstChild){table=table&&jQuery.nodeName(first,"tr");for(var i=0,l=this.length,lastIndex=l-1;l>i;i++)callback.call(table?root(this[i],first):this[i],results.cacheable||l>1&&lastIndex>i?jQuery.clone(fragment,!0,!0):fragment)}scripts.length&&jQuery.each(scripts,evalScript)}return this}}),jQuery.buildFragment=function(args,nodes,scripts){var fragment,cacheable,cacheresults,doc,first=args[0];return nodes&&nodes[0]&&(doc=nodes[0].ownerDocument||nodes[0]),doc.createDocumentFragment||(doc=document),1===args.length&&"string"==typeof first&&first.length<512&&doc===document&&"<"===first.charAt(0)&&!rnocache.test(first)&&(jQuery.support.checkClone||!rchecked.test(first))&&!jQuery.support.unknownElems&&rnoshimcache.test(first)&&(cacheable=!0,cacheresults=jQuery.fragments[first],cacheresults&&1!==cacheresults&&(fragment=cacheresults)),fragment||(fragment=doc.createDocumentFragment(),jQuery.clean(args,doc,fragment,scripts)),cacheable&&(jQuery.fragments[first]=cacheresults?fragment:1),{fragment:fragment,cacheable:cacheable}},jQuery.fragments={},jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var ret=[],insert=jQuery(selector),parent=1===this.length&&this[0].parentNode;if(parent&&11===parent.nodeType&&1===parent.childNodes.length&&1===insert.length)return insert[original](this[0]),this;for(var i=0,l=insert.length;l>i;i++){var elems=(i>0?this.clone(!0):this).get();jQuery(insert[i])[original](elems),ret=ret.concat(elems)}return this.pushStack(ret,name,insert.selector)}}),jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var srcElements,destElements,i,clone=elem.cloneNode(!0);if(!(jQuery.support.noCloneEvent&&jQuery.support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(cloneFixAttributes(elem,clone),srcElements=getAll(elem),destElements=getAll(clone),i=0;srcElements[i];++i)destElements[i]&&cloneFixAttributes(srcElements[i],destElements[i]);if(dataAndEvents&&(cloneCopyEvent(elem,clone),deepDataAndEvents))for(srcElements=getAll(elem),destElements=getAll(clone),i=0;srcElements[i];++i)cloneCopyEvent(srcElements[i],destElements[i]);
return srcElements=destElements=null,clone},clean:function(elems,context,fragment,scripts){var checkScriptType;context=context||document,"undefined"==typeof context.createElement&&(context=context.ownerDocument||context[0]&&context[0].ownerDocument||document);for(var j,elem,ret=[],i=0;null!=(elem=elems[i]);i++)if("number"==typeof elem&&(elem+=""),elem){if("string"==typeof elem)if(rhtml.test(elem)){elem=elem.replace(rxhtmlTag,"<$1></$2>");var tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,depth=wrap[0],div=context.createElement("div");for(context===document?safeFragment.appendChild(div):createSafeFragment(context).appendChild(div),div.innerHTML=wrap[1]+elem+wrap[2];depth--;)div=div.lastChild;if(!jQuery.support.tbody){var hasBody=rtbody.test(elem),tbody="table"!==tag||hasBody?"<table>"!==wrap[1]||hasBody?[]:div.childNodes:div.firstChild&&div.firstChild.childNodes;for(j=tbody.length-1;j>=0;--j)jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length&&tbody[j].parentNode.removeChild(tbody[j])}!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)&&div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]),div.firstChild),elem=div.childNodes}else elem=context.createTextNode(elem);var len;if(!jQuery.support.appendChecked)if(elem[0]&&"number"==typeof(len=elem.length))for(j=0;len>j;j++)findInputs(elem[j]);else findInputs(elem);elem.nodeType?ret.push(elem):ret=jQuery.merge(ret,elem)}if(fragment)for(checkScriptType=function(elem){return!elem.type||rscriptType.test(elem.type)},i=0;ret[i];i++)if(!scripts||!jQuery.nodeName(ret[i],"script")||ret[i].type&&"text/javascript"!==ret[i].type.toLowerCase()){if(1===ret[i].nodeType){var jsTags=jQuery.grep(ret[i].getElementsByTagName("script"),checkScriptType);ret.splice.apply(ret,[i+1,0].concat(jsTags))}fragment.appendChild(ret[i])}else scripts.push(ret[i].parentNode?ret[i].parentNode.removeChild(ret[i]):ret[i]);return ret},cleanData:function(elems){for(var data,id,elem,cache=jQuery.cache,special=jQuery.event.special,deleteExpando=jQuery.support.deleteExpando,i=0;null!=(elem=elems[i]);i++)if((!elem.nodeName||!jQuery.noData[elem.nodeName.toLowerCase()])&&(id=elem[jQuery.expando])){if(data=cache[id],data&&data.events){for(var type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);data.handle&&(data.handle.elem=null)}deleteExpando?delete elem[jQuery.expando]:elem.removeAttribute&&elem.removeAttribute(jQuery.expando),delete cache[id]}}});var curCSS,getComputedStyle,currentStyle,ralpha=/alpha\([^)]*\)/i,ropacity=/opacity=([^)]*)/,rupper=/([A-Z]|^ms)/g,rnumpx=/^-?\d+(?:px)?$/i,rnum=/^-?\d/,rrelNum=/^([\-+])=([\-+.\de]+)/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssWidth=["Left","Right"],cssHeight=["Top","Bottom"];jQuery.fn.css=function(name,value){return 2===arguments.length&&value===undefined?this:jQuery.access(this,name,value,!0,function(elem,name,value){return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)})},jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity","opacity");return""===ret?"1":ret}return elem.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,origName=jQuery.camelCase(name),style=elem.style,hooks=jQuery.cssHooks[origName];if(name=jQuery.cssProps[origName]||origName,value===undefined)return hooks&&"get"in hooks&&(ret=hooks.get(elem,!1,extra))!==undefined?ret:style[name];if(type=typeof value,"string"===type&&(ret=rrelNum.exec(value))&&(value=+(ret[1]+1)*+ret[2]+parseFloat(jQuery.css(elem,name)),type="number"),!(null==value||"number"===type&&isNaN(value)||("number"!==type||jQuery.cssNumber[origName]||(value+="px"),hooks&&"set"in hooks&&(value=hooks.set(elem,value))===undefined)))try{style[name]=value}catch(e){}}},css:function(elem,name,extra){var ret,hooks;return name=jQuery.camelCase(name),hooks=jQuery.cssHooks[name],name=jQuery.cssProps[name]||name,"cssFloat"===name&&(name="float"),hooks&&"get"in hooks&&(ret=hooks.get(elem,!0,extra))!==undefined?ret:curCSS?curCSS(elem,name):void 0},swap:function(elem,options,callback){var old={};for(var name in options)old[name]=elem.style[name],elem.style[name]=options[name];callback.call(elem);for(name in options)elem.style[name]=old[name]}}),jQuery.curCSS=jQuery.css,jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){var val;return computed?0!==elem.offsetWidth?getWH(elem,name,extra):(jQuery.swap(elem,cssShow,function(){val=getWH(elem,name,extra)}),val):void 0},set:function(elem,value){return rnumpx.test(value)?(value=parseFloat(value),value>=0?value+"px":void 0):value}}}),jQuery.support.opacity||(jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?parseFloat(RegExp.$1)/100+"":computed?"1":""},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+100*value+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";style.zoom=1,value>=1&&""===jQuery.trim(filter.replace(ralpha,""))&&(style.removeAttribute("filter"),currentStyle&&!currentStyle.filter)||(style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity)}}),jQuery(function(){jQuery.support.reliableMarginRight||(jQuery.cssHooks.marginRight={get:function(elem,computed){var ret;return jQuery.swap(elem,{display:"inline-block"},function(){ret=computed?curCSS(elem,"margin-right","marginRight"):elem.style.marginRight}),ret}})}),document.defaultView&&document.defaultView.getComputedStyle&&(getComputedStyle=function(elem,name){var ret,defaultView,computedStyle;return name=name.replace(rupper,"-$1").toLowerCase(),(defaultView=elem.ownerDocument.defaultView)?((computedStyle=defaultView.getComputedStyle(elem,null))&&(ret=computedStyle.getPropertyValue(name),""!==ret||jQuery.contains(elem.ownerDocument.documentElement,elem)||(ret=jQuery.style(elem,name))),ret):undefined}),document.documentElement.currentStyle&&(currentStyle=function(elem,name){var left,rsLeft,uncomputed,ret=elem.currentStyle&&elem.currentStyle[name],style=elem.style;return null===ret&&style&&(uncomputed=style[name])&&(ret=uncomputed),!rnumpx.test(ret)&&rnum.test(ret)&&(left=style.left,rsLeft=elem.runtimeStyle&&elem.runtimeStyle.left,rsLeft&&(elem.runtimeStyle.left=elem.currentStyle.left),style.left="fontSize"===name?"1em":ret||0,ret=style.pixelLeft+"px",style.left=left,rsLeft&&(elem.runtimeStyle.left=rsLeft)),""===ret?"auto":ret}),curCSS=getComputedStyle||currentStyle,jQuery.expr&&jQuery.expr.filters&&(jQuery.expr.filters.hidden=function(elem){var width=elem.offsetWidth,height=elem.offsetHeight;return 0===width&&0===height||!jQuery.support.reliableHiddenOffsets&&"none"===(elem.style&&elem.style.display||jQuery.css(elem,"display"))},jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)});var ajaxLocation,ajaxLocParts,r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rhash=/#.*$/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,rinput=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,rlocalProtocol=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rquery=/\?/,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,rselectTextarea=/^(?:select|textarea)/i,rspacesAjax=/\s+/,rts=/([?&])_=[^&]*/,rurl=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,_load=jQuery.fn.load,prefilters={},transports={},allTypes=["*/"]+["*"];try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a"),ajaxLocation.href="",ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[],jQuery.fn.extend({load:function(url,params,callback){if("string"!=typeof url&&_load)return _load.apply(this,arguments);if(!this.length)return this;var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}var type="GET";params&&(jQuery.isFunction(params)?(callback=params,params=undefined):"object"==typeof params&&(params=jQuery.param(params,jQuery.ajaxSettings.traditional),type="POST"));var self=this;return jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(jqXHR,status,responseText){responseText=jqXHR.responseText,jqXHR.isResolved()&&(jqXHR.done(function(r){responseText=r}),self.html(selector?jQuery("<div>").append(responseText.replace(rscript,"")).find(selector):responseText)),callback&&self.each(callback,[responseText,status,jqXHR])}}),this},serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||rselectTextarea.test(this.nodeName)||rinput.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}}),jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(i,o){jQuery.fn[o]=function(f){return this.bind(o,f)}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){return jQuery.isFunction(data)&&(type=type||callback,callback=data,data=undefined),jQuery.ajax({type:method,url:url,data:data,success:callback,dataType:type})}}),jQuery.extend({getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},ajaxSetup:function(target,settings){return settings?ajaxExtend(target,jQuery.ajaxSettings):(settings=target,target=jQuery.ajaxSettings),ajaxExtend(target,settings),target},ajaxSettings:{url:ajaxLocation,isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":allTypes},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){function done(status,nativeStatusText,responses,headers){if(2!==state){state=2,timeoutTimer&&clearTimeout(timeoutTimer),transport=undefined,responseHeadersString=headers||"",jqXHR.readyState=status>0?4:0;var isSuccess,success,error,lastModified,etag,statusText=nativeStatusText,response=responses?ajaxHandleResponses(s,jqXHR,responses):undefined;if(status>=200&&300>status||304===status)if(s.ifModified&&((lastModified=jqXHR.getResponseHeader("Last-Modified"))&&(jQuery.lastModified[ifModifiedKey]=lastModified),(etag=jqXHR.getResponseHeader("Etag"))&&(jQuery.etag[ifModifiedKey]=etag)),304===status)statusText="notmodified",isSuccess=!0;else try{success=ajaxConvert(s,response),statusText="success",isSuccess=!0}catch(e){statusText="parsererror",error=e}else error=statusText,(!statusText||status)&&(statusText="error",0>status&&(status=0));jqXHR.status=status,jqXHR.statusText=""+(nativeStatusText||statusText),isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=undefined,fireGlobals&&globalEventContext.trigger("ajax"+(isSuccess?"Success":"Error"),[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop"))}}"object"==typeof url&&(options=url,url=undefined),options=options||{};var ifModifiedKey,responseHeadersString,responseHeaders,transport,timeoutTimer,parts,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=callbackContext!==s&&(callbackContext.nodeType||callbackContext instanceof jQuery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,jqXHR={readyState:0,setRequestHeader:function(name,value){if(!state){var lname=name.toLowerCase();name=requestHeadersNames[lname]=requestHeadersNames[lname]||name,requestHeaders[name]=value}return this},getAllResponseHeaders:function(){return 2===state?responseHeadersString:null},getResponseHeader:function(key){var match;if(2===state){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()]=match[2];match=responseHeaders[key.toLowerCase()]}return match===undefined?null:match},overrideMimeType:function(type){return state||(s.mimeType=type),this},abort:function(statusText){return statusText=statusText||"abort",transport&&transport.abort(statusText),done(0,statusText),this}};if(deferred.promise(jqXHR),jqXHR.success=jqXHR.done,jqXHR.error=jqXHR.fail,jqXHR.complete=completeDeferred.add,jqXHR.statusCode=function(map){if(map){var tmp;if(2>state)for(tmp in map)statusCode[tmp]=[statusCode[tmp],map[tmp]];else tmp=map[jqXHR.status],jqXHR.then(tmp,tmp)}return this},s.url=((url||s.url)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().split(rspacesAjax),null==s.crossDomain&&(parts=rurl.exec(s.url.toLowerCase()),s.crossDomain=!(!parts||parts[1]==ajaxLocParts[1]&&parts[2]==ajaxLocParts[2]&&(parts[3]||("http:"===parts[1]?80:443))==(ajaxLocParts[3]||("http:"===ajaxLocParts[1]?80:443)))),s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),2===state)return!1;if(fireGlobals=s.global,s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),fireGlobals&&0===jQuery.active++&&jQuery.event.trigger("ajaxStart"),!s.hasContent&&(s.data&&(s.url+=(rquery.test(s.url)?"&":"?")+s.data,delete s.data),ifModifiedKey=s.url,s.cache===!1)){var ts=jQuery.now(),ret=s.url.replace(rts,"$1_="+ts);s.url=ret+(ret===s.url?(rquery.test(s.url)?"&":"?")+"_="+ts:"")}(s.data&&s.hasContent&&s.contentType!==!1||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),s.ifModified&&(ifModifiedKey=ifModifiedKey||s.url,jQuery.lastModified[ifModifiedKey]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[ifModifiedKey]),jQuery.etag[ifModifiedKey]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[ifModifiedKey])),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===!1||2===state))return jqXHR.abort(),!1;for(i in{success:1,error:1,complete:1})jqXHR[i](s[i]);if(transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),s.async&&s.timeout>0&&(timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{state=1,transport.send(requestHeaders,done)}catch(e){2>state?done(-1,e):jQuery.error(e)}}else done(-1,"No Transport");return jqXHR},param:function(a,traditional){var s=[],add=function(key,value){value=jQuery.isFunction(value)?value():value,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined&&(traditional=jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(var prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")}}),jQuery.extend({active:0,lastModified:{},etag:{}});var jsc=jQuery.now(),jsre=/(\=)\?(&|$)|\?\?/i;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return jQuery.expando+"_"+jsc++}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var inspectData="application/x-www-form-urlencoded"===s.contentType&&"string"==typeof s.data;if("jsonp"===s.dataTypes[0]||s.jsonp!==!1&&(jsre.test(s.url)||inspectData&&jsre.test(s.data))){var responseContainer,jsonpCallback=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,previous=window[jsonpCallback],url=s.url,data=s.data,replace="$1"+jsonpCallback+"$2";return s.jsonp!==!1&&(url=url.replace(jsre,replace),s.url===url&&(inspectData&&(data=data.replace(jsre,replace)),s.data===data&&(url+=(/\?/.test(url)?"&":"?")+s.jsonp+"="+jsonpCallback))),s.url=url,s.data=data,window[jsonpCallback]=function(response){responseContainer=[response]},jqXHR.always(function(){window[jsonpCallback]=previous,responseContainer&&jQuery.isFunction(previous)&&window[jsonpCallback](responseContainer[0])}),s.converters["script json"]=function(){return responseContainer||jQuery.error(jsonpCallback+" was not called"),responseContainer[0]},s.dataTypes[0]="json","script"}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){s.cache===undefined&&(s.cache=!1),s.crossDomain&&(s.type="GET",s.global=!1)}),jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(_,callback){script=document.createElement("script"),script.async="async",s.scriptCharset&&(script.charset=s.scriptCharset),script.src=s.url,script.onload=script.onreadystatechange=function(_,isAbort){(isAbort||!script.readyState||/loaded|complete/.test(script.readyState))&&(script.onload=script.onreadystatechange=null,head&&script.parentNode&&head.removeChild(script),script=undefined,isAbort||callback(200,"success"))},head.insertBefore(script,head.firstChild)},abort:function(){script&&script.onload(0,1)}}}});var xhrCallbacks,xhrOnUnloadAbort=window.ActiveXObject?function(){for(var key in xhrCallbacks)xhrCallbacks[key](0,1)}:!1,xhrId=0;jQuery.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&createStandardXHR()||createActiveXHR()}:createStandardXHR,function(xhr){jQuery.extend(jQuery.support,{ajax:!!xhr,cors:!!xhr&&"withCredentials"in xhr})}(jQuery.ajaxSettings.xhr()),jQuery.support.ajax&&jQuery.ajaxTransport(function(s){if(!s.crossDomain||jQuery.support.cors){var callback;return{send:function(headers,complete){var handle,i,xhr=s.xhr(),hook=null;try{hook=_g.shared.HTTP.getXhrHook(s.url,type,s.data),hook&&(s.url=hook.url,hook.params&&(s.data=hook.params))}catch(e){}if(s.username?xhr.open(s.type,s.url,s.async,s.username,s.password):xhr.open(s.type,s.url,s.async),s.xhrFields)for(i in s.xhrFields)xhr[i]=s.xhrFields[i];s.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(s.mimeType),s.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest");try{for(i in headers)xhr.setRequestHeader(i,headers[i])}catch(_){}xhr.send(s.hasContent&&s.data||null),callback=function(_,isAbort){var status,statusText,responseHeaders,responses,xml;try{if(callback&&(isAbort||4===xhr.readyState))if(callback=undefined,handle&&(xhr.onreadystatechange=jQuery.noop,xhrOnUnloadAbort&&delete xhrCallbacks[handle]),isAbort)4!==xhr.readyState&&xhr.abort();else{status=xhr.status,responseHeaders=xhr.getAllResponseHeaders(),responses={},xml=xhr.responseXML,xml&&xml.documentElement&&(responses.xml=xml),responses.text=xhr.responseText;try{statusText=xhr.statusText}catch(e){statusText=""}status||!s.isLocal||s.crossDomain?1223===status&&(status=204):status=responses.text?200:404}}catch(firefoxAccessException){isAbort||complete(-1,firefoxAccessException)}responses&&complete(status,statusText,responses,responseHeaders)},s.async&&4!==xhr.readyState?(handle=++xhrId,xhrOnUnloadAbort&&(xhrCallbacks||(xhrCallbacks={},jQuery(window).unload(xhrOnUnloadAbort)),xhrCallbacks[handle]=callback),xhr.onreadystatechange=callback):callback()},abort:function(){callback&&callback(0,1)}}}});var iframe,iframeDoc,timerId,fxNow,elemdisplay={},rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,fxAttrs=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];jQuery.fn.extend({show:function(speed,easing,callback){var elem,display;if(speed||0===speed)return this.animate(genFx("show",3),speed,easing,callback);for(var i=0,j=this.length;j>i;i++)elem=this[i],elem.style&&(display=elem.style.display,jQuery._data(elem,"olddisplay")||"none"!==display||(display=elem.style.display=""),""===display&&"none"===jQuery.css(elem,"display")&&jQuery._data(elem,"olddisplay",defaultDisplay(elem.nodeName)));for(i=0;j>i;i++)elem=this[i],elem.style&&(display=elem.style.display,(""===display||"none"===display)&&(elem.style.display=jQuery._data(elem,"olddisplay")||""));return this},hide:function(speed,easing,callback){if(speed||0===speed)return this.animate(genFx("hide",3),speed,easing,callback);for(var elem,display,i=0,j=this.length;j>i;i++)elem=this[i],elem.style&&(display=jQuery.css(elem,"display"),"none"===display||jQuery._data(elem,"olddisplay")||jQuery._data(elem,"olddisplay",display));for(i=0;j>i;i++)this[i].style&&(this[i].style.display="none");return this},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2,callback){var bool="boolean"==typeof fn;return jQuery.isFunction(fn)&&jQuery.isFunction(fn2)?this._toggle.apply(this,arguments):null==fn||bool?this.each(function(){var state=bool?fn:jQuery(this).is(":hidden");jQuery(this)[state?"show":"hide"]()}):this.animate(genFx("toggle",3),fn,fn2,callback),this},fadeTo:function(speed,to,easing,callback){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){function doAnimation(){optall.queue===!1&&jQuery._mark(this);var name,val,p,e,parts,start,end,unit,method,opt=jQuery.extend({},optall),isElement=1===this.nodeType,hidden=isElement&&jQuery(this).is(":hidden");opt.animatedProperties={};for(p in prop){if(name=jQuery.camelCase(p),p!==name&&(prop[name]=prop[p],delete prop[p]),val=prop[name],jQuery.isArray(val)?(opt.animatedProperties[name]=val[1],val=prop[name]=val[0]):opt.animatedProperties[name]=opt.specialEasing&&opt.specialEasing[name]||opt.easing||"swing","hide"===val&&hidden||"show"===val&&!hidden)return opt.complete.call(this);!isElement||"height"!==name&&"width"!==name||(opt.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===jQuery.css(this,"display")&&"none"===jQuery.css(this,"float")&&(jQuery.support.inlineBlockNeedsLayout&&"inline"!==defaultDisplay(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=opt.overflow&&(this.style.overflow="hidden");for(p in prop)e=new jQuery.fx(this,opt,p),val=prop[p],rfxtypes.test(val)?(method=jQuery._data(this,"toggle"+p)||("toggle"===val?hidden?"show":"hide":0),method?(jQuery._data(this,"toggle"+p,"show"===method?"hide":"show"),e[method]()):e[val]()):(parts=rfxnum.exec(val),start=e.cur(),parts?(end=parseFloat(parts[2]),unit=parts[3]||(jQuery.cssNumber[p]?"":"px"),"px"!==unit&&(jQuery.style(this,p,(end||1)+unit),start=(end||1)/e.cur()*start,jQuery.style(this,p,start+unit)),parts[1]&&(end=("-="===parts[1]?-1:1)*end+start),e.custom(start,end,unit)):e.custom(start,val,""));return!0}var optall=jQuery.speed(speed,easing,callback);return jQuery.isEmptyObject(prop)?this.each(optall.complete,[!1]):(prop=jQuery.extend({},prop),optall.queue===!1?this.each(doAnimation):this.queue(optall.queue,doAnimation))},stop:function(type,clearQueue,gotoEnd){return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=undefined),clearQueue&&type!==!1&&this.queue(type||"fx",[]),this.each(function(){function stopQueue(elem,data,i){var hooks=data[i];jQuery.removeData(elem,i,!0),hooks.stop(gotoEnd)}var i,hadTimers=!1,timers=jQuery.timers,data=jQuery._data(this);if(gotoEnd||jQuery._unmark(!0,this),null==type)for(i in data)data[i].stop&&i.indexOf(".run")===i.length-4&&stopQueue(this,data,i);else data[i=type+".run"]&&data[i].stop&&stopQueue(this,data,i);for(i=timers.length;i--;)timers[i].elem!==this||null!=type&&timers[i].queue!==type||(gotoEnd?timers[i](!0):timers[i].saveState(),hadTimers=!0,timers.splice(i,1));gotoEnd&&hadTimers||jQuery.dequeue(this,type)})}}),jQuery.each({slideDown:genFx("show",1),slideUp:genFx("hide",1),slideToggle:genFx("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.extend({speed:function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};return opt.duration=jQuery.fx.off?0:"number"==typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default,(null==opt.queue||opt.queue===!0)&&(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(noUnmark){jQuery.isFunction(opt.old)&&opt.old.call(this),opt.queue?jQuery.dequeue(this,opt.queue):noUnmark!==!1&&jQuery._unmark(this)},opt},easing:{linear:function(p,n,firstNum,diff){return firstNum+diff*p},swing:function(p,n,firstNum,diff){return(-Math.cos(p*Math.PI)/2+.5)*diff+firstNum}},timers:[],fx:function(elem,options,prop){this.options=options,this.elem=elem,this.prop=prop,options.orig=options.orig||{}}}),jQuery.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var parsed,r=jQuery.css(this.elem,this.prop);return isNaN(parsed=parseFloat(r))?r&&"auto"!==r?r:0:parsed},custom:function(from,to,unit){function t(gotoEnd){return self.step(gotoEnd)}var self=this,fx=jQuery.fx;this.startTime=fxNow||createFxNow(),this.end=to,this.now=this.start=from,this.pos=this.state=0,this.unit=unit||this.unit||(jQuery.cssNumber[this.prop]?"":"px"),t.queue=this.options.queue,t.elem=this.elem,t.saveState=function(){self.options.hide&&jQuery._data(self.elem,"fxshow"+self.prop)===undefined&&jQuery._data(self.elem,"fxshow"+self.prop,self.start)},t()&&jQuery.timers.push(t)&&!timerId&&(timerId=setInterval(fx.tick,fx.interval))},show:function(){var dataShow=jQuery._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=dataShow||jQuery.style(this.elem,this.prop),this.options.show=!0,dataShow!==undefined?this.custom(this.cur(),dataShow):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),jQuery(this.elem).show()},hide:function(){this.options.orig[this.prop]=jQuery._data(this.elem,"fxshow"+this.prop)||jQuery.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(gotoEnd){var p,n,complete,t=fxNow||createFxNow(),done=!0,elem=this.elem,options=this.options;if(gotoEnd||t>=options.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),options.animatedProperties[this.prop]=!0;for(p in options.animatedProperties)options.animatedProperties[p]!==!0&&(done=!1);if(done){if(null==options.overflow||jQuery.support.shrinkWrapBlocks||jQuery.each(["","X","Y"],function(index,value){elem.style["overflow"+value]=options.overflow[index]}),options.hide&&jQuery(elem).hide(),options.hide||options.show)for(p in options.animatedProperties)jQuery.style(elem,p,options.orig[p]),jQuery.removeData(elem,"fxshow"+p,!0),jQuery.removeData(elem,"toggle"+p,!0);complete=options.complete,complete&&(options.complete=!1,complete.call(elem))}return!1}return 1/0==options.duration?this.now=t:(n=t-this.startTime,this.state=n/options.duration,this.pos=jQuery.easing[options.animatedProperties[this.prop]](this.state,n,0,1,options.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},jQuery.extend(jQuery.fx,{tick:function(){for(var timer,timers=jQuery.timers,i=0;i<timers.length;i++)timer=timers[i],timer()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop()},interval:13,stop:function(){clearInterval(timerId),timerId=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(fx){jQuery.style(fx.elem,"opacity",fx.now)},_default:function(fx){fx.elem.style&&null!=fx.elem.style[fx.prop]?fx.elem.style[fx.prop]=fx.now+fx.unit:fx.elem[fx.prop]=fx.now}}}),jQuery.each(["width","height"],function(i,prop){jQuery.fx.step[prop]=function(fx){jQuery.style(fx.elem,prop,Math.max(0,fx.now))}}),jQuery.expr&&jQuery.expr.filters&&(jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length});var rtable=/^t(?:able|d|h)$/i,rroot=/^(?:body|html)$/i;jQuery.fn.offset="getBoundingClientRect"in document.documentElement?function(options){var box,elem=this[0];if(options)return this.each(function(i){jQuery.offset.setOffset(this,options,i)});if(!elem||!elem.ownerDocument)return null;if(elem===elem.ownerDocument.body)return jQuery.offset.bodyOffset(elem);try{box=elem.getBoundingClientRect()}catch(e){}var doc=elem.ownerDocument,docElem=doc.documentElement;if(!box||!jQuery.contains(docElem,elem))return box?{top:box.top,left:box.left}:{top:0,left:0};var body=doc.body,win=getWindow(doc),clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,scrollTop=win.pageYOffset||jQuery.support.boxModel&&docElem.scrollTop||body.scrollTop,scrollLeft=win.pageXOffset||jQuery.support.boxModel&&docElem.scrollLeft||body.scrollLeft,top=box.top+scrollTop-clientTop,left=box.left+scrollLeft-clientLeft;return{top:top,left:left}}:function(options){var elem=this[0];if(options)return this.each(function(i){jQuery.offset.setOffset(this,options,i)});if(!elem||!elem.ownerDocument)return null;if(elem===elem.ownerDocument.body)return jQuery.offset.bodyOffset(elem);for(var computedStyle,offsetParent=elem.offsetParent,prevOffsetParent=elem,doc=elem.ownerDocument,docElem=doc.documentElement,body=doc.body,defaultView=doc.defaultView,prevComputedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle,top=elem.offsetTop,left=elem.offsetLeft;(elem=elem.parentNode)&&elem!==body&&elem!==docElem&&(!jQuery.support.fixedPosition||"fixed"!==prevComputedStyle.position);)computedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle,top-=elem.scrollTop,left-=elem.scrollLeft,elem===offsetParent&&(top+=elem.offsetTop,left+=elem.offsetLeft,!jQuery.support.doesNotAddBorder||jQuery.support.doesAddBorderForTableAndCells&&rtable.test(elem.nodeName)||(top+=parseFloat(computedStyle.borderTopWidth)||0,left+=parseFloat(computedStyle.borderLeftWidth)||0),prevOffsetParent=offsetParent,offsetParent=elem.offsetParent),jQuery.support.subtractsBorderForOverflowNotVisible&&"visible"!==computedStyle.overflow&&(top+=parseFloat(computedStyle.borderTopWidth)||0,left+=parseFloat(computedStyle.borderLeftWidth)||0),prevComputedStyle=computedStyle;return("relative"===prevComputedStyle.position||"static"===prevComputedStyle.position)&&(top+=body.offsetTop,left+=body.offsetLeft),jQuery.support.fixedPosition&&"fixed"===prevComputedStyle.position&&(top+=Math.max(docElem.scrollTop,body.scrollTop),left+=Math.max(docElem.scrollLeft,body.scrollLeft)),{top:top,left:left}
},jQuery.offset={bodyOffset:function(body){var top=body.offsetTop,left=body.offsetLeft;return jQuery.support.doesNotIncludeMarginInBodyOffset&&(top+=parseFloat(jQuery.css(body,"marginTop"))||0,left+=parseFloat(jQuery.css(body,"marginLeft"))||0),{top:top,left:left}},setOffset:function(elem,options,i){var position=jQuery.css(elem,"position");"static"===position&&(elem.style.position="relative");var curTop,curLeft,curElem=jQuery(elem),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=("absolute"===position||"fixed"===position)&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1,props={},curPosition={};calculatePosition?(curPosition=curElem.position(),curTop=curPosition.top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),jQuery.isFunction(options)&&(options=options.call(elem,i,curOffset)),null!=options.top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({position:function(){if(!this[0])return null;var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=rroot.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();return offset.top-=parseFloat(jQuery.css(elem,"marginTop"))||0,offset.left-=parseFloat(jQuery.css(elem,"marginLeft"))||0,parentOffset.top+=parseFloat(jQuery.css(offsetParent[0],"borderTopWidth"))||0,parentOffset.left+=parseFloat(jQuery.css(offsetParent[0],"borderLeftWidth"))||0,{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent||document.body;offsetParent&&!rroot.test(offsetParent.nodeName)&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent})}}),jQuery.each(["Left","Top"],function(i,name){var method="scroll"+name;jQuery.fn[method]=function(val){var elem,win;return val===undefined?(elem=this[0])?(win=getWindow(elem),win?"pageXOffset"in win?win[i?"pageYOffset":"pageXOffset"]:jQuery.support.boxModel&&win.document.documentElement[method]||win.document.body[method]:elem[method]):null:this.each(function(){win=getWindow(this),win?win.scrollTo(i?jQuery(win).scrollLeft():val,i?val:jQuery(win).scrollTop()):this[method]=val})}}),jQuery.each(["Height","Width"],function(i,name){var type=name.toLowerCase();jQuery.fn["inner"+name]=function(){var elem=this[0];return elem?elem.style?parseFloat(jQuery.css(elem,type,"padding")):this[type]():null},jQuery.fn["outer"+name]=function(margin){var elem=this[0];return elem?elem.style?parseFloat(jQuery.css(elem,type,margin?"margin":"border")):this[type]():null},jQuery.fn[type]=function(size){var elem=this[0];if(!elem)return null==size?null:this;if(jQuery.isFunction(size))return this.each(function(i){var self=jQuery(this);self[type](size.call(this,i,self[type]()))});if(jQuery.isWindow(elem)){var docElemProp=elem.document.documentElement["client"+name],body=elem.document.body;return"CSS1Compat"===elem.document.compatMode&&docElemProp||body&&body["client"+name]||docElemProp}if(9===elem.nodeType)return Math.max(elem.documentElement["client"+name],elem.body["scroll"+name],elem.documentElement["scroll"+name],elem.body["offset"+name],elem.documentElement["offset"+name]);if(size===undefined){var orig=jQuery.css(elem,type),ret=parseFloat(orig);return jQuery.isNumeric(ret)?ret:orig}return this.css(type,"string"==typeof size?size:size+"px")}}),window.jQuery=window.$=jQuery}(window),window._g=window._g||{},window._g.$=$.noConflict(),_g.$.ajaxSettings.traditional=!0,$CQ=jQuery.noConflict(),$=jQuery.noConflict(),function(e,t){function i(t,i){var s,n,r,o=t.nodeName.toLowerCase();return"area"===o?(s=t.parentNode,n=s.name,t.href&&n&&"map"===s.nodeName.toLowerCase()?(r=e("img[usemap=#"+n+"]")[0],!!r&&a(r)):!1):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&a(t)}function a(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,n=/^ui-id-\d+$/;e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,i){return"number"==typeof t?this.each(function(){var a=this;setTimeout(function(){e(a).focus(),i&&i.call(a)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var a,s,n=e(this[0]);n.length&&n[0]!==document;){if(a=n.css("position"),("absolute"===a||"relative"===a||"fixed"===a)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){n.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,a){return!!e.data(t,a[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var a=e.attr(t,"tabindex"),s=isNaN(a);return(s||a>=0)&&i(t,!s)}}),e(function(){var t=document.body,i=t.appendChild(i=document.createElement("div"));i.offsetHeight,e.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===i.offsetHeight,e.support.selectstart="onselectstart"in i,t.removeChild(i).style.display="none"}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,a){function s(t,i,a,s){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,a&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===a?["Left","Right"]:["Top","Bottom"],r=a.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+a]=function(i){return i===t?o["inner"+a].call(this):this.each(function(){e(this).css(r,s(this,i)+"px")})},e.fn["outer"+a]=function(t,i){return"number"!=typeof t?o["outer"+a].call(this,t):this.each(function(){e(this).css(r,s(this,t,!0,i)+"px")})}}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=t.length?!0:!1,e.ui.ie6=6===parseFloat(t[1],10)}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,a){var s,n=e.ui[t].prototype;for(s in a)n.plugins[s]=n.plugins[s]||[],n.plugins[s].push([i,a[s]])},call:function(e,t,i){var a,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(a=0;s.length>a;a++)e.options[s[a][0]]&&s[a][1].apply(e.element,i)}},contains:e.contains,hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var a=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[a]>0?!0:(t[a]=1,s=t[a]>0,t[a]=0,s)},isOverAxis:function(e,t,i){return e>t&&t+i>e},isOver:function(t,i,a,s,n,r){return e.ui.isOverAxis(t,a,n)&&e.ui.isOverAxis(i,s,r)}}))}(jQuery),function(e,t){var i=0,s=Array.prototype.slice,a=e.cleanData;e.cleanData=function(t){for(var i,s=0;null!=(i=t[s]);s++)try{e(i).triggerHandler("remove")}catch(n){}a(t)},e.widget=function(i,s,a){var n,r,o,h,l=i.split(".")[0];i=i.split(".")[1],n=l+"-"+i,a||(a=s,s=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},r=e[l][i],o=e[l][i]=function(e,i){return this._createWidget?(arguments.length&&this._createWidget(e,i),t):new o(e,i)},e.extend(o,r,{version:a.version,_proto:e.extend({},a),_childConstructors:[]}),h=new s,h.options=e.widget.extend({},h.options),e.each(a,function(t,i){e.isFunction(i)&&(a[t]=function(){var e=function(){return s.prototype[t].apply(this,arguments)},a=function(e){return s.prototype[t].apply(this,e)};return function(){var t,s=this._super,n=this._superApply;return this._super=e,this._superApply=a,t=i.apply(this,arguments),this._super=s,this._superApply=n,t}}())}),o.prototype=e.widget.extend(h,{widgetEventPrefix:r?h.widgetEventPrefix:i},a,{constructor:o,namespace:l,widgetName:i,widgetBaseClass:n,widgetFullName:n}),r?(e.each(r._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete r._childConstructors):s._childConstructors.push(o),e.widget.bridge(i,o)},e.widget.extend=function(i){for(var a,n,r=s.call(arguments,1),o=0,h=r.length;h>o;o++)for(a in r[o])n=r[o][a],r[o].hasOwnProperty(a)&&n!==t&&(i[a]=e.isPlainObject(n)?e.isPlainObject(i[a])?e.widget.extend({},i[a],n):e.widget.extend({},n):n);return i},e.widget.bridge=function(i,a){var n=a.prototype.widgetFullName||i;e.fn[i]=function(r){var o="string"==typeof r,h=s.call(arguments,1),l=this;return r=!o&&h.length?e.widget.extend.apply(null,[r].concat(h)):r,this.each(o?function(){var s,a=e.data(this,n);return a?e.isFunction(a[r])&&"_"!==r.charAt(0)?(s=a[r].apply(a,h),s!==a&&s!==t?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):t):e.error("no such method '"+r+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+r+"'")}:function(){var t=e.data(this,n);t?t.option(r||{})._init():e.data(this,n,new a(r,this))}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,s){s=e(s||this.defaultElement||this)[0],this.element=e(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),s!==this&&(e.data(s,this.widgetName,this),e.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===s&&this.destroy()}}),this.document=e(s.style?s.ownerDocument:s.document||s),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,s){var a,n,r,o=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(o={},a=i.split("."),i=a.shift(),a.length){for(n=o[i]=e.widget.extend({},this.options[i]),r=0;a.length-1>r;r++)n[a[r]]=n[a[r]]||{},n=n[a[r]];if(i=a.pop(),s===t)return n[i]===t?null:n[i];n[i]=s}else{if(s===t)return this.options[i]===t?null:this.options[i];o[i]=s}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,s,a){var n,r=this;"boolean"!=typeof i&&(a=s,s=i,i=!1),a?(s=n=e(s),this.bindings=this.bindings.add(s)):(a=s,s=this.element,n=this.widget()),e.each(a,function(a,o){function h(){return i||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?r[o]:o).apply(r,arguments):t}"string"!=typeof o&&(h.guid=o.guid=o.guid||h.guid||e.guid++);var l=a.match(/^(\w+)\s*(.*)$/),u=l[1]+r.eventNamespace,c=l[2];c?n.delegate(c,u,h):s.bind(u,h)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var a,n,r=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],n=i.originalEvent)for(a in n)a in i||(i[a]=n[a]);return this.element.trigger(i,s),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,a,n){"string"==typeof a&&(a={effect:a});var r,o=a?a===!0||"number"==typeof a?i:a.effect||i:t;a=a||{},"number"==typeof a&&(a={duration:a}),r=!e.isEmptyObject(a),a.complete=n,a.delay&&s.delay(a.delay),r&&e.effects&&(e.effects.effect[o]||e.uiBackCompat!==!1&&e.effects[o])?s[t](a):o!==t&&s[o]?s[o](a.duration,a.easing,n):s.queue(function(i){e(this)[t](),n&&n.call(s[0]),i()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,a=1===i.which,n="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return a&&!n&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return s._mouseMove(e)},this._mouseUpDelegate=function(e){return s._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return!e.ui.ie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e,t){function i(e,t,i){return[parseInt(e[0],10)*(d.test(e[0])?t/100:1),parseInt(e[1],10)*(d.test(e[1])?i/100:1)]}function s(t,i){return parseInt(e.css(t,i),10)||0}e.ui=e.ui||{};var a,n=Math.max,r=Math.abs,o=Math.round,l=/left|center|right/,h=/top|center|bottom/,u=/[\+\-]\d+%?/,c=/^\w+/,d=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(a!==t)return a;var i,s,n=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=n.children()[0];return e("body").append(n),i=r.offsetWidth,n.css("overflow","scroll"),s=r.offsetWidth,i===s&&(s=n[0].clientWidth),n.remove(),a=i-s},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),s=t.isWindow?"":t.element.css("overflow-y"),a="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,n="scroll"===s||"auto"===s&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=e.isWindow(i[0]);return{element:i,isWindow:s,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return p.apply(this,arguments);t=e.extend({},t);var a,d,f,m,g,v=e(t.of),y=e.position.getWithinInfo(t.within),b=e.position.getScrollInfo(y),_=v[0],x=(t.collision||"flip").split(" "),k={};return 9===_.nodeType?(d=v.width(),f=v.height(),m={top:0,left:0}):e.isWindow(_)?(d=v.width(),f=v.height(),m={top:v.scrollTop(),left:v.scrollLeft()}):_.preventDefault?(t.at="left top",d=f=0,m={top:_.pageY,left:_.pageX}):(d=v.outerWidth(),f=v.outerHeight(),m=v.offset()),g=e.extend({},m),e.each(["my","at"],function(){var e,i,s=(t[this]||"").split(" ");1===s.length&&(s=l.test(s[0])?s.concat(["center"]):h.test(s[0])?["center"].concat(s):["center","center"]),s[0]=l.test(s[0])?s[0]:"center",s[1]=h.test(s[1])?s[1]:"center",e=u.exec(s[0]),i=u.exec(s[1]),k[this]=[e?e[0]:0,i?i[0]:0],t[this]=[c.exec(s[0])[0],c.exec(s[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===t.at[0]?g.left+=d:"center"===t.at[0]&&(g.left+=d/2),"bottom"===t.at[1]?g.top+=f:"center"===t.at[1]&&(g.top+=f/2),a=i(k.at,d,f),g.left+=a[0],g.top+=a[1],this.each(function(){var l,h,u=e(this),c=u.outerWidth(),p=u.outerHeight(),_=s(this,"marginLeft"),w=s(this,"marginTop"),D=c+_+s(this,"marginRight")+b.width,T=p+w+s(this,"marginBottom")+b.height,S=e.extend({},g),M=i(k.my,u.outerWidth(),u.outerHeight());"right"===t.my[0]?S.left-=c:"center"===t.my[0]&&(S.left-=c/2),"bottom"===t.my[1]?S.top-=p:"center"===t.my[1]&&(S.top-=p/2),S.left+=M[0],S.top+=M[1],e.support.offsetFractions||(S.left=o(S.left),S.top=o(S.top)),l={marginLeft:_,marginTop:w},e.each(["left","top"],function(i,s){e.ui.position[x[i]]&&e.ui.position[x[i]][s](S,{targetWidth:d,targetHeight:f,elemWidth:c,elemHeight:p,collisionPosition:l,collisionWidth:D,collisionHeight:T,offset:[a[0]+M[0],a[1]+M[1]],my:t.my,at:t.at,within:y,elem:u})}),e.fn.bgiframe&&u.bgiframe(),t.using&&(h=function(e){var i=m.left-S.left,s=i+d-c,a=m.top-S.top,o=a+f-p,l={target:{element:v,left:m.left,top:m.top,width:d,height:f},element:{element:u,left:S.left,top:S.top,width:c,height:p},horizontal:0>s?"left":i>0?"right":"center",vertical:0>o?"top":a>0?"bottom":"middle"};c>d&&d>r(i+s)&&(l.horizontal="center"),p>f&&f>r(a+o)&&(l.vertical="middle"),l.important=n(r(i),r(s))>n(r(a),r(o))?"horizontal":"vertical",t.using.call(this,e,l)}),u.offset(e.extend(S,{using:h}))})},e.ui.position={fit:{left:function(e,t){var i,s=t.within,a=s.isWindow?s.scrollLeft:s.offset.left,r=s.width,o=e.left-t.collisionPosition.marginLeft,l=a-o,h=o+t.collisionWidth-r-a;t.collisionWidth>r?l>0&&0>=h?(i=e.left+l+t.collisionWidth-r-a,e.left+=l-i):e.left=h>0&&0>=l?a:l>h?a+r-t.collisionWidth:a:l>0?e.left+=l:h>0?e.left-=h:e.left=n(e.left-o,e.left)},top:function(e,t){var i,s=t.within,a=s.isWindow?s.scrollTop:s.offset.top,r=t.within.height,o=e.top-t.collisionPosition.marginTop,l=a-o,h=o+t.collisionHeight-r-a;t.collisionHeight>r?l>0&&0>=h?(i=e.top+l+t.collisionHeight-r-a,e.top+=l-i):e.top=h>0&&0>=l?a:l>h?a+r-t.collisionHeight:a:l>0?e.top+=l:h>0?e.top-=h:e.top=n(e.top-o,e.top)}},flip:{left:function(e,t){var i,s,a=t.within,n=a.offset.left+a.scrollLeft,o=a.width,l=a.isWindow?a.scrollLeft:a.offset.left,h=e.left-t.collisionPosition.marginLeft,u=h-l,c=h+t.collisionWidth-o-l,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+d+p+f+t.collisionWidth-o-n,(0>i||r(u)>i)&&(e.left+=d+p+f)):c>0&&(s=e.left-t.collisionPosition.marginLeft+d+p+f-l,(s>0||c>r(s))&&(e.left+=d+p+f))},top:function(e,t){var i,s,a=t.within,n=a.offset.top+a.scrollTop,o=a.height,l=a.isWindow?a.scrollTop:a.offset.top,h=e.top-t.collisionPosition.marginTop,u=h-l,c=h+t.collisionHeight-o-l,d="top"===t.my[1],p=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(s=e.top+p+f+m+t.collisionHeight-o-n,e.top+p+f+m>u&&(0>s||r(u)>s)&&(e.top+=p+f+m)):c>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-l,e.top+p+f+m>c&&(i>0||c>r(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,a,n,r=document.getElementsByTagName("body")[0],o=document.createElement("div");t=document.createElement(r?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(n in s)t.style[n]=s[n];t.appendChild(o),i=r||document.documentElement,i.insertBefore(t,i.firstChild),o.style.cssText="position: absolute; left: 10.7432222px;",a=e(o).offset().left,e.support.offsetFractions=a>10&&11>a,t.innerHTML="",i.removeChild(t)}(),e.uiBackCompat!==!1&&function(e){var i=e.fn.position;e.fn.position=function(s){if(!s||!s.offset)return i.call(this,s);var a=s.offset.split(" "),n=s.at.split(" ");return 1===a.length&&(a[1]=a[0]),/^\d/.test(a[0])&&(a[0]="+"+a[0]),/^\d/.test(a[1])&&(a[1]="+"+a[1]),1===n.length&&(/left|center|right/.test(n[0])?n[1]="center":(n[1]=n[0],n[0]="center")),i.call(this,e.extend(s,{at:n[0]+a[0]+" "+n[1]+a[1],offset:t}))}}(jQuery)}(jQuery),function(e){var t=0;e.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,i,a;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(s){if(this.element.prop("readOnly"))return t=!0,a=!0,void(i=!0);t=!1,a=!1,i=!1;var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:t=!0,this._move("previousPage",s);break;case n.PAGE_DOWN:t=!0,this._move("nextPage",s);break;case n.UP:t=!0,this._keyEvent("previous",s);break;case n.DOWN:t=!0,this._keyEvent("next",s);break;case n.ENTER:case n.NUMPAD_ENTER:this.menu.active&&(t=!0,s.preventDefault(),this.menu.select(s));break;case n.TAB:this.menu.active&&this.menu.select(s);break;case n.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(s),s.preventDefault());break;default:i=!0,this._searchTimeout(s)}},keypress:function(a){if(t)return t=!1,void a.preventDefault();if(!i){var s=e.ui.keyCode;switch(a.keyCode){case s.PAGE_UP:this._move("previousPage",a);break;case s.PAGE_DOWN:this._move("nextPage",a);break;case s.UP:this._keyEvent("previous",a);break;case s.DOWN:this._keyEvent("next",a)}}},input:function(e){return a?(a=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:e(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(a){a.target===t.element[0]||a.target===i||e.contains(i,a.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});var a=i.item.data("ui-autocomplete-item")||i.item.data("item.autocomplete");!1!==this._trigger("focus",t,{item:a})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(a.value):this.liveRegion.text(a.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item")||t.item.data("item.autocomplete"),a=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=a,this._delay(function(){this.previous=a,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),e.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this.document.find(t||"body")[0]),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var t,i,a=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,a){a(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,s){a.xhr&&a.xhr.abort(),a.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){s(e)},error:function(){s([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,i=++t;return function(a){i===t&&e.__response(a),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(i,t),this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var a=this;e.each(i,function(e,i){a._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<a>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var a=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return a.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e){var t=!1;e.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()
},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(i){var s=e(i.target).closest(".ui-menu-item");!t&&s.not(".ui-state-disabled").length&&(t=!0,this.select(i),s.has(".ui-menu").length?this.expand(i):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=e(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(i){e(i.target).closest(".ui-menu").length||this.collapseAll(i),t=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var s,a,n,r,o,h=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:h=!1,a=this.previousFilter||"",n=String.fromCharCode(t.keyCode),r=!1,clearTimeout(this.filterTimer),n===a?r=!0:n=a+n,o=RegExp("^"+i(n),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return o.test(e(this).children("a").text())}),s=r&&-1!==s.index(this.active.next())?this.active.nextAll(".ui-menu-item"):s,s.length||(n=String.fromCharCode(t.keyCode),o=RegExp("^"+i(n),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return o.test(e(this).children("a").text())})),s.length?(this.focus(t,s),s.length>1?(this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}h&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i=this.options.icons.submenu,s=this.element.find(this.options.menus);s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),s=t.prev("a"),a=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);s.attr("aria-haspopup","true").prepend(a),t.attr("aria-labelledby",s.attr("id"))}),t=s.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-—–\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(e,t){var i,s;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),s=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,s,a,n,r,o;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,a=t.offset().top-this.activeMenu.offset().top-i-s,n=this.activeMenu.scrollTop(),r=this.activeMenu.height(),o=t.height(),0>a?this.activeMenu.scrollTop(n+a):a+o>r&&this.activeMenu.scrollTop(n+a-r+o))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(t),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var s;this.active&&(s="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,s)},nextPage:function(t){var i,s,a;return this.active?void(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,a=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),0>i.offset().top-s-a}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,s,a;return this.active?void(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,a=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-s+a>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}})}(jQuery),$.ui.autocomplete.prototype._renderItem=function(ul,item){var term=this.term.split(" ").join("|"),re=new RegExp("("+term+")","gi"),t=item.label.replace(re,"<b>$1</b>");return $("<li></li>").data("item.autocomplete",item).append("<a>"+t+"</a>").appendTo(ul)},function(jQuery){!function($){var defaults={vertical:!1,rtl:!1,start:1,offset:1,size:null,scroll:3,visible:null,animation:"normal",easing:"swing",auto:0,wrap:null,initCallback:null,setupCallback:null,reloadCallback:null,itemLoadCallback:null,itemFirstInCallback:null,itemFirstOutCallback:null,itemLastInCallback:null,itemLastOutCallback:null,itemVisibleInCallback:null,itemVisibleOutCallback:null,animationStepCallback:null,buttonNextHTML:"<div></div>",buttonPrevHTML:"<div></div>",buttonNextEvent:"click",buttonPrevEvent:"click",buttonNextCallback:null,buttonPrevCallback:null,itemFallbackDimension:null},windowLoaded=!1;$(window).bind("load.jcarousel",function(){windowLoaded=!0}),$.jcarousel=function(e,o){this.options=$.extend({},defaults,o||{}),this.locked=!1,this.autoStopped=!1,this.container=null,this.clip=null,this.list=null,this.buttonNext=null,this.buttonPrev=null,this.buttonNextState=null,this.buttonPrevState=null,o&&void 0!==o.rtl||(this.options.rtl="rtl"==($(e).attr("dir")||$("html").attr("dir")||"").toLowerCase()),this.wh=this.options.vertical?"height":"width",this.lt=this.options.vertical?"top":this.options.rtl?"right":"left";for(var skin="",split=e.className.split(" "),i=0;i<split.length;i++)if(-1!=split[i].indexOf("jcarousel-skin")){$(e).removeClass(split[i]),skin=split[i];break}"UL"==e.nodeName.toUpperCase()||"OL"==e.nodeName.toUpperCase()?(this.list=$(e),this.clip=this.list.parents(".jcarousel-clip"),this.container=this.list.parents(".jcarousel-container")):(this.container=$(e),this.list=this.container.find("ul,ol").eq(0),this.clip=this.container.find(".jcarousel-clip")),0===this.clip.size()&&(this.clip=this.list.wrap("<div></div>").parent()),0===this.container.size()&&(this.container=this.clip.wrap("<div></div>").parent()),""!==skin&&-1==this.container.parent()[0].className.indexOf("jcarousel-skin")&&this.container.wrap('<div class=" '+skin+'"></div>'),this.buttonPrev=$(".jcarousel-prev",this.container),0===this.buttonPrev.size()&&null!==this.options.buttonPrevHTML&&(this.buttonPrev=$(this.options.buttonPrevHTML).appendTo(this.container)),this.buttonPrev.addClass(this.className("jcarousel-prev")),this.buttonNext=$(".jcarousel-next",this.container),0===this.buttonNext.size()&&null!==this.options.buttonNextHTML&&(this.buttonNext=$(this.options.buttonNextHTML).appendTo(this.container)),this.buttonNext.addClass(this.className("jcarousel-next")),this.clip.addClass(this.className("jcarousel-clip")).css({position:"relative"}),this.list.addClass(this.className("jcarousel-list")).css({overflow:"hidden",position:"relative",top:0,margin:0,padding:0}).css(this.options.rtl?"right":"left",0),this.container.addClass(this.className("jcarousel-container")).css({position:"relative"}),!this.options.vertical&&this.options.rtl&&this.container.addClass("jcarousel-direction-rtl").attr("dir","rtl");var di=null!==this.options.visible?Math.ceil(this.clipping()/this.options.visible):null,li=this.list.children("li"),self=this;if(li.size()>0){var wh=0,j=this.options.offset;li.each(function(){self.format(this,j++),wh+=self.dimension(this,di)}),this.list.css(this.wh,wh+100+"px"),o&&void 0!==o.size||(this.options.size=li.size())}this.container.css("display","block"),this.buttonNext.css("display","block"),this.buttonPrev.css("display","block"),this.funcNext=function(){self.next()},this.funcPrev=function(){self.prev()},this.funcResize=function(){self.resizeTimer&&clearTimeout(self.resizeTimer),self.resizeTimer=setTimeout(function(){self.reload()},100)},null!==this.options.initCallback&&this.options.initCallback(this,"init"),!windowLoaded&&$.browser.safari?(this.buttons(!1,!1),$(window).bind("load.jcarousel",function(){self.setup()})):this.setup()};var $jc=$.jcarousel;$jc.fn=$jc.prototype={jcarousel:"0.2.8"},$jc.fn.extend=$jc.extend=$.extend,$jc.fn.extend({setup:function(){if(this.first=null,this.last=null,this.prevFirst=null,this.prevLast=null,this.animating=!1,this.timer=null,this.resizeTimer=null,this.tail=null,this.inTail=!1,!this.locked){this.list.css(this.lt,this.pos(this.options.offset)+"px");var p=this.pos(this.options.start,!0);this.prevFirst=this.prevLast=null,this.animate(p,!1),$(window).unbind("resize.jcarousel",this.funcResize).bind("resize.jcarousel",this.funcResize),null!==this.options.setupCallback&&this.options.setupCallback(this)}},reset:function(){this.list.empty(),this.list.css(this.lt,"0px"),this.list.css(this.wh,"10px"),null!==this.options.initCallback&&this.options.initCallback(this,"reset"),this.setup()},reload:function(){if(null!==this.tail&&this.inTail&&this.list.css(this.lt,$jc.intval(this.list.css(this.lt))+this.tail),this.tail=null,this.inTail=!1,null!==this.options.reloadCallback&&this.options.reloadCallback(this),null!==this.options.visible){var self=this,di=Math.ceil(this.clipping()/this.options.visible),wh=0,lt=0;this.list.children("li").each(function(i){wh+=self.dimension(this,di),i+1<self.first&&(lt=wh)}),this.list.css(this.wh,wh+"px"),this.list.css(this.lt,-lt+"px")}this.scroll(this.first,!1)},lock:function(){this.locked=!0,this.buttons()},unlock:function(){this.locked=!1,this.buttons()},size:function(s){return void 0!==s&&(this.options.size=s,this.locked||this.buttons()),this.options.size},has:function(i,i2){void 0!==i2&&i2||(i2=i),null!==this.options.size&&i2>this.options.size&&(i2=this.options.size);for(var j=i;i2>=j;j++){var e=this.get(j);if(!e.length||e.hasClass("jcarousel-item-placeholder"))return!1}return!0},get:function(i){return $(">.jcarousel-item-"+i,this.list)},add:function(i,s){var e=this.get(i),old=0,n=$(s);if(0===e.length){var c,j=$jc.intval(i);for(e=this.create(i);;)if(c=this.get(--j),0>=j||c.length){0>=j?this.list.prepend(e):c.after(e);break}}else old=this.dimension(e);"LI"==n.get(0).nodeName.toUpperCase()?(e.replaceWith(n),e=n):e.empty().append(s),this.format(e.removeClass(this.className("jcarousel-item-placeholder")),i);var di=null!==this.options.visible?Math.ceil(this.clipping()/this.options.visible):null,wh=this.dimension(e,di)-old;return i>0&&i<this.first&&this.list.css(this.lt,$jc.intval(this.list.css(this.lt))-wh+"px"),this.list.css(this.wh,$jc.intval(this.list.css(this.wh))+wh+"px"),e},remove:function(i){var e=this.get(i);if(e.length&&!(i>=this.first&&i<=this.last)){var d=this.dimension(e);i<this.first&&this.list.css(this.lt,$jc.intval(this.list.css(this.lt))+d+"px"),e.remove(),this.list.css(this.wh,$jc.intval(this.list.css(this.wh))-d+"px")}},next:function(){null===this.tail||this.inTail?this.scroll("both"!=this.options.wrap&&"last"!=this.options.wrap||null===this.options.size||this.last!=this.options.size?this.first+this.options.scroll:1):this.scrollTail(!1)},prev:function(){null!==this.tail&&this.inTail?this.scrollTail(!0):this.scroll("both"!=this.options.wrap&&"first"!=this.options.wrap||null===this.options.size||1!=this.first?this.first-this.options.scroll:this.options.size)},scrollTail:function(b){if(!this.locked&&!this.animating&&this.tail){this.pauseAuto();var pos=$jc.intval(this.list.css(this.lt));pos=b?pos+this.tail:pos-this.tail,this.inTail=!b,this.prevFirst=this.first,this.prevLast=this.last,this.animate(pos)}},scroll:function(i,a){this.locked||this.animating||(this.pauseAuto(),this.animate(this.pos(i),a))},pos:function(i,fv){var pos=$jc.intval(this.list.css(this.lt));if(this.locked||this.animating)return pos;"circular"!=this.options.wrap&&(i=1>i?1:this.options.size&&i>this.options.size?this.options.size:i);for(var g,back=this.first>i,f="circular"!=this.options.wrap&&this.first<=1?1:this.first,c=this.get(back?f:this.last),j=back?f:f-1,e=null,l=0,p=!1,d=0;back?--j>=i:++j<i;)e=this.get(j),p=!e.length,0===e.length&&(e=this.create(j).addClass(this.className("jcarousel-item-placeholder")),c[back?"before":"after"](e),null!==this.first&&"circular"==this.options.wrap&&null!==this.options.size&&(0>=j||j>this.options.size)&&(g=this.get(this.index(j)),g.length&&(e=this.add(j,g.clone(!0))))),c=e,d=this.dimension(e),p&&(l+=d),null!==this.first&&("circular"==this.options.wrap||j>=1&&(null===this.options.size||j<=this.options.size))&&(pos=back?pos+d:pos-d);var clipping=this.clipping(),cache=[],visible=0,v=0;for(c=this.get(i-1),j=i;++visible;){if(e=this.get(j),p=!e.length,0===e.length&&(e=this.create(j).addClass(this.className("jcarousel-item-placeholder")),0===c.length?this.list.prepend(e):c[back?"before":"after"](e),null!==this.first&&"circular"==this.options.wrap&&null!==this.options.size&&(0>=j||j>this.options.size)&&(g=this.get(this.index(j)),g.length&&(e=this.add(j,g.clone(!0))))),c=e,d=this.dimension(e),0===d)throw new Error("jCarousel: No width/height set for items. This will cause an infinite loop. Aborting...");if("circular"!=this.options.wrap&&null!==this.options.size&&j>this.options.size?cache.push(e):p&&(l+=d),v+=d,v>=clipping)break;j++}for(var x=0;x<cache.length;x++)cache[x].remove();l>0&&(this.list.css(this.wh,this.dimension(this.list)+l+"px"),back&&(pos-=l,this.list.css(this.lt,$jc.intval(this.list.css(this.lt))-l+"px")));var last=i+visible-1;if("circular"!=this.options.wrap&&this.options.size&&last>this.options.size&&(last=this.options.size),j>last)for(visible=0,j=last,v=0;++visible&&(e=this.get(j--),e.length)&&(v+=this.dimension(e),!(v>=clipping)););var first=last-visible+1;if("circular"!=this.options.wrap&&1>first&&(first=1),this.inTail&&back&&(pos+=this.tail,this.inTail=!1),this.tail=null,"circular"!=this.options.wrap&&last==this.options.size&&last-visible+1>=1){var m=$jc.intval(this.get(last).css(this.options.vertical?"marginBottom":"marginRight"));v-m>clipping&&(this.tail=v-clipping-m)}for(fv&&i===this.options.size&&this.tail&&(pos-=this.tail,this.inTail=!0);i-->first;)pos+=this.dimension(this.get(i));return this.prevFirst=this.first,this.prevLast=this.last,this.first=first,this.last=last,pos},animate:function(p,a){if(!this.locked&&!this.animating){this.animating=!0;var self=this,scrolled=function(){if(self.animating=!1,0===p&&self.list.css(self.lt,0),!self.autoStopped&&("circular"==self.options.wrap||"both"==self.options.wrap||"last"==self.options.wrap||null===self.options.size||self.last<self.options.size||self.last==self.options.size&&null!==self.tail&&!self.inTail)&&self.startAuto(),self.buttons(),self.notify("onAfterAnimation"),"circular"==self.options.wrap&&null!==self.options.size)for(var i=self.prevFirst;i<=self.prevLast;i++)null===i||i>=self.first&&i<=self.last||!(1>i||i>self.options.size)||self.remove(i)};if(this.notify("onBeforeAnimation"),this.options.animation&&a!==!1){var o=this.options.vertical?{top:p}:this.options.rtl?{right:p}:{left:p},settings={duration:this.options.animation,easing:this.options.easing,complete:scrolled};$.isFunction(this.options.animationStepCallback)&&(settings.step=this.options.animationStepCallback),this.list.animate(o,settings)}else this.list.css(this.lt,p+"px"),scrolled()}},startAuto:function(s){if(void 0!==s&&(this.options.auto=s),0===this.options.auto)return this.stopAuto();if(null===this.timer){this.autoStopped=!1;var self=this;this.timer=window.setTimeout(function(){self.next()},1e3*this.options.auto)}},stopAuto:function(){this.pauseAuto(),this.autoStopped=!0},pauseAuto:function(){null!==this.timer&&(window.clearTimeout(this.timer),this.timer=null)},buttons:function(n,p){null==n&&(n=!this.locked&&0!==this.options.size&&(this.options.wrap&&"first"!=this.options.wrap||null===this.options.size||this.last<this.options.size),this.locked||this.options.wrap&&"first"!=this.options.wrap||null===this.options.size||!(this.last>=this.options.size)||(n=null!==this.tail&&!this.inTail)),null==p&&(p=!this.locked&&0!==this.options.size&&(this.options.wrap&&"last"!=this.options.wrap||this.first>1),this.locked||this.options.wrap&&"last"!=this.options.wrap||null===this.options.size||1!=this.first||(p=null!==this.tail&&this.inTail));var self=this;this.buttonNext.size()>0?(this.buttonNext.unbind(this.options.buttonNextEvent+".jcarousel",this.funcNext),n&&this.buttonNext.bind(this.options.buttonNextEvent+".jcarousel",this.funcNext),this.buttonNext[n?"removeClass":"addClass"](this.className("jcarousel-next-disabled")).attr("disabled",n?!1:!0),null!==this.options.buttonNextCallback&&this.buttonNext.data("jcarouselstate")!=n&&this.buttonNext.each(function(){self.options.buttonNextCallback(self,this,n)}).data("jcarouselstate",n)):null!==this.options.buttonNextCallback&&this.buttonNextState!=n&&this.options.buttonNextCallback(self,null,n),this.buttonPrev.size()>0?(this.buttonPrev.unbind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev),p&&this.buttonPrev.bind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev),this.buttonPrev[p?"removeClass":"addClass"](this.className("jcarousel-prev-disabled")).attr("disabled",p?!1:!0),null!==this.options.buttonPrevCallback&&this.buttonPrev.data("jcarouselstate")!=p&&this.buttonPrev.each(function(){self.options.buttonPrevCallback(self,this,p)}).data("jcarouselstate",p)):null!==this.options.buttonPrevCallback&&this.buttonPrevState!=p&&this.options.buttonPrevCallback(self,null,p),this.buttonNextState=n,this.buttonPrevState=p},notify:function(evt){var state=null===this.prevFirst?"init":this.prevFirst<this.first?"next":"prev";this.callback("itemLoadCallback",evt,state),this.prevFirst!==this.first&&(this.callback("itemFirstInCallback",evt,state,this.first),this.callback("itemFirstOutCallback",evt,state,this.prevFirst)),this.prevLast!==this.last&&(this.callback("itemLastInCallback",evt,state,this.last),this.callback("itemLastOutCallback",evt,state,this.prevLast)),this.callback("itemVisibleInCallback",evt,state,this.first,this.last,this.prevFirst,this.prevLast),this.callback("itemVisibleOutCallback",evt,state,this.prevFirst,this.prevLast,this.first,this.last)},callback:function(cb,evt,state,i1,i2,i3,i4){if(null!=this.options[cb]&&("object"==typeof this.options[cb]||"onAfterAnimation"==evt)){var callback="object"==typeof this.options[cb]?this.options[cb][evt]:this.options[cb];if($.isFunction(callback)){var self=this;if(void 0===i1)callback(self,state,evt);else if(void 0===i2)this.get(i1).each(function(){callback(self,this,i1,state,evt)});else for(var call=function(i){self.get(i).each(function(){callback(self,this,i,state,evt)})},i=i1;i2>=i;i++)null===i||i>=i3&&i4>=i||call(i)}}},create:function(i){return this.format("<li></li>",i)},format:function(e,i){e=$(e);for(var split=e.get(0).className.split(" "),j=0;j<split.length;j++)-1!=split[j].indexOf("jcarousel-")&&e.removeClass(split[j]);return e.addClass(this.className("jcarousel-item")).addClass(this.className("jcarousel-item-"+i)).css({"float":this.options.rtl?"right":"left","list-style":"none"}).attr("jcarouselindex",i),e},className:function(c){return c+" "+c+(this.options.vertical?"-vertical":"-horizontal")},dimension:function(e,d){var el=$(e);if(null==d)return this.options.vertical?el.outerHeight(!0)||$jc.intval(this.options.itemFallbackDimension):el.outerWidth(!0)||$jc.intval(this.options.itemFallbackDimension);var w=this.options.vertical?d-$jc.intval(el.css("marginTop"))-$jc.intval(el.css("marginBottom")):d-$jc.intval(el.css("marginLeft"))-$jc.intval(el.css("marginRight"));return $(el).css(this.wh,w+"px"),this.dimension(el)},clipping:function(){return this.options.vertical?this.clip[0].offsetHeight-$jc.intval(this.clip.css("borderTopWidth"))-$jc.intval(this.clip.css("borderBottomWidth")):this.clip[0].offsetWidth-$jc.intval(this.clip.css("borderLeftWidth"))-$jc.intval(this.clip.css("borderRightWidth"))},index:function(i,s){return null==s&&(s=this.options.size),Math.round(((i-1)/s-Math.floor((i-1)/s))*s)+1}}),$jc.extend({defaults:function(d){return $.extend(defaults,d||{})},intval:function(v){return v=parseInt(v,10),isNaN(v)?0:v},windowLoaded:function(){windowLoaded=!0}}),$.fn.jcarousel=function(o){if("string"==typeof o){var instance=$(this).data("jcarousel"),args=Array.prototype.slice.call(arguments,1);return instance[o].apply(instance,args)}return this.each(function(){var instance=$(this).data("jcarousel");instance?(o&&$.extend(instance.options,o),instance.reload()):$(this).data("jcarousel",new $jc(this,o))})}}(jQuery)}(window.$CQ||window.$||function(){throw new Error("jQuery is not defined")}(),window.$CQ||window.$);var s_code="",s_objectID;s_giqf(),window.CQ_Analytics||(window.CQ_Analytics={}),CQ_Analytics.Operator=function(){return function(){}}(),CQ_Analytics.Operator.IS="is",CQ_Analytics.Operator.EQUALS="equals",CQ_Analytics.Operator.NOT_EQUAL="notequal",CQ_Analytics.Operator.GREATER="greater",CQ_Analytics.Operator.GREATER_OR_EQUAL="greaterorequal",CQ_Analytics.Operator.OLDER="older",CQ_Analytics.Operator.OLDER_OR_EQUAL="olderorequal",CQ_Analytics.Operator.LESS="less",CQ_Analytics.Operator.LESS_OR_EQUAL="lessorequal",CQ_Analytics.Operator.YOUNGER="younger",CQ_Analytics.Operator.YOUNGER_OR_EQUAL="youngerorequal",CQ_Analytics.Operator.CONTAINS="contains",CQ_Analytics.Operator.DOES_NOT_CONTAIN="doesnotcontain",CQ_Analytics.Operator.BEGINS_WITH="beginswith",CQ_Analytics.Operator.MULTIPLE_OF="multipleof",CQ_Analytics.OperatorActions=function(){var mapping={},addOperator=function(name,text,operation){mapping[name]=[text,operation]};addOperator(CQ_Analytics.Operator.EQUALS,"equals","=="),addOperator(CQ_Analytics.Operator.IS,"is","=="),addOperator(CQ_Analytics.Operator.NOT_EQUAL,"is not equal to","!="),addOperator(CQ_Analytics.Operator.GREATER,"is greater than",">"),addOperator(CQ_Analytics.Operator.GREATER_OR_EQUAL,"is equal to or greater than",">="),addOperator(CQ_Analytics.Operator.OLDER,"is older than",">"),addOperator(CQ_Analytics.Operator.OLDER_OR_EQUAL,"is equal to or older than",">="),addOperator(CQ_Analytics.Operator.LESS,"is less than","<"),addOperator(CQ_Analytics.Operator.LESS_OR_EQUAL,"is equal to or less than","<="),addOperator(CQ_Analytics.Operator.YOUNGER,"is younger than","<"),addOperator(CQ_Analytics.Operator.YOUNGER_OR_EQUAL,"is equal to or younger than","<="),addOperator(CQ_Analytics.Operator.CONTAINS,"contains",function(s1,s2){return s1?s2?(s1=""+s1,s2=""+s2,-1!=s1.toLowerCase().indexOf(s2.toLowerCase())):!0:!1}),addOperator(CQ_Analytics.Operator.DOES_NOT_CONTAIN,"does not contain",function(s1,s2){return s1&&s2?(s1=""+s1,s2=""+s2,-1==s1.toLowerCase().indexOf(s2.toLowerCase())):!0}),addOperator(CQ_Analytics.Operator.BEGINS_WITH,"begins with",function(s1,s2){return s1?s2?(s1=""+s1,s2=""+s2,0==s1.toLowerCase().indexOf(s2.toLowerCase())):!0:!1}),addOperator(CQ_Analytics.Operator.MULTIPLE_OF,"multiple of",function(s1,s2){return s1&&"number"==typeof parseInt(s1)&&s2&&"number"==typeof parseInt(s2)?parseInt(s1)%parseInt(s2)==0:!1});var getByIndex=function(op,index){return mapping[op]&&mapping[op][index]?mapping[op][index]:""},escapeQuote=function(str){return str&&(str=str.replace(new RegExp("\\'","ig"),str)),str};return{getText:function(operator){return getByIndex(operator,0)},getOperation:function(operator){return getByIndex(operator,1)},operate:function(object,property,operator,value,valueFormat){try{if(object&&"undefined"!=typeof object[property]){var toEval="",op=this.getOperation(operator);op=op?op:operator;var objectValue=CQ.shared.XSS.getXSSTablePropertyValue(object,property);if("function"==typeof op)return op.call(this,objectValue,value,valueFormat);if(valueFormat)toEval=valueFormat+"("+objectValue+") "+op+" "+valueFormat+"("+value+")";else{var s1=escapeQuote(objectValue),s2=escapeQuote(value);toEval="'"+s1+"' "+op+" '"+s2+"'"}var b=eval(toEval);return b}}catch(e){}return!1}}}();var RUZEE=window.RUZEE||{};RUZEE.ShadedBorder={create:function(opts){function sty(el,h){for(k in h)/ie_/.test(k)?isie&&(el.style[k.substr(3)]=h[k]):el.style[k]=h[k]}function crdiv(h){var el=document.createElement("div");return el.className="sb-gen",sty(el,h),el}function op(v){return v=0>v?0:v,v>.99999?"":isie?" filter:alpha(opacity="+100*v+");":" opacity:"+v+";"}function corner(el,t,l){var w=l?lw:rw,h=t?th:bh,s=t?cs:-cs,dsb=[],dsi=[],dss=[],xp=0,xd=1;l&&(xp=w-1,xd=-1);for(var x=0;w>x;++x){var yp=h-1,yd=-1;t&&(yp=0,yd=1);for(var finished=!1,y=h-1;y>=0&&!finished;--y){var div='<div style="position:absolute; top:'+yp+"px; left:"+xp+"px; width:1px; height:1px; overflow:hidden; margin:0; padding:0;",xc=x-cx,yc=y-cy-s,d=Math.sqrt(xc*xc+yc*yc),doShadow=!1;if(r>0){if(0>xc&&bor>yc&&yc>=r||0>yc&&bor>xc&&xc>=r)dsb.push(div+op(boo)+'" class="'+bclass+'"></div>');else if(bor>d&&d>=r-1&&xc>=0&&yc>=0){var dd=div;d>=bor-1?(dd+=op((bor-d)*boo),doShadow=!0):dd+=op(boo),dsb.push(dd+'" class="'+bclass+'"></div>')}var dd=div+" z-index:2;"+(t?"background-position:0 -"+(r-yc-1)+"px;":"background-image:none;"),finish=function(){t||(dd=dd.replace(/top\:\d+px/,"top:0px")),dd=dd.replace(/height\:1px/,"height:"+(y+1)+"px"),dsi.push(dd+'" class="'+iclass+'"></div>'),finished=!0};0>xc&&r>yc||0>yc&&r>xc?finish():r>d&&xc>=0&&yc>=0?d>=r-1?(dd+=op(r-d),doShadow=!0,dsi.push(dd+'" class="'+iclass+'"></div>')):finish():doShadow=!0}else doShadow=!0;sr>0&&doShadow&&(d=Math.sqrt(x*x+y*y),sr>d&&dss.push(div+" z-index:0; "+op(1-d/sr)+'" class="'+sclass+'"></div>')),yp+=yd}xp+=xd}el.innerHTML=dss.concat(dsb.concat(dsi)).join("")}function mid(mw){var ds=[];ds.push('<div style="position:relative; top:'+(th+bh)+"px; height:2048px;  margin:0 "+(rw-r-cx)+"px 0 "+(lw-r-cx)+"px;  padding:0; overflow:hidden; background-position:0 "+(th>0?-(r+cy+cs):"0")+'px;" class="'+iclass+'"></div>');var dd='<div style="position:absolute; width:1px; top:'+(th+bh)+"px; height:2048px; padding:0; margin:0;";if(sr>0){for(var x=0;lw-r-cx>x;++x)ds.push(dd+" left:"+x+"px;"+op((x+1)/lw)+'" class="'+sclass+'"></div>');for(var x=0;rw-r-cx>x;++x)ds.push(dd+" right:"+x+"px;"+op((x+1)/rw)+'" class="'+sclass+'"></div>')}if(bow>0){var su=" width:"+bow+"px;"+op(boo)+'" class="'+bclass+'"></div>';ds.push(dd+" left:"+(lw-bor-cx)+"px;"+su),ds.push(dd+" right:"+(rw-bor-cx)+"px;"+su)}mw.innerHTML=ds.join("")}function tb(el,t){for(var ds=[],h=t?th:bh,dd='<div style="height:1px; overflow:hidden; position:absolute; margin:0; padding:0; width:100%; left:0px; ',s=t?cs:-cs,y=0;h-s-cy-r>y;++y)sr>0&&ds.push(dd+(t?"top:":"bottom:")+y+"px;"+op(1*(y+1)/h)+'" class="'+sclass+'"></div>');y>=bow&&ds.push(dd+(t?"top:":"bottom:")+(y-bow)+"px;"+op(boo)+" height:"+bow+'px;" class="'+bclass+'"></div>'),ds.push(dd+(t?"background-position-y:0; top:":"background-image:none; bottom:")+y+"px; height:"+(r+cy+s)+'px;" class="'+iclass+'"></div>'),el.innerHTML=ds.join("")}var isie=/msie/i.test(navigator.userAgent)&&!window.opera,isie6=isie&&!window.XMLHttpRequest,sr=opts.shadow||0,r=opts.corner||0,bor=0,bow=opts.border||0,boo=opts.borderOpacity||1,shadow=0!=sr,lw=r>sr?r:sr,rw=lw,th=lw,bh=lw;bow>0&&(bor=r,r-=bow);var cx=0!=r&&shadow?Math.round(lw/3):0,cy=cx,cs=Math.round(cx/2),iclass=r>0?"sb-inner":"sb-shadow",sclass="sb-shadow",bclass="sb-border",edges=opts.edges||"trlb";/t/i.test(edges)||(th=0),/b/i.test(edges)||(bh=0),/l/i.test(edges)||(lw=0),/r/i.test(edges)||(rw=0);var p={position:"absolute",left:"0",top:"0",width:lw+"px",height:th+"px",ie_fontSize:"1px",overflow:"hidden",margin:"0",padding:"0"},tl=crdiv(p);delete p.left,p.right="0",p.width=rw+"px";var tr=crdiv(p);delete p.top,p.bottom="0",p.height=bh+"px";var br=crdiv(p);delete p.right,p.left="0",p.width=lw+"px";var bl=crdiv(p),tw=crdiv({position:"absolute",width:"100%",height:th+"px",ie_fontSize:"1px",top:"0",left:"0",overflow:"hidden",margin:"0",padding:"0"}),t=crdiv({position:"relative",height:th+"px",ie_fontSize:"1px",margin:"0 "+rw+"px 0 "+lw+"px",overflow:"hidden",padding:"0"});
tw.appendChild(t);var bw=crdiv({position:"absolute",left:"0",bottom:"0",width:"100%",height:bh+"px",ie_fontSize:"1px",overflow:"hidden",margin:"0",padding:"0"}),b=crdiv({position:"relative",height:bh+"px",ie_fontSize:"1px",margin:"0 "+rw+"px 0 "+lw+"px",overflow:"hidden",padding:"0"});bw.appendChild(b);var mw=crdiv({position:"absolute",top:-bh+"px",left:"0",width:"100%",height:"100%",overflow:"hidden",ie_fontSize:"1px",padding:"0",margin:"0"});return corner(tl,!0,!0),corner(tr,!0,!1),corner(bl,!1,!0),corner(br,!1,!1),mid(mw),tb(t,!0),tb(b,!1),{render:function(el){function resize(){twc.style.width=bwc.style.width=mwc.style.width=el.offsetWidth+"px",mwc.firstChild.style.height=el.offsetHeight+"px"}if("string"==typeof el&&(el=document.getElementById(el)),void 0==el.length){el.className+=" sb",sty(el,{position:"relative",background:"transparent"});for(var node=el.firstChild;node;){var nextNode=node.nextSibling;1==node.nodeType&&"sb-gen"==node.className&&el.removeChild(node),node=nextNode}var iel=el.firstChild,twc=tw.cloneNode(!0),mwc=mw.cloneNode(!0),bwc=bw.cloneNode(!0);el.insertBefore(tl.cloneNode(!0),iel),el.insertBefore(tr.cloneNode(!0),iel),el.insertBefore(bl.cloneNode(!0),iel),el.insertBefore(br.cloneNode(!0),iel),el.insertBefore(twc,iel),el.insertBefore(mwc,iel),el.insertBefore(bwc,iel),isie6&&(el.onmouseover=function(){this.className+=" hover"},el.onmouseout=function(){this.className=this.className.replace(/ hover/,"")},window.setTimeout(function(){el.className+=" hover",el.className=el.className.replace(/ hover/,"")},100)),isie&&(el.onresize=resize,resize())}else for(var i=0;i<el.length;++i)this.render(el[i])}}}},CQ_Analytics.Utils=new function(){return{registerDocumentEventHandler:function(event,func){var oldHandler=window.document[event];window.document[event]="function"!=typeof window.document[event]?func:function(e){oldHandler&&oldHandler(e),func(e)}},eventWrapper:function(func){return function(e){var keyCode,event;document.all?(keyCode=window.event.keyCode,event=window.event):(keyCode="undefined"!=typeof e.which?e.which:0,event=e),event&&func(event,keyCode)}},loadElement:function(url,elemId){$CQ("#"+elemId).load(url)},loadTeaserElement:function(url,elemId){var showTeaser=($CQ("#"+elemId).css("height"),function(text){if(text&&""!=text){var toInject=$CQ(text);$CQ("#"+elemId).html(toInject)}}),cacheTeaser=function(url,text){CQ_Analytics.Utils.teasersCache||(CQ_Analytics.Utils.teasersCache={}),CQ_Analytics.Utils.teasersCache[url]=text},handleTeaser=function(){CQ_Analytics.Utils.teasersCache&&CQ_Analytics.Utils.teasersCache[url]?showTeaser(CQ_Analytics.Utils.teasersCache[url]):(CQ_Analytics.Utils.teasersLoading=CQ_Analytics.Utils.teasersLoading||{},CQ_Analytics.Utils.teasersLoading[url]?window.setTimeout(function(){CQ_Analytics.Utils.loadTeaserElement(url,elemId)},100):(CQ_Analytics.Utils.teasersLoading[url]=!0,loadTeaser()))},loadTeaser=function(){CQ.shared.HTTP.get(url,function(o,success,response){if(success){var text=response.body;text&&(text=text.replace(new RegExp("\\n","ig"),""),text=text.replace(new RegExp("\\r","ig"),""),cacheTeaser(url,text),handleTeaser(),delete CQ_Analytics.Utils.teasersLoading[url])}else cacheTeaser(url,"")})};$CQ("#"+elemId).empty(),handleTeaser()},clearElement:function(elemId){elemId&&$CQ("#"+elemId).html("")},indexOf:function(array,o){for(var i=0,len=array.length;len>i;i++)if(array[i]==o)return i;return-1},load:function(url,callback,scope){return CQ.shared.HTTP.get(url,callback,scope)},post:function(url,callback,params,scope){return CQ.shared.HTTP.post(url,callback,params,scope)},getPagePath:function(){return CQ.shared.HTTP.getPath()},getPath:function(url){return CQ.shared.HTTP.getPath(url)},addParameter:function(url,name,value){return CQ.shared.HTTP.addParameter(url,name,value)},removeParameters:function(url){return CQ.shared.HTTP.removeParameters(url)},removeAnchor:function(url){return CQ.shared.HTTP.removeAnchor(url)},getSchemeAndAuthority:function(url){return CQ.shared.HTTP.getSchemeAndAuthority(url)},internalize:function(url,doc){return CQ.shared.HTTP.internalize(doc)},externalize:function(url,encode){return CQ.shared.HTTP.externalize(url,encode)},encodePathOfURI:function(url){return CQ.shared.HTTP.encodePathOfURI(url)},encodePath:function(path){return CQ.shared.HTTP.encodePath(path)},getContextPath:function(){return CQ.shared.HTTP.getContextPath()},detectContextPath:function(){return CQ.shared.HTTP.detectContextPath()},urlEncode:function(o){if(!o)return"";if("string"==typeof o)return o;var buf=[];for(var key in o){var ov=o[key],k=encodeURIComponent(key),type=typeof ov;if("undefined"==type)buf.push(k,"=&");else if("function"!=type&&"object"!=type)buf.push(k,"=",encodeURIComponent(ov),"&");else if("array"==typeof ov)if(ov.length)for(var i=0,len=ov.length;len>i;i++)buf.push(k,"=",encodeURIComponent(void 0===ov[i]?"":ov[i]),"&");else buf.push(k,"=&")}return buf.pop(),buf.join("")},getUID:function(){var r=Math.floor(Math.random()*(Math.pow(2,42)-1));return this.getTimestamp().toString(16)+r.toString(16)},getTimestamp:function(){var d=new Date;return d.getTime()},insert:function(str,every,separator){if(!str||isNaN(every)||!separator)return str;for(var res="",from=0,to=every;to<str.length;)res+=str.substring(from,to)+separator,from+=every,to+=every;return from<str.length&&(res+=str.substring(from)),res},addListener:function(){return window.addEventListener?function(el,eventName,fn,capture){el.addEventListener(eventName,fn,capture)}:window.attachEvent?function(el,eventName,fn){el.attachEvent("on"+eventName,fn)}:function(){}},removeListener:function(){return window.removeEventListener?function(el,eventName,fn,capture){el.removeEventListener(eventName,fn,capture)}:window.detachEvent?function(el,eventName,fn){el.detachEvent("on"+eventName,fn)}:function(){}}}},CQ_Analytics.ClickstreamcloudRenderingUtils=new function(){return{createLink:function(text,func,props,anchor){var link=document.createElement("a");if(link.href=anchor,link.onclick=func,link.innerHTML=text,props)for(var p in props)props.hasOwnProperty(p)&&(link[p]=props[p]);return link},createStaticLink:function(text,href,title){var link=document.createElement("a");return link.href=href,link.innerHTML=text,link.title=title,link.alt=title,link},createNameValue:function(label,value,cssClass,title){var span=document.createElement("span");return span.className=cssClass||"ccl-data",span.innerHTML=label+" = "+value,span.title=title,span.alt=title,span},createText:function(text,cssClass,title){var span=document.createElement("span");return span.className=cssClass||"ccl-data",span.innerHTML=text&&text.indexOf&&(-1!=text.indexOf("/home")&&-1!=text.indexOf("/image")||-1!=text.indexOf("/")&&-1!=text.indexOf(".png"))?'<img src="'+text+'.prof.thumbnail.png" border="0">':text&&text.indexOf&&-1!=text.indexOf("www.gravatar.com")?'<img src="'+text+'">':text,span.title=title,span.alt=title,span},createEditablePropertySpan:function(name,value){var onclick="var editSpan = this.nextSibling; this.style.display = 'none'; editSpan.style.display = 'block';",onblur="var editSpan = this.parentNode; var readSpan = this.parentNode.previousSibling;var newValue = this.value;editSpan.style.display = 'none'; readSpan.innerHTML = '"+name+" = '+value; readSpan.style.display = 'block';",span=document.createElement("span");return span.innerHTML='<span class="ccl-data" onclick="'+onclick+'">'+name+" = "+value+"</span>",span.innerHTML+='<span class="ccl-data" style="display: none;">'+name+' = <input class="ccl-input" type="text" value="'+value+'" onblur="'+onblur+'"></span>',span.className="ccl-data",span}}},CQ_Analytics.Cookie={set:function(name,value,days){var expires="";if(days){var date=new Date;date.setTime(date.getTime()+24*days*60*60*1e3),expires="; expires="+date.toGMTString()}document.cookie=name+"="+value+expires+"; path=/"},read:function(name){for(var nameEQ=name+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null},erase:function(name){CQ_Analytics.Cookie.set(name,"",-1)}},CQ_Analytics.SessionPersistence=function(){return{COOKIE_NAME:"SessionPersistence-"+CQURLInfo.runModes.replace(",","-"),set:function(key,value){value=value||"";var pairsMap=this.getMap();pairsMap||(pairsMap="");var index=pairsMap.indexOf(key+":=");if(-1==index)pairsMap+=key+":="+value+"|";else{var start=pairsMap.substring(0,index),end=pairsMap.substring(pairsMap.indexOf("|",index+2)+1);pairsMap=start+key+":="+value+"|"+end}this.setMap(pairsMap)},get:function(key){var pairsMap=this.getMap(),value="";if(pairsMap){var index=pairsMap.indexOf(key+":=");-1!=index&&(value=pairsMap.substring(index+(key+":=").length,pairsMap.indexOf("|",index+2)))}return value="null"==value?"":value||""},getMap:function(){var pairsMap=CQ_Analytics.Cookie.read(this.COOKIE_NAME);return pairsMap?decodeURIComponent(pairsMap):null},setMap:function(pairsMap){CQ_Analytics.Cookie.set(this.COOKIE_NAME,encodeURIComponent(pairsMap),60)},clearMap:function(){CQ_Analytics.Cookie.erase(this.COOKIE_NAME)},remove:function(key){var pairsMap=this.getMap();pairsMap||(pairsMap="");var index=pairsMap.indexOf(key+":=");if(-1!=index){var start=pairsMap.substring(0,index),end=pairsMap.substring(pairsMap.indexOf("|",index+2)+1);pairsMap=start+end}this.setMap(pairsMap)}}},CQ_Analytics.Observable=function(){this.fireEvent=function(event){if(event&&this.listeners){event=event.toLowerCase();for(var args=Array.prototype.slice.call(arguments,0),i=0;i<this.listeners.length;i++){var l=this.listeners[i];if(event==l.event&&l.fireFn.apply(l.scope||this||window,args)===!1)return!1}}return!0}},CQ_Analytics.Observable.prototype.addListener=function(event,fct,scope){this.listeners=this.listeners||new Array,event&&fct&&this.listeners.push({event:event.toLowerCase(),fireFn:fct,scope:scope})},CQ_Analytics.Observable.prototype.removeListener=function(event,fct){if(this.listeners=this.listeners||new Array,event&&fct)for(var i=0;i<this.listeners.length;i++)this.listeners[i].event==event&&this.listeners[i].fireFn==fct&&this.listeners.splice(i,1)},CQ_Analytics.Observable.prototype.listeners=null,CQ_Analytics.StoreRegistry||(CQ_Analytics.StoreRegistry=new function(){var stores={};return{register:function(store){store.STORENAME&&(stores[store.STORENAME]=store)},getStores:function(){return stores},getStore:function(name){return stores[name]}}}),CQ_Analytics.SessionStore=function(){},CQ_Analytics.SessionStore.prototype=new CQ_Analytics.Observable,CQ_Analytics.SessionStore.prototype.setProperty=function(name,value){null==this.data&&this.init(),this.data[name]=value;var xssName=CQ.shared.XSS.getXSSPropertyName(name);this.data[xssName]=CQ.shared.XSS.getXSSValue(value),this.fireEvent("update",name)},CQ_Analytics.SessionStore.prototype.initialized=!1,CQ_Analytics.SessionStore.prototype.init=function(){this.initialized=!0,this.fireEvent("initialize",this)},CQ_Analytics.SessionStore.prototype.getLabel=function(name){return name},CQ_Analytics.SessionStore.prototype.getLink=function(name){return name},CQ_Analytics.SessionStore.prototype.removeProperty=function(name){null==this.data&&this.init(),this.data[name]&&delete this.data[name];var xssName=CQ.shared.XSS.getXSSPropertyName(name);this.data[xssName]&&delete this.data[xssName],this.fireEvent("update",name)},CQ_Analytics.SessionStore.prototype.getPropertyNames=function(excluded){null==this.data&&this.init(),excluded=excluded?excluded:[];var res=new Array;for(var p in this.data)-1==CQ_Analytics.Utils.indexOf(excluded,p)&&res.push(p);return res},CQ_Analytics.SessionStore.prototype.getSessionStore=function(){return this},CQ_Analytics.SessionStore.prototype.clear=function(){this.data=null},CQ_Analytics.SessionStore.prototype.getData=function(excluded){if(null==this.data&&this.init(),excluded){var ret={};for(var p in this.data)-1==CQ_Analytics.Utils.indexOf(excluded,p)&&(ret[p]=this.data[p]);return ret}return this.data},CQ_Analytics.SessionStore.prototype.reset=function(){null!=this.data&&(this.data=null,this.fireEvent("update"))},CQ_Analytics.SessionStore.prototype.getProperty=function(name,raw){if(null==this.data&&this.init(),!raw){var xssName=CQ.shared.XSS.getXSSPropertyName(name);if(this.data[xssName])return this.data[xssName]}return this.data[name]},CQ_Analytics.SessionStore.prototype.getName=function(){return this.STORENAME},CQ_Analytics.SessionStore.prototype.addInitProperty=function(name,value){this.initProperty||(this.initProperty={}),this.initProperty[name]=value},CQ_Analytics.SessionStore.prototype.getInitProperty=function(name){return this.initProperty?this.initProperty[name]:null},CQ_Analytics.SessionStore.prototype.loadInitProperties=function(obj,setValues){if(obj)for(var p in obj)this.addInitProperty(p,obj[p]),setValues&&this.data&&void 0===this.data[p]&&this.setProperty(p,obj[p])},CQ_Analytics.SessionStore.prototype.isInitialized=function(){return this.initialized},CQ_Analytics.PersistedSessionStore=function(){},CQ_Analytics.PersistedSessionStore.prototype=new CQ_Analytics.SessionStore,CQ_Analytics.PersistedSessionStore.prototype.STOREKEY="key",CQ_Analytics.PersistedSessionStore.prototype.setNonPersisted=function(name){this.nonPersisted||(this.nonPersisted={}),this.nonPersisted[name]=!0},CQ_Analytics.PersistedSessionStore.EXCLUDED_PROPERTIES_REGEX="^generated*",CQ_Analytics.PersistedSessionStore.prototype.isPersisted=function(name){return this.nonPersisted||(this.nonPersisted={}),this.nonPersisted[name]!==!0&&!new RegExp(CQ_Analytics.PersistedSessionStore.EXCLUDED_PROPERTIES_REGEX,"ig").test(name)&&!$CQ.isFunction(this.data[name])&&"object"!=typeof this.data[name]},CQ_Analytics.PersistedSessionStore.prototype.getStoreKey=function(){return this.STOREKEY},CQ_Analytics.PersistedSessionStore.prototype.persist=function(){if(this.fireEvent("beforepersist")!==!1){var store=new CQ_Analytics.SessionPersistence;store.set(this.getStoreKey(),this.toString()),this.fireEvent("persist")}},CQ_Analytics.PersistedSessionStore.prototype.setProperty=function(name,value){null==this.data&&this.init(),this.data[name]=value;var xssName=CQ.shared.XSS.getXSSPropertyName(name);this.data[xssName]=CQ.shared.XSS.getXSSValue(value),this.isPersisted(name)&&this.persist(),this.fireEvent("update",name)},CQ_Analytics.PersistedSessionStore.prototype.toString=function(){var list=null;if(this.data){var encodeCommandChars=function(value){if(!value||"string"!=typeof value)return value;var ret=value;return ret=ret.replace(new RegExp(",","g"),"&#44;"),ret=ret.replace(new RegExp("=","g"),"&#61;"),ret=ret.replace(new RegExp("\\|","g"),"&#124;")};for(var p in this.data)this.isPersisted(p)&&this.data.hasOwnProperty(p)&&(list=null===list?"":list+",",list+=p+"="+encodeCommandChars(this.data[p]))}return list},CQ_Analytics.PersistedSessionStore.prototype.parse=function(str){var decodeCommandChars=function(value){if(!value||"string"!=typeof value)return value;var ret=value;return ret=ret.replace(new RegExp("&#44;","g"),","),ret=ret.replace(new RegExp("&#61;","g"),"="),ret=ret.replace(new RegExp("&#124;","g"),"|")},obj={},array=str.split(",");for(var t in array)if(array.hasOwnProperty(t)){var entry=array[t].split("=");2==entry.length&&(obj[entry[0]]=decodeCommandChars(entry[1]))}return obj},CQ_Analytics.PersistedSessionStore.prototype.reset=function(deferEvent){null!=this.data&&(this.data={},this.persist(),this.data=null,deferEvent||this.fireEvent("update"))},CQ_Analytics.PersistedSessionStore.prototype.removeProperty=function(name){null==this.data&&this.init(),this.data[name]&&(delete this.data[name],this.isPersisted(name)&&this.persist()),this.fireEvent("update",name)},CQ_Analytics.PersistedSessionStore.prototype.clear=function(){var store=new CQ_Analytics.SessionPersistence;store.remove(this.getStoreKey()),this.data=null},CQ_Analytics.ClientContextMgr||(CQ_Analytics.ClientContextMgr=function(){this.clientcontext=null,this.clientcontextToServer=null,this.stores={},this.data=null,this.config=null,this.isConfigLoaded=!1,this.areStoresLoaded=!1},CQ_Analytics.ClientContextMgr.prototype=new CQ_Analytics.PersistedSessionStore,CQ_Analytics.ClientContextMgr.prototype.STOREKEY="CLIENTCONTEXT",CQ_Analytics.ClientContextMgr.prototype.STORENAME="clientcontext",CQ_Analytics.ClientContextMgr.prototype.INITIALIZATION_EVENT_TIMER=1e3,CQ_Analytics.ClientContextMgr.prototype.CONFIG_PATH=CQ_Analytics.Utils.externalize("/etc/clientcontext/legacy/config.json",!0),CQ_Analytics.ClientContextMgr.prototype.init=function(){this.clientcontext={},this.clientcontextToServer={};var store=new CQ_Analytics.SessionPersistence,value=store.get(this.getStoreKey());this.data=value?this.parse(value):{},this.initialized=!0,this.fireEvent("initialize",this)},CQ_Analytics.ClientContextMgr.prototype.getSessionId=function(){return this.data.sessionId||this.setSessionId(CQ_Analytics.Utils.getUID()),this.data.sessionId},CQ_Analytics.ClientContextMgr.prototype.setSessionId=function(id){id&&this.setProperty("sessionId",id)},CQ_Analytics.ClientContextMgr.prototype.getVisitorId=function(){return this.data.visitorId},CQ_Analytics.ClientContextMgr.prototype.setVisitorId=function(id){this.setProperty("visitorId",id)},CQ_Analytics.ClientContextMgr.prototype.getId=function(){var id=this.getVisitorId();return id?id:this.getSessionId()},CQ_Analytics.ClientContextMgr.prototype.isAnonymous=function(){var id=this.getVisitorId();return!id},CQ_Analytics.ClientContextMgr.prototype.isMode=function(mode){return CQ_Analytics.ClientContextMgr.ServerStorage.isMode(mode)},CQ_Analytics.ClientContextMgr.prototype.get=function(toServer){return null==this.clientcontext&&this.init(),toServer?this.clientcontextToServer:this.clientcontext},CQ_Analytics.ClientContextMgr.prototype.register=function(sessionstore){null==this.clientcontext&&this.init();var ccm=this;this.clientcontext[sessionstore.getName()]=sessionstore.getData(),this.stores[sessionstore.getName()]=sessionstore,CQ_Analytics.StoreRegistry.register(sessionstore);var config=this.getStoreConfig(sessionstore.getName());config.stats!==!1&&"false"!=config.stats&&(this.clientcontextToServer[sessionstore.getName()]=sessionstore.getData(config.excludedFromStats)),this.initTimer&&(window.clearTimeout(this.initTimer),this.initTimer=null),this.initTimer=window.setTimeout(function(){ccm.fireEvent("storesinitialize"),ccm.areStoresInitialized=!0},this.INITIALIZATION_EVENT_TIMER),sessionstore.addListener("update",function(){ccm.update(sessionstore)}),CQ_Analytics.ClientContextMgr.ServerStorage.handleStoreRegistration(sessionstore),this.addListener("clear",function(){sessionstore.clear()}),this.fireEvent("storeregister",sessionstore),this.fireEvent("storeupdate",sessionstore)},CQ_Analytics.ClientContextMgr.prototype.update=function(sessionstore){null==this.clientcontext&&this.init(),this.clientcontext[sessionstore.getName()]=sessionstore.getData();var config=this.getStoreConfig(sessionstore.getName());config.stats!==!1&&"false"!=config.stats&&(this.clientcontextToServer[sessionstore.getName()]=sessionstore.getData(config.excludedFromStats)),this.fireEvent("storeupdate",sessionstore)},CQ_Analytics.ClientContextMgr.prototype.startPosting=function(){return CQ_Analytics.ClientContextMgr.ServerStorage.startPosting()},CQ_Analytics.ClientContextMgr.prototype.stopPosting=function(){return CQ_Analytics.ClientContextMgr.ServerStorage.stopPosting()},CQ_Analytics.ClientContextMgr.prototype.post=function(){return CQ_Analytics.ClientContextMgr.ServerStorage.post()},CQ_Analytics.ClientContextMgr.prototype.getCCMToJCR=function(){return CQ_Analytics.ClientContextMgr.ServerStorage.getCCMToJCR()},CQ_Analytics.ClientContextMgr.prototype.getName=function(){return this.STORENAME},CQ_Analytics.ClientContextMgr.prototype.clear=function(){this.clientcontext=null,this.clientcontextToServer=null,this.fireEvent("clear")},CQ_Analytics.ClientContextMgr.prototype.getRegisteredStore=function(name){return this.stores&&this.stores[name]?this.stores[name]:null},CQ_Analytics.ClientContextMgr.prototype.loadConfig=function(c,autoConfig){var setConfig=function(ccm,config){ccm.config=config,ccm.isConfigLoaded=!0,ccm.fireEvent("configloaded"),ccm.fireEvent("storesloaded"),ccm.areStoresLoaded=!0};if(c)setConfig(this,c);else if(autoConfig)setConfig(this,{});else{var params={};params.path=CQ_Analytics.Utils.getPagePath(),params.cq_ck=(new Date).valueOf();var url=this.CONFIG_PATH;url+="?"+CQ_Analytics.Utils.urlEncode(params),CQ_Analytics.Utils.load(url,function(data,status,response){var config={};try{config=eval("config = "+response.responseText)}catch(error){}setConfig(this,config)},this)}},CQ_Analytics.ClientContextMgr.prototype.getConfig=function(){return this.config},CQ_Analytics.ClientContextMgr.prototype.getStoreConfig=function(storename){return this.config&&this.config.configs&&this.config.configs[storename]&&this.config.configs[storename].store?this.config.configs[storename].store:{}},CQ_Analytics.ClientContextMgr.prototype.getEditConfig=function(storename){return this.config&&this.config.configs&&this.config.configs[storename]&&this.config.configs[storename].edit?this.config.configs[storename].edit:{}},CQ_Analytics.ClientContextMgr.prototype.getUIConfig=function(storename){return this.config&&this.config.configs&&this.config.configs[storename]&&this.config.configs[storename].ui?this.config.configs[storename].ui:{}},CQ_Analytics.ClientContextMgr.prototype.getInitialData=function(storename){return this.config&&this.config.data&&this.config.data[storename]?this.config.data[storename]:{}},CQ_Analytics.ClientContextMgr.prototype.getStores=function(){return this.stores},CQ_Analytics.ClientContextMgr.prototype.onReady=function(callback,scope){callback&&(this.areStoresLoaded?callback.call(scope):this.addListener("storesloaded",callback,scope))},CQ_Analytics.ClientContextMgr=CQ_Analytics.CCM=new CQ_Analytics.ClientContextMgr,CQ_Analytics.ClickstreamcloudMgr=CQ_Analytics.CCM,CQ_Analytics.ContextCloudMgr=CQ_Analytics.CCM,CQ_Analytics.ClientContextMgr.PATH=null,CQ_Analytics.ClientContextMgr.getClientContextURL=function(url){return CQ_Analytics.ClientContextMgr.PATH+url},$CQ(function(){CQ_Analytics.CCM.init(),CQ_Analytics.CCM.loadConfig(!1,!0),CQ_Analytics.CCM.fireEvent("cq:analytics:loaded")}),CQ_Analytics.Utils.addListener(window,"unload",function(){try{for(var p in CQ_Analytics.ClientContextMgr)delete CQ_Analytics.ClientContextMgr[p];CQ_Analytics.ClientContextMgr=null}catch(error){}CQ_Analytics.CCM=null})),CQ_Analytics.ClientContextMgr&&!CQ_Analytics.ClientContextMgr.ServerStorage&&(CQ_Analytics.ClientContextMgr.ServerStorage=function(){this.posting=!1,this.initialized=!1},CQ_Analytics.ClientContextMgr.ServerStorage.prototype.POST_MODE_PAGELOAD=1,CQ_Analytics.ClientContextMgr.ServerStorage.prototype.POST_MODE_TIMER=2,CQ_Analytics.ClientContextMgr.ServerStorage.prototype.POST_MODE_DATAUPDATE=4,CQ_Analytics.ClientContextMgr.ServerStorage.prototype.POST_TIMER=600,CQ_Analytics.ClientContextMgr.ServerStorage.prototype.POST_PROCESS_TIMER=60,CQ_Analytics.ClientContextMgr.ServerStorage.prototype.POST_MODE=6,CQ_Analytics.ClientContextMgr.ServerStorage.prototype.POST_PATH="/var/statistics/",CQ_Analytics.ClientContextMgr.ServerStorage.prototype.init=function(){if(this.isMode(CQ_Analytics.ClientContextMgr.ServerStorage.POST_MODE_TIMER)){var currentObj=this,func=function(){currentObj.timer=window.setInterval(function(){try{var lastPost=parseInt(currentObj.data.lastPost),doPost=!1;if(isNaN(lastPost))doPost=!0;else{var currentTime=(new Date).getTime();currentTime>lastPost+1e3*CQ_Analytics.ClientContextMgr.ServerStorage.POST_TIMER&&(doPost=!0)}}catch(error){}doPost&&currentObj.post()},1e3*CQ_Analytics.ClientContextMgr.ServerStorage.POST_PROCESS_TIMER)};func.call(this)}this.initialized=!0},CQ_Analytics.ClientContextMgr.ServerStorage.prototype.isMode=function(mode){return(CQ_Analytics.CCM.POST_MODE&mode)>0},CQ_Analytics.ClientContextMgr.ServerStorage.prototype.handleStoreRegistration=function(sessionstore){this.initialized||this.init(),this.isMode(CQ_Analytics.ClientContextMgr.ServerStorage.POST_MODE_DATAUPDATE)&&sessionstore.addListener("persist",function(){CQ_Analytics.ClientContextMgr.ServerStorage.post(sessionstore)})},CQ_Analytics.ClientContextMgr.ServerStorage.prototype.startPosting=function(){this.posting=!0},CQ_Analytics.ClientContextMgr.ServerStorage.prototype.stopPosting=function(){this.posting=!1},CQ_Analytics.ClientContextMgr.ServerStorage.prototype.post=function(storeName,forced){if(this.posting||forced)try{var obj=this.getCCMToJCR(storeName),currentTime=CQ_Analytics.Utils.getTimestamp();obj["./jcr:primaryType"]="nt:unstructured",obj["./sessionId"]=CQ_Analytics.CCM.getSessionId();var url=this.POST_PATH+"clientcontext/";if(CQ_Analytics.CCM.isAnonymous()){var sessionSplit=CQ_Analytics.Utils.insert(CQ_Analytics.CCM.getId(),2,"/");url+="anonymous/"+sessionSplit+"/"+currentTime}else url+="users/"+CQ_Analytics.CCM.getId()+"/"+currentTime;CQ_Analytics.Utils.post(url,null,obj),this.lastPost=currentTime}catch(error){}},CQ_Analytics.ClientContextMgr.ServerStorage.prototype.getCCMToJCR=function(storeName){var obj=CQ_Analytics.CCM.get(!0),resObj={};for(var key in obj)if(!storeName||key==storeName){var ov=obj[key],type=(encodeURIComponent(key),typeof ov);if("object"==type)for(var l2key in ov){var v=ov[l2key];l2key=l2key.replace(":","/"),resObj["./"+key+"/./"+l2key]=v}else resObj["./"+key]=ov}return resObj},CQ_Analytics.ClientContextMgr.ServerStorage=new CQ_Analytics.ClientContextMgr.ServerStorage,CQ_Analytics.ClickstreamcloudMgr.POST_MODE_PAGELOAD=CQ_Analytics.ClientContextMgr.ServerStorage.POST_MODE_PAGELOAD,CQ_Analytics.ClickstreamcloudMgr.POST_MODE_TIMER=CQ_Analytics.ClientContextMgr.ServerStorage.POST_MODE_TIMER,CQ_Analytics.ClickstreamcloudMgr.POST_MODE_DATAUPDATE=CQ_Analytics.ClientContextMgr.ServerStorage.POST_MODE_DATAUPDATE,CQ_Analytics.ClickstreamcloudMgr.POST_TIMER=CQ_Analytics.ClientContextMgr.ServerStorage.POST_PROCESS_TIMER,CQ_Analytics.ClickstreamcloudMgr.POST_PROCESS_TIMER=CQ_Analytics.ClientContextMgr.ServerStorage.POST_PROCESS_TIMER,CQ_Analytics.ClickstreamcloudMgr.POST_MODE=CQ_Analytics.ClientContextMgr.ServerStorage.POST_MODE,CQ_Analytics.ClickstreamcloudMgr.POST_PATH=CQ_Analytics.ClientContextMgr.ServerStorage.POST_PATH),CQ_Analytics.ClientContextUtils=new function(){return{renderStoreProperty:function(id,storeName,propertyName,prefix,suffix,defaultValue){CQ_Analytics&&CQ_Analytics.CCM&&CQ_Analytics.CCM.onReady(function(){var init=function(){var store=CQ_Analytics.StoreRegistry.getStore(storeName);if(store){var renderer=function(){var value=store.getProperty(propertyName)||defaultValue,el=$CQ("#"+id);if(!el.attr("contenteditable")||"inherit"==el.attr("contenteditable"))if("string"!=typeof value||(0!=value.indexOf("/")||-1==value.toLowerCase().indexOf(".png")&&-1==value.toLowerCase().indexOf(".jpg")&&-1==value.toLowerCase().indexOf(".gif"))&&0!=value.toLowerCase().indexOf("http"))value=CQ_Analytics.Variables.replaceVariables(value),value=value&&""!=value?value=prefix+value+suffix:"No "+propertyName,el.html()!=value&&store.fireEvent("beforepropertyrender",store,id)!==!1&&(el.html(value),store.fireEvent("propertyrender",store,id));else if(value&&""!=value){var url="";0==el.parents(".cq-cc-thumbnail").length||0==value.toLowerCase().indexOf("http")||0==value.indexOf("/libs/wcm/mobile")?url=value.replace(new RegExp("&amp;","g"),"&"):(url="/etc/clientcontext/shared/thumbnail/content.png",url=CQ.shared.HTTP.addParameter(url,"path",CQ_Analytics.Variables.replaceVariables(value))),url=CQ_Analytics.Variables.replaceVariables(url),el.find("div").css("background-image")!="url("+url+")"&&store.fireEvent("beforepropertyrender",store,id)!==!1&&(el.html(""),el.children().remove(),$CQ("<div>").addClass("cq-cc-thumbnail-img").css("background-image","url("+_g.shared.HTTP.externalize(url)+")").appendTo(el),store.fireEvent("propertyrender",store,id))}else el.children().remove(),el.html("No "+propertyName)};store.fireEvent("beforeinitialpropertyrender",store,id)!==!1&&(renderer(),store.addListener&&store.addListener("update",function(){renderer()}),store.fireEvent("initialpropertyrender",store,id))}};CQ_Analytics.ClientContextUtils.onStoreRegistered(storeName,init)})},renderStore:function(id,storeName){CQ_Analytics&&CQ_Analytics.CCM&&id&&storeName&&CQ_Analytics.CCM.onReady(function(){var init=function(){var store=CQ_Analytics.StoreRegistry.getStore(storeName);if(store){store.divId=id;var renderer=function(){store.fireEvent("beforerender",store,store.divId)!==!1&&(store.renderer(store,store.divId),store.fireEvent("render",store,store.divId))};store.fireEvent("beforeinitialrender",store,id)!==!1&&(renderer(),store.addListener&&store.addListener("update",function(){renderer()}),store.fireEvent("initialrender",store,id))}};CQ_Analytics.ClientContextUtils.onStoreRegistered(storeName,init)})},storesOptionsProvider:function(){var options=[],stores=CQ_Analytics.StoreRegistry.getStores();for(var name in stores)options.push({value:name});return options},storePropertiesOptionsProvider:function(storeName,showValue){var options=[],store=CQ_Analytics.StoreRegistry.getStore(storeName);if(store)for(var names=store.getPropertyNames(),i=0;i<names.length;i++){var value=names[i];if(!CQ.shared.XSS.KEY_REGEXP.test(value)){var o={value:value};showValue&&(o.text=value+" - "+store.getProperty(value)),options.push(o)}}return options},onStoreRegistered:function(storeName,callback){if(callback){var store=CQ_Analytics.StoreRegistry.getStore(storeName);store?callback.call(store,store):CQ_Analytics.CCM.addListener("storeregister",function(e,sessionstore){sessionstore.getName()==storeName&&callback.call(sessionstore,sessionstore)})}},onStoreInitialized:function(storeName,callback,delay){delay===!0&&(delay=CQ_Analytics.ClientContextUtils.DEFAULT_INIT_DELAY);var internal_callback=function(){var store=CQ_Analytics.StoreRegistry.getStore(storeName);store.DELAYED_INIT_TIMEOUT&&(window.clearTimeout(store.DELAYED_INIT_TIMEOUT),store.DELAYED_INIT_TIMEOUT=null),delay>0?store.DELAYED_INIT_TIMEOUT=window.setTimeout(function(){store.DELAYED_INIT_TIMEOUT=null,callback.call(store,"initialize",store)},delay):callback.call(store,"initialize",store)},store=CQ_Analytics.StoreRegistry.getStore(storeName);store?store.isInitialized()?(internal_callback.call(store),store.addListener("initialize",function(event,store){internal_callback.call(store)})):store.addListener("initialize",function(event,store){internal_callback.call(store)}):CQ_Analytics.CCM.addListener("storeregister",function(e,sessionstore){sessionstore.getName()==storeName&&CQ_Analytics.ClientContextUtils.onStoreInitialized(storeName,callback,delay)})},init:function(ccPath,pagePath){CQ_Analytics.ClientContextMgr.PATH=ccPath,CQ_Analytics.ClientContextMgr.loadConfig(null,!0);var url=CQ.shared.HTTP.externalize(ccPath+"/content/jcr:content/stores.init.js");url=CQ.shared.HTTP.addParameter(url,"path",pagePath),url=CQ.shared.HTTP.noCaching(url);CQ.shared.HTTP.get(url)},initUI:function(ccPath,pagePath){CQ_Analytics.ClientContextUI.create(ccPath,pagePath)}}},CQ_Analytics.ClientContextUtils.DEFAULT_INIT_DELAY=200,CQ_Analytics.Variables=new function(){return{containsVariable:function(value){return CQ_Analytics.Variables.getVariables(value).length>0},getVariables:function(value){if(!value||"string"!=typeof value)return[];var res=value.match(new RegExp("\\$\\{([\\w/]*)\\}","ig"));return res?res:[]},replaceVariables:function(value){if(!value)return value;for(var history="",res=value,variables=CQ_Analytics.Variables.getVariables(value);variables.length>0&&-1==history.indexOf(variables.join());){for(var i=0;i<variables.length;i++){var vName=variables[i].substring(2,variables[i].length-1),v=CQ_Analytics.ClientContext.get(vName)||"";res=CQ_Analytics.Variables.replace(res,vName,v)}history+=variables.join(),variables=CQ_Analytics.Variables.getVariables(res)}return res},replace:function(string,key,value){return string.replace(new RegExp("\\$\\{"+key+"\\}","ig"),value)}}},CQ_Analytics.SegmentMgr||(CQ_Analytics.SegmentMgr=function(){this.SEGMENTATION_ROOT="/etc/segmentation",this.SEGMENT_SELECTOR=".segment.js",this.SEGMENTATION_SCRIPT_LOADER="cq-segmentation-loader",this.segments={},this.boosts={};
var currentObj=this;this.fireUpdate=function(){currentObj.fireEvent("update")},this.init()},CQ_Analytics.SegmentMgr.prototype=new CQ_Analytics.SessionStore,CQ_Analytics.SegmentMgr.prototype.STORENAME="segments",CQ_Analytics.SegmentMgr.prototype.register=function(segmentPath,rule,boost){this.segments[segmentPath]=rule,this.boosts[segmentPath]=isNaN(boost)?0:parseInt(boost),this.fireUpdate()},CQ_Analytics.SegmentMgr.prototype.resolveArray=function(segmentPaths,clientcontext,operator){if(clientcontext=clientcontext||CQ_Analytics.ClientContextMgr.get(),!(segmentPaths instanceof Array))return this.resolve(segmentPaths,clientcontext);operator="AND"==operator?"AND":"OR";for(var finalRes="AND"==operator,i=0;i<segmentPaths.length;i++){var s=segmentPaths[i],res=this.resolve(s,clientcontext);if("AND"==operator){if(res!==!0)return res}else if(res===!0)return!0}return finalRes},CQ_Analytics.SegmentMgr.prototype.resolve=function(segmentPath,clientcontext){if(clientcontext=clientcontext||CQ_Analytics.ClientContextMgr.get(),!segmentPath)return!1;if(segmentPath instanceof Array)return this.resolveArray(segmentPath,clientcontext);if(0!=segmentPath.indexOf(this.SEGMENTATION_ROOT))return!1;if(segmentPath==this.SEGMENTATION_ROOT)return!0;if(!this.segments[segmentPath])return!0;var parent=segmentPath.substring(0,segmentPath.lastIndexOf("/"));if(0==parent.indexOf(this.SEGMENTATION_ROOT)){var pres=this.resolve(parent,clientcontext);if(pres!==!0)return pres}var rules="function(clientcontext, contextcloud, clickstreamcloud) { return true ";rules+=" && ( "+this.segments[segmentPath]+" ) ",rules+=";}";var res=!0;try{var f=null;eval("f = "+rules);var e=null==f||f(clientcontext,clientcontext,clientcontext);res=res&&e===!0}catch(error){return"Unresolved - Error while evaluating segment "+segmentPath+" : "+error.message}return res},CQ_Analytics.SegmentMgr.prototype.getResolved=function(clientcontext){clientcontext=clientcontext||CQ_Analytics.ClientContextMgr.get();var res=new Array;for(var path in this.segments)this.resolve(path,clientcontext)===!0&&res.push(path);return res},CQ_Analytics.SegmentMgr.prototype.getMaxBoost=function(segmentPaths,clientcontext){if(!(segmentPaths instanceof Array))return this.getBoost(segmentPaths);for(var boost=0,i=0;i<segmentPaths.length;i++){var s=segmentPaths[i];if(this.resolve(s,clientcontext)===!0){var b=this.boosts[s]||0;b>boost&&(boost=b)}}return boost},CQ_Analytics.SegmentMgr.prototype.getBoost=function(segmentPath){return segmentPath instanceof Array||(segmentPath=[segmentPath]),this.boosts[segmentPath]||0},CQ_Analytics.SegmentMgr.prototype.reload=function(path){var url=path;if(url||(url=this.SEGMENTATION_ROOT),url){-1==url.indexOf(this.SEGMENT_SELECTOR)&&(url+=this.SEGMENT_SELECTOR);try{CQ_Analytics.Utils.load(url,function(config,status,response){response&&response.responseText&&eval(response.responseText)},this);var response=CQ.HTTP.get(scripts[i].src)}catch(err){}}},CQ_Analytics.SegmentMgr.prototype.getSessionStore=function(){return this},CQ_Analytics.SegmentMgr.prototype.getProperty=function(name){return name},CQ_Analytics.SegmentMgr.prototype.getLink=function(name){return name+".html"},CQ_Analytics.SegmentMgr.prototype.getLabel=function(name){if(name){var label=name,index=label.lastIndexOf("/");-1!=index&&(label=label.substring(index+1,label.length));var res=this.resolve(name);if(res===!0)return label;if(res!==!0)return'<span class="invalid" title="'+res+'" alt="'+res+'">'+label+"</span>"}return name},CQ_Analytics.SegmentMgr.prototype.getPropertyNames=function(){return this.getResolved()},CQ_Analytics.SegmentMgr=new CQ_Analytics.SegmentMgr,CQ_Analytics.SegmentMgr.loadSegments=function(path){CQ_Analytics.SegmentMgr.areSegmentsLoaded=!1,CQ.shared.HTTP.get(CQ.shared.HTTP.externalize(path+".segment.js")),CQ_Analytics.SegmentMgr.areSegmentsLoaded=!0,this.fireEvent("segmentsload")},CQ_Analytics.SegmentMgr.renderer=function(store,targetId){if(store&&store.STORENAME==CQ_Analytics.SegmentMgr.STORENAME){for(var props=store.getPropertyNames(),div=$CQ("<div>"),i=0;i<props.length;i++){var name=props[i];div.append($CQ("<span>").attr("title",store.getProperty(name)).append($CQ("<a>").attr("href",_g.shared.HTTP.externalize(store.getLink(name))).attr("title",store.getProperty(name)).html(store.getLabel(name))))}$CQ("#"+targetId).children().remove(),$CQ("#"+targetId).append(div)}},CQ_Analytics.ClientContextMgr.addListener("storeupdate",CQ_Analytics.SegmentMgr.fireUpdate),CQ_Analytics.Utils.addListener(window,"unload",function(){try{for(var p in CQ_Analytics.SegmentMgr)delete CQ_Analytics.SegmentMgr[p]}catch(error){}CQ_Analytics.SegmentMgr=null})),CQ_Analytics.StrategyMgr||(CQ_Analytics.StrategyMgr=function(){this.strategies={}},CQ_Analytics.StrategyMgr.prototype={},CQ_Analytics.StrategyMgr.prototype.isRegistered=function(strategy){return!!this.strategies[strategy]},CQ_Analytics.StrategyMgr.prototype.register=function(strategy,func){"function"==typeof func&&(this.strategies[strategy]=func)},CQ_Analytics.StrategyMgr.prototype.choose=function(strategy,teasers){return this.strategies[strategy]?this.strategies[strategy].call(this,teasers):void 0},CQ_Analytics.StrategyMgr=new CQ_Analytics.StrategyMgr),CQ_Analytics.StrategyMgr.register("clickstream-score",function(teasers){if(1==teasers.length)return teasers[0];var selectedTeasers=[];if(CQ_Analytics.TagCloudMgr){var tags=CQ_Analytics.TagCloudMgr.getTags();tags=tags||{};for(var selectedTeasersWeight=-1,i=0;i<teasers.length;i++){var currentTeaserWeight=0,teaserTags=teasers[i].tags;if(teaserTags)for(var j=0;j<teaserTags.length;j++){var tagID=teaserTags[j].tagID;currentTeaserWeight+=parseInt(tags[tagID])||0}currentTeaserWeight==selectedTeasersWeight?selectedTeasers.push(teasers[i]):currentTeaserWeight>selectedTeasersWeight&&(selectedTeasers=[],selectedTeasers.push(teasers[i]),selectedTeasersWeight=currentTeaserWeight)}}else selectedTeasers=teasers;if(1==selectedTeasers.length)return selectedTeasers[0];var ranNum=Math.floor(Math.random()*selectedTeasers.length);return selectedTeasers[ranNum]}),CQ_Analytics.StrategyMgr.register("first",function(teasers){return teasers[0]}),CQ_Analytics.StrategyMgr.register("random",function(teasers){if(1==teasers.length)return teasers[0];var ranNum=Math.floor(Math.random()*teasers.length);return teasers[ranNum]}),CQ_Analytics.ClickstreamcloudUI||(CQ_Analytics.ClickstreamcloudUI=function(){this.SHOW_BOX_COOKIE="show-clickstreamcloud",this.BOX_ID="clickstreamcloud",this.box=null,this.top=null,this.sections=null,this.bottom=null,this.nbSection=0,this.isRendered=!1},CQ_Analytics.ClickstreamcloudUI.prototype=new CQ_Analytics.Observable,CQ_Analytics.ClickstreamcloudUI.prototype.createBox=function(parent){var currentObj=this;this.box=document.createElement("div"),this.box.id=this.BOX_ID,this.box.style.display="none";var div=document.createElement("div");this.box.appendChild(div),this.top=document.createElement("div"),this.top.className="ccl-header ccl-header-close",this.addListener("close",function(){currentObj.onVisibilityChange()}),this.top.appendChild(CQ_Analytics.ClickstreamcloudRenderingUtils.createStaticLink("","#ccl","")),this.top.appendChild(CQ_Analytics.ClickstreamcloudRenderingUtils.createLink(CQ.I18n.getMessage("Close"),function(){currentObj.box.style.display="none",currentObj.fireEvent("close")},{className:"ccl-close"},"#ccl")),this.hideLoadLink===!1&&this.top.appendChild(CQ_Analytics.ClickstreamcloudRenderingUtils.createLink(CQ.I18n.getMessage("Load"),function(){currentObj.fireEvent("loadclick")},{className:"ccl-load"},"#ccl")),this.hideEditLink===!1&&this.top.appendChild(CQ_Analytics.ClickstreamcloudRenderingUtils.createLink(CQ.I18n.getMessage("Edit"),function(){currentObj.fireEvent("editclick")},{className:"ccl-edit"},"#ccl")),div.appendChild(this.top),this.sections=document.createElement("div"),div.appendChild(this.sections),this.bottom=document.createElement("div"),this.bottom.className="ccl-spacer",div.appendChild(this.bottom);var border=RUZEE.ShadedBorder.create({corner:10,border:2,shadow:21});border.render(div),parent.appendChild(this.box),div.onresize&&this.addListener("show",div.onresize,div)},CQ_Analytics.ClickstreamcloudUI.prototype.init=function(config){config=config||{},this.parentId=config.target;var parent=document.getElementById(this.parentId);if(parent&&(this.version=config.version||CQ_Analytics.ClickstreamcloudUI.VERSION_FULL,this.hideEditLink=config.hideEditLink!==!1,this.hideLoadLink=config.hideLoadLink!==!1,this.disableKeyShortcut=config.disableKeyShortcut!==!1,"true"==CQ_Analytics.Cookie.read(this.SHOW_BOX_COOKIE)&&this.show(),!this.disableKeyShortcut)){var currentObj=this;CQ_Analytics.Utils.registerDocumentEventHandler("onkeydown",CQ_Analytics.Utils.eventWrapper(function(event,keyCode){event.ctrlKey&&event.altKey&&keyCode=="C".charCodeAt(0)&&currentObj.toggle()}))}},CQ_Analytics.ClickstreamcloudUI.prototype.onVisibilityChange=function(){CQ_Analytics.Cookie.set(this.SHOW_BOX_COOKIE,this.isVisible()?"true":"false",365)},CQ_Analytics.ClickstreamcloudUI.prototype.isVisible=function(){return null!=this.box&&"none"!=this.box.style.display},CQ_Analytics.ClickstreamcloudUI.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},CQ_Analytics.ClickstreamcloudUI.prototype.register=function(sessionStore,config,renderer){var func=function(){var section=new CQ_Analytics.ClickstreamcloudUI.Section(sessionStore,this.version,config||{},renderer),storeConfig=CQ_Analytics.CCM.getUIConfig(sessionStore.getName())||{};this.addSection(section,storeConfig.rank||null),sessionStore.addListener("update",section.reset,section)};this.isRendered?func.call(this):this.addListener("render",func,this)},CQ_Analytics.ClickstreamcloudUI.prototype.addSection=function(section,position){if(position<this.nbSection&&this.nbSection>0){for(var i=this.nbSection,n=this.sections.lastChild;i>position+1;)i--,n=n.previousSibling;this.sections.insertBefore(section.get(),n)}else this.sections.appendChild(section.get());this.nbSection++},CQ_Analytics.ClickstreamcloudUI.prototype.removeSection=function(section){this.sections.removeChild(section),this.nbSection--},CQ_Analytics.ClickstreamcloudUI.prototype.show=function(){if(!this.isRendered){var parent=document.getElementById(this.parentId);parent&&(this.createBox(parent),this.isRendered=!0,this.fireEvent("render"))}this.box.style.display="block",this.onVisibilityChange(),this.fireEvent("show")},CQ_Analytics.ClickstreamcloudUI.prototype.hide=function(){null!=this.box&&(this.box.style.display="none"),this.onVisibilityChange()},CQ_Analytics.ClickstreamcloudUI.prototype.MODE_TEXTFIELD="textfield",CQ_Analytics.ClickstreamcloudUI.prototype.MODE_LINK="link",CQ_Analytics.ClickstreamcloudUI.prototype.MODE_STATIC="static",CQ_Analytics.ClickstreamcloudUI.prototype.VERSION_FULL="full",CQ_Analytics.ClickstreamcloudUI.prototype.VERSION_LIGHT="light",CQ_Analytics.ClickstreamcloudUI.prototype.Section=function(sessionStore,version,config,renderer){this.contentbox=null,this.section=null,this.sessionStore=sessionStore,this.version=version,this.title=config.title,this.mode=config.mode||CQ_Analytics.ClickstreamcloudUI.MODE_TEXTFIELD,this.renderer=renderer,this.sort=function(names,orderArray){if(!orderArray||!names)return names;for(var res=[],i=0;i<orderArray.length;i++){var name=orderArray[i],index=$CQ.inArray(name,names);index>-1&&(res.push(name),names=$CQ.merge(names.slice(0,index-1),names.slice(index+1,names.length)))}return res=$CQ.merge(res,names)},this.buildContentBox=function(){if(this.renderer)this.contentbox=this.renderer.call(this.sessionStore);else{this.contentbox=document.createElement("p"),this.contentbox.className="ccl-sectioncontent";var storeConfig=CQ_Analytics.CCM.getStoreConfig(this.sessionStore.getName()),uiConfig=CQ_Analytics.CCM.getUIConfig(this.sessionStore.getName()),names=this.sessionStore.getPropertyNames(storeConfig.invisible);names=this.sort(names,uiConfig.order);var data=this.sessionStore.getData();if(this.version==CQ_Analytics.ClickstreamcloudUI.VERSION_LIGHT){for(var filteredValues=new Array,filteredNames=new Array,i=0;i<names.length;i++){var name=names[i],storeValue=this.sessionStore.getProperty(name);if(storeValue==name)filteredValues.push(name),filteredNames.push(name);else{var v=CQ.shared.XSS.getXSSTablePropertyValue(data,name);v=CQ_Analytics.Variables.replaceVariables(v),-1==CQ_Analytics.Utils.indexOf(filteredValues,v)&&(filteredValues.push(v),name=CQ.shared.XSS.KEY_REGEXP.test(name)?name.substring(0,name.length-4):name,filteredNames.push(name))}}for(var i=0,currentNb=0;i<filteredValues.length;i++){var name=filteredNames[i],value=filteredValues[i];if(value=CQ_Analytics.Variables.replaceVariables(value),this.mode==CQ_Analytics.ClickstreamcloudUI.MODE_LINK){var link=CQ_Analytics.Utils.externalize(this.sessionStore.getLink(name),!0);this.addLink(this.sessionStore.getLabel(name),link,"ccl-data-light",name)}else this.addStaticText(value,"ccl-data-light",name);currentNb++,currentNb>3&&(currentNb=0,this.addLineBreak())}}else for(var i=0;i<names.length;i++){var name=names[i],v=CQ.shared.XSS.getXSSTablePropertyValue(data,name);if(name=CQ.shared.XSS.KEY_REGEXP.test(name)?name.substring(0,name.length-4):name,this.mode==CQ_Analytics.ClickstreamcloudUI.MODE_TEXTFIELD)this.addNameValueField(this.sessionStore.getLabel(name),v,name,"ccl-data",name);else if(this.mode==CQ_Analytics.ClickstreamcloudUI.MODE_LINK){var link=CQ_Analytics.Utils.externalize(this.sessionStore.getLink(name),!0);this.addLink(this.sessionStore.getLabel(name),link,"ccl-data",name)}else this.addStaticText(this.sessionStore.getLabel(name),"ccl-data",name);this.contentbox.appendChild(document.createTextNode(" "))}}},this.buildSection=function(){null==this.contentbox&&this.buildContentBox(),null==this.section&&(this.section=document.createElement("div"));var header=document.createElement("div");header.className="ccl-header",this.section.appendChild(header);var titleDiv=document.createElement("div");titleDiv.innerHTML=CQ.shared.I18n.getVarMessage(this.title),titleDiv.className="ccl-title",header.appendChild(titleDiv),this.section.appendChild(this.contentbox)}},CQ_Analytics.ClickstreamcloudUI.prototype.Section.prototype=new CQ_Analytics.Observable,CQ_Analytics.ClickstreamcloudUI.prototype.Section.prototype.get=function(){return null==this.section&&this.buildSection(),this.section},CQ_Analytics.ClickstreamcloudUI.prototype.Section.prototype.reset=function(){if(!this.isReseting){if(this.isReseting=!0,null!=this.section){for(;this.section.hasChildNodes();)this.section.removeChild(this.section.firstChild);this.contentbox=null}this.buildSection(),this.isReseting=!1}},CQ_Analytics.ClickstreamcloudUI.prototype.Section.prototype.addNameValueField=function(label,value,name,cssClass,title){this.contentbox.appendChild(CQ_Analytics.ClickstreamcloudRenderingUtils.createNameValue(name,value,cssClass,title))},CQ_Analytics.ClickstreamcloudUI.prototype.Section.prototype.addLink=function(text,link,cssClass,title){if(link){var span=document.createElement("span");span.className=cssClass||"ccl-data",span.title=title,span.alt=title,span.appendChild(CQ_Analytics.ClickstreamcloudRenderingUtils.createStaticLink(text,link,title)),this.contentbox.appendChild(span)}else this.addStaticText(text)},CQ_Analytics.ClickstreamcloudUI.prototype.Section.prototype.addStaticText=function(text,cssClass,title){text&&this.contentbox.appendChild(CQ_Analytics.ClickstreamcloudRenderingUtils.createText(text,cssClass,title))},CQ_Analytics.ClickstreamcloudUI.prototype.Section.prototype.addLineBreak=function(){this.contentbox.appendChild(document.createElement("br"))},CQ_Analytics.ClickstreamcloudUI=new CQ_Analytics.ClickstreamcloudUI,CQ_Analytics.CCM.addListener("configloaded",function(){CQ_Analytics.ClickstreamcloudUI.init(CQ_Analytics.CCM.getConfig().ui)})),CQ_Analytics.PageDataMgr||(CQ_Analytics.PageDataMgr=function(){},CQ_Analytics.PageDataMgr.prototype=new CQ_Analytics.SessionStore,CQ_Analytics.PageDataMgr.prototype.STORENAME="pagedata",CQ_Analytics.PageDataMgr.prototype.FORCE_EXPERIENCE_COOKIE="cq-forceexperience",CQ_Analytics.PageDataMgr.prototype.init=function(){this.data={};for(var p in this.initProperty)this.data[p]=this.initProperty[p];this.initialized=!0,this.fireEvent("initialize",this),this.fireEvent("update")},CQ_Analytics.PageDataMgr.prototype.getLabel=function(name){return name},CQ_Analytics.PageDataMgr.prototype.getLink=function(){return""},CQ_Analytics.PageDataMgr.prototype.setExperience=function(path){CQ.shared.HTTP.setCookie(CQ_Analytics.PageDataMgr.FORCE_EXPERIENCE_COOKIE,path,"/")},CQ_Analytics.PageDataMgr.prototype.getExperience=function(){return CQ.shared.HTTP.getCookie(CQ_Analytics.PageDataMgr.FORCE_EXPERIENCE_COOKIE,"/")},CQ_Analytics.PageDataMgr.prototype.clearExperience=function(){CQ.shared.HTTP.clearCookie(CQ_Analytics.PageDataMgr.FORCE_EXPERIENCE_COOKIE,"/")},CQ_Analytics.PageDataMgr=new CQ_Analytics.PageDataMgr,CQ_Analytics.CCM.addListener("configloaded",function(){this.loadInitProperties(CQ_Analytics.CCM.getInitialData(this.getName())),this.init(),CQ_Analytics.ClickstreamcloudUI.register(this.getSessionStore(),CQ_Analytics.CCM.getUIConfig(this.getName())),CQ_Analytics.CCM.register(this)},CQ_Analytics.PageDataMgr)),CQ_Analytics.BrowserInfo=function(){var ua=navigator.userAgent.toLowerCase(),check=function(r){return r.test(ua)},getBrowser=function(){if(check(/opera/))return{browserFamily:"Opera",browserVersion:""};if(check(/chrome/))return{browserFamily:"Chrome",browserVersion:""};if(check(/safari/))return check(/applewebkit\/4/)?{browserFamily:"Safari",browserVersion:"2"}:check(/version\/3/)?{browserFamily:"Safari",browserVersion:"3"}:check(/version\/4/)?{browserFamily:"Safari",browserVersion:"4"}:check(/version\/5/)?{browserFamily:"Safari",browserVersion:"5"}:check(/version\/6/)?{browserFamily:"Safari",browserVersion:"6"}:{browserFamily:"Safari",browserVersion:"7 or higher"};if(check(/webkit/))return{browserFamily:"WebKit",browserVersion:""};if(check(/msie/))return check(/msie 6/)?{browserFamily:"IE",browserVersion:"6"}:check(/msie 7/)?{browserFamily:"IE",browserVersion:"7"}:check(/msie 8/)?{browserFamily:"IE",browserVersion:"8"}:check(/msie 9/)?{browserFamily:"IE",browserVersion:"9"}:check(/msie 10/)?{browserFamily:"IE",browserVersion:"10"}:{browserFamily:"IE",browserVersion:"11 or higher"};if(check(/gecko/))return check(/rv:1\.8/)?{browserFamily:"Firefox",browserVersion:"2"}:check(/rv:1\.9/)?{browserFamily:"Firefox",browserVersion:"3"}:check(/rv:2.0/)?{browserFamily:"Firefox",browserVersion:"4"}:check(/rv:5./)?{browserFamily:"Firefox",browserVersion:"5"}:check(/rv:6./)?{browserFamily:"Firefox",browserVersion:"6"}:check(/rv:7./)?{browserFamily:"Firefox",browserVersion:"7"}:check(/rv:8./)?{browserFamily:"Firefox",browserVersion:"8"}:check(/rv:9./)?{browserFamily:"Firefox",browserVersion:"9"}:{browserFamily:"Firefox",browserVersion:"10 or higher"};var isAir=check(/adobeair/);return isAir?{browserFamily:"Adobe AIR",browserVersion:""}:{browserFamily:"Unresolved",browserVersion:"Unresolved"}},getOS=function(){return check(/windows 98|win98/)?"Windows 98":check(/windows nt 5.0|windows 2000/)?"Windows 2000":check(/windows nt 5.1|windows xp/)?"Windows XP":check(/windows nt 5.2/)?"Windows Server 2003":check(/windows nt 6.0/)?"Windows Vista":check(/windows nt 6.1/)?"Windows 7":check(/windows nt 4.0|winnt4.0|winnt/)?"Windows NT 4.0":check(/windows me/)?"Windows ME":check(/mac os x/)?check(/ipad/)||check(/iphone/)?"iOS":"Mac OS X":check(/macintosh|mac os/)?"Mac OS":check(/android/)?"Android":check(/linux/)?"Linux":"Unresolved"},getDeviceType=function(){return check(/ipad/)?"iPad":check(/iphone/)?"iPhone":check(/mobi/)?"Mobile":"Desktop"},b=getBrowser.call();this.browserFamily=b.browserFamily,this.browserVersion=b.browserVersion,this.browserName=this.browserFamily+" "+this.browserVersion,this.OSName=getOS.call(),this.deviceType=getDeviceType.call(),this.ua=ua;/^https/i.test(window.location.protocol);this.screenResolution=screen.width+"x"+screen.height},CQ_Analytics.BrowserInfo.prototype={getBrowserName:function(){return this.browserName},getBrowserFamily:function(){return this.browserFamily},getBrowserVersion:function(){return this.browserVersion},getOSName:function(){return this.OSName},getScreenResolution:function(){return this.screenResolution},getDeviceType:function(){return this.deviceType},getUserAgent:function(){return this.ua},isMobile:function(deviceType){return deviceType||(deviceType=this.getDeviceType()),deviceType=deviceType?deviceType.toLowerCase():"desktop","desktop"!=deviceType},isIE:function(version){return"IE"==this.getBrowserFamily()&&(version?this.getBrowserVersion()==version:!0)},isIE6:function(){return this.isIE("6")},isIE7:function(){return this.isIE("7")},isIE8:function(){return this.isIE("8")},isIE9:function(){return this.isIE("9")}},CQ_Analytics.BrowserInfoInstance=new CQ_Analytics.BrowserInfo,CQ_Analytics.MousePositionMgr||(CQ_Analytics.MousePositionMgr=function(){this.position={x:0,y:0},this.getPageX=function(ev){var x=ev.pageX;return x||0===x||(x=ev.clientX||0),x},this.getPageY=function(ev){var y=ev.pageY;return y||0===y||(y=ev.clientY||0),y};var currentObj=this;this.timer=null,$CQ(document).bind("mousemove",function(event){var e=event||window.event;if(e&&!currentObj.timer){var x=currentObj.getPageX(e),y=currentObj.getPageY(e);currentObj.timer=setTimeout(function(){currentObj.setPosition(x,y),currentObj.timer=null},500)}}),this.init()},CQ_Analytics.MousePositionMgr.prototype=new CQ_Analytics.SessionStore,CQ_Analytics.MousePositionMgr.prototype.STORENAME="mouseposition",CQ_Analytics.MousePositionMgr.prototype.setPosition=function(x,y){this.position.x=x,this.position.y=y,this.fireEvent("update")},CQ_Analytics.MousePositionMgr.prototype.getProperty=function(name){return this.position[name]},CQ_Analytics.MousePositionMgr.prototype.getLabel=function(name){return name},CQ_Analytics.MousePositionMgr.prototype.getLink=function(){return""},CQ_Analytics.MousePositionMgr.prototype.getPropertyNames=function(){var res=new Array;for(var p in this.position)res.push(p);return res},CQ_Analytics.MousePositionMgr.prototype.getSessionStore=function(){return this},CQ_Analytics.MousePositionMgr.prototype.getData=function(){return this.position},CQ_Analytics.MousePositionMgr.prototype.clear=function(){this.position={}},CQ_Analytics.MousePositionMgr=new CQ_Analytics.MousePositionMgr,CQ_Analytics.CCM.addListener("configloaded",function(){CQ_Analytics.CCM.register(this)},CQ_Analytics.MousePositionMgr)),CQ_Analytics.EventDataMgr||(CQ_Analytics.EventDataMgr=function(){},CQ_Analytics.EventDataMgr.prototype=new CQ_Analytics.SessionStore,CQ_Analytics.EventDataMgr.prototype.STORENAME="eventdata",CQ_Analytics.EventDataMgr.prototype.init=function(){this.data={};for(var p in this.initProperty)this.data[p]=this.initProperty[p];this.initialized=!0,this.fireEvent("initialize",this),this.fireEvent("update")},CQ_Analytics.EventDataMgr.prototype.getLabel=function(name){return name},CQ_Analytics.EventDataMgr.prototype.getLink=function(){return""},CQ_Analytics.EventDataMgr=new CQ_Analytics.EventDataMgr,CQ_Analytics.CCM.addListener("configloaded",function(){this.loadInitProperties(CQ_Analytics.CCM.getInitialData(this.getName())),this.init(),CQ_Analytics.ClickstreamcloudUI.register(this.getSessionStore(),CQ_Analytics.CCM.getUIConfig(this.getName())),CQ_Analytics.CCM.register(this)},CQ_Analytics.EventDataMgr)),window.CQ_Context||(window.CQ_Context=function(){},window.CQ_Context.prototype=new CQ_Analytics.Observable,window.CQ_Context.prototype.getProfile=function(){return function(){return{getUserId:function(){return this.getProperty("authorizableId")},getDisplayName:function(){var fn=this.getProperty("formattedName");return fn?fn:(fn=this.getProperty("displayName"),fn?fn:this.getUserId())},getFirstname:function(){return this.getProperty("givenName")},getLastname:function(){return this.getProperty("familyName")},getEmail:function(){return this.getProperty("email")},getProperty:function(name){return CQ_Analytics&&CQ_Analytics.ProfileDataMgr?CQ_Analytics.ProfileDataMgr.getProperty(name):""},getProperties:function(){return CQ_Analytics&&CQ_Analytics.ProfileDataMgr?CQ_Analytics.ProfileDataMgr.getData():{}},getAvatar:function(){return this.getProperty("avatar")},onUpdate:function(fct,scope){fct&&CQ_Analytics&&CQ_Analytics.ProfileDataMgr&&CQ_Analytics.ProfileDataMgr.addListener("update",fct,scope||this)}}}()},window.CQ_Context=new window.CQ_Context),window.CQ_trackLandingPagesStats=!0,CQ_Analytics.PersistedJSONStore=function(){},CQ_Analytics.PersistedJSONStore.prototype=new CQ_Analytics.PersistedSessionStore,CQ_Analytics.PersistedJSONStore.prototype.STOREKEY="",CQ_Analytics.PersistedJSONStore.prototype.STORENAME="",CQ_Analytics.PersistedJSONStore.prototype.init=function(){var store=new CQ_Analytics.SessionPersistence,value=store.get(this.getStoreKey());if(value&&""!=value)this.data=this.parse(value);else{this.data={};for(var p in this.initProperty)this.data[p]=this.initProperty[p]}this.persist(),this.initialized=!0,this.fireEvent("initialize",this),this.fireEvent("update")},CQ_Analytics.PersistedJSONStore.prototype.clear=function(){var store=new CQ_Analytics.SessionPersistence;store.remove(this.getStoreKey()),this.data=null,this.initProperty={}},CQ_Analytics.PersistedJSONStore.prototype.initJSON=function(jsonData,doNotClear){doNotClear||(this.initProperty={});var propertyToPaths=function(target,prefix,obj){for(var p in obj)"object"==typeof obj[p]?propertyToPaths(target,prefix?prefix+"/"+p:p,obj[p]):target[prefix?prefix+"/"+p:p]=obj[p]};propertyToPaths(this.initProperty,null,jsonData)},CQ_Analytics.PersistedJSONStore.prototype.getJSON=function(){var data=this.getData(),res={};for(var longProp in data)for(var s=longProp.split("/"),level=res,i=0;i<s.length;i++){var propLevel=s[i];i==s.length-1?level[propLevel]=data[longProp]:(level[propLevel]=level[propLevel]||{},level=level[propLevel])}return res},CQ_Analytics.PersistedJSONStore.getInstance=function(storeName,jsonData){var s=new CQ_Analytics.PersistedJSONStore;return s.STOREKEY=storeName.toUpperCase(),s.STORENAME=storeName,s.initJSON(jsonData),s},CQ_Analytics.PersistedJSONStore.registerNewInstance=function(storeName,jsonData){var jsonStore=CQ_Analytics.PersistedJSONStore.getInstance(storeName,jsonData);return jsonStore.init(),CQ_Analytics.CCM.register(jsonStore),jsonStore},CQ_Analytics.JSONStore=function(){},CQ_Analytics.JSONStore.prototype=new CQ_Analytics.SessionStore,CQ_Analytics.JSONStore.prototype.STOREKEY="",CQ_Analytics.JSONStore.prototype.STORENAME="",CQ_Analytics.JSONStore.prototype.init=function(){this.data={};for(var p in this.initProperty)this.data[p]=this.initProperty[p];this.initialized=!0,this.fireEvent("initialize",this),this.fireEvent("update")},CQ_Analytics.JSONStore.prototype.clear=function(){this.data=null,this.initProperty={}},CQ_Analytics.JSONStore.prototype.initJSON=function(jsonData,doNotClear){doNotClear||(this.initProperty={});var propertyToPaths=function(target,prefix,obj){for(var p in obj)"object"==typeof obj[p]?propertyToPaths(target,prefix?prefix+"/"+p:p,obj[p]):target[prefix?prefix+"/"+p:p]=obj[p]};propertyToPaths(this.initProperty,null,jsonData)},CQ_Analytics.JSONStore.prototype.getJSON=function(){var data=this.getData(),res={};for(var longProp in data)for(var s=longProp.split("/"),level=res,i=0;i<s.length;i++){var propLevel=s[i];i==s.length-1?level[propLevel]=data[longProp]:(level[propLevel]=level[propLevel]||{},level=level[propLevel])}return res},CQ_Analytics.JSONStore.getInstance=function(storeName,jsonData){var s=new CQ_Analytics.JSONStore;return s.STOREKEY=storeName.toUpperCase(),s.STORENAME=storeName,s.initJSON(jsonData),s},CQ_Analytics.JSONStore.registerNewInstance=function(storeName,jsonData){var jsonStore=CQ_Analytics.JSONStore.getInstance(storeName,jsonData);return jsonStore.init(),CQ_Analytics.CCM.register(jsonStore),jsonStore},CQ_Analytics.PersistedJSONPStore=function(){},CQ_Analytics.PersistedJSONPStore.prototype=new CQ_Analytics.PersistedJSONStore,CQ_Analytics.PersistedJSONPStore.prototype.setServiceURL=function(serviceURL){this.serviceURL=serviceURL},CQ_Analytics.PersistedJSONPStore.prototype.getServiceURL=function(){return this.serviceURL},CQ_Analytics.PersistedJSONPStore.prototype.load=function(serviceURL,dynamicData,callback){var storeName=this.getName();CQ_Analytics.PersistedJSONPStore.JSONPCallbacks[this.getName()]||(CQ_Analytics.PersistedJSONPStore.JSONPCallbacks[storeName]=function(data){var s=CQ_Analytics.CCM.getRegisteredStore(storeName);s&&(s.initJSON(data),dynamicData&&s.initJSON(dynamicData,!0)),callback&&callback.call(s)}),serviceURL&&this.setServiceURL(serviceURL);var url=this.serviceURL;url=url.replace("${callback}","CQ_Analytics.PersistedJSONPStore.JSONPCallbacks."+storeName),$CQ.getScript(url)},CQ_Analytics.PersistedJSONPStore.JSONPCallbacks={},CQ_Analytics.PersistedJSONPStore.getInstance=function(storeName,serviceURL,dynamicData,deferLoading,loadingCallback){if(storeName&&serviceURL)try{var jsonpStore=new CQ_Analytics.PersistedJSONPStore;return jsonpStore.STOREKEY=storeName.toUpperCase(),jsonpStore.STORENAME=storeName,serviceURL&&jsonpStore.setServiceURL(serviceURL),deferLoading||jsonpStore.load(serviceURL,dynamicData,loadingCallback),jsonpStore}catch(error){console.log("Cannot create the JSONP store",storeName,serviceURL,error)}return null},CQ_Analytics.PersistedJSONPStore.registerNewInstance=function(storeName,serviceURL,dynamicData,callback){if(!serviceURL)return null;if(!storeName){var sa=CQ.shared.HTTP.getSchemeAndAuthority(serviceURL);sa?-1!=sa.indexOf(".")?(sa=sa.substring(0,sa.lastIndexOf(".")),storeName=sa.substring(sa.lastIndexOf(".")+1)):storeName=sa.substring(sa.lastIndexOf("/")+1):storeName=serviceURL}var store=CQ_Analytics.PersistedJSONPStore.getInstance(storeName,serviceURL,dynamicData,!1,function(){this.init(),this.reset(),callback&&callback.call(this)});return null!=store?(CQ_Analytics.CCM.register(store),store):null},CQ_Analytics.JSONPStore=function(){},CQ_Analytics.JSONPStore.prototype=new CQ_Analytics.JSONStore,CQ_Analytics.JSONPStore.prototype.setServiceURL=function(serviceURL){this.serviceURL=serviceURL},CQ_Analytics.JSONPStore.prototype.getServiceURL=function(){return this.serviceURL},CQ_Analytics.JSONPStore.prototype.load=function(serviceURL,dynamicData,callback){var storeName=this.getName();CQ_Analytics.JSONPStore.JSONPCallbacks[this.getName()]||(CQ_Analytics.JSONPStore.JSONPCallbacks[storeName]=function(data){var s=CQ_Analytics.CCM.getRegisteredStore(storeName);s&&(s.initJSON(data),dynamicData&&s.initJSON(dynamicData,!0)),callback&&callback.call(s)}),serviceURL&&this.setServiceURL(serviceURL);var url=this.serviceURL;url=url.replace("${callback}","CQ_Analytics.JSONPStore.JSONPCallbacks."+storeName),$CQ.getScript(url)},CQ_Analytics.JSONPStore.JSONPCallbacks={},CQ_Analytics.JSONPStore.getInstance=function(storeName,serviceURL,dynamicData,deferLoading,loadingCallback){if(storeName)try{var jsonpStore=new CQ_Analytics.JSONPStore;return jsonpStore.STOREKEY=storeName.toUpperCase(),jsonpStore.STORENAME=storeName,serviceURL&&(jsonpStore.setServiceURL(serviceURL),deferLoading||jsonpStore.load(serviceURL,dynamicData,loadingCallback)),jsonpStore}catch(error){console.log("Cannot create the JSONP store",storeName,serviceURL,error)}return null},CQ_Analytics.JSONPStore.registerNewInstance=function(storeName,serviceURL,dynamicData,callback){if(!storeName&&serviceURL){var sa=CQ.shared.HTTP.getSchemeAndAuthority(serviceURL);sa?-1!=sa.indexOf(".")?(sa=sa.substring(0,sa.lastIndexOf(".")),storeName=sa.substring(sa.lastIndexOf(".")+1)):storeName=sa.substring(sa.lastIndexOf("/")+1):storeName=serviceURL}var store=CQ_Analytics.JSONPStore.getInstance(storeName,serviceURL,dynamicData,!1,function(){this.init(),this.reset(),callback&&callback.call(this)});return null!=store?(CQ_Analytics.CCM.register(store),store):null},$CQ(function(){CQ_Analytics.Slider=function(options){return{init:function(){this.vertical=options.vertical,this.clazz=options.clazz,this.parent=options.parent,this.container=$CQ("<div>").addClass("cq-cc-slider").addClass("cq-cc-slider-"+(this.vertical?"vertical":"horizontal")).addClass(this.clazz).appendTo(this.parent),this.container.hide(),this.carousel=$CQ("<ul>").addClass("jcarousel-skin-cq-cc").appendTo(this.container)
},show:function(){if(!this.isWidget){var currentObj=this;options.initCallback=function(carousel){currentObj.carouselObj=carousel},this.carousel.jcarousel(options),this.isWidget=!0}var currentObj=this;this.select(this.computeSelectedIndex(),!0,!0),this.vertical?this.container.slideDown("fast"):($CQ(".cq-cc-slider",this.parent).css("top",this.parent.position().top-9+"px"),$CQ(".cq-cc-slider",this.parent).css("left",this.parent.position().left-27+"px"),$CQ(".cq-cc-slider",this.parent).fadeIn(1e3,function(){$CQ(".jcarousel-container-horizontal",currentObj.parent).animate({width:"270px"},"fast"),$CQ(".jcarousel-clip-horizontal",currentObj.parent).animate({width:"268px"},"fast",function(){currentObj.carousel.jcarousel()})})),currentObj.container.bind("click",this.stopPropagation),$CQ(document).bind("click",{scope:this},this.handleDocClick)},handleDocClick:function(event){event.data.scope.hide()},stopPropagation:function(event){event.stopPropagation()},hide:function(){if($CQ(document).unbind("click",this.handleDocClick),this.container.unbind("click",this.stopPropagation),this.vertical)this.container.slideUp("fast");else{var currentObj=this;$CQ(".jcarousel-container-horizontal",this.parent).animate({width:"90px"},"fast"),$CQ(".jcarousel-clip-horizontal",this.parent).animate({width:"90px"},"fast",function(){$CQ(".cq-cc-slider",currentObj.parent).fadeOut(1e3)})}},select:function(num,force,noAnimation){var selected=this.getSelected();if(force||0==selected.length||selected.attr("jcarouselindex")!=num){var toSelect=this.getItem(num);selected.removeClass("jcarousel-item-selected"),toSelect.addClass("jcarousel-item-selected"),$CQ(this.container).find(".jcarousel-item-selected-marker").removeClass("jcarousel-item-selected-marker");var currentId=this.getCurrentValue(),id=toSelect.children().attr("data-id");$CQ(this.container).find("[data-id='"+id+"']").addClass("jcarousel-item-selected-marker"),currentId!=id&&this.onSelect(id),this.carouselObj.scroll($CQ.jcarousel.intval(toSelect.attr("jcarouselindex")),!noAnimation)}},getSelected:function(){return $CQ(this.container).find(".jcarousel-item-selected")},computeSelectedIndex:function(){var id=this.getCurrentValue();return $CQ(this.container).find("[data-id='"+id+"']").parent().attr("jcarouselindex")||0},getItem:function(num){return $CQ(this.container).find("[jcarouselindex="+num+"]")},onSelect:function(){},getCurrentValue:function(){}}}}),CQ_Analytics.record=function(options){if(options.collect)return[options.event,options.values];if(options.event){options.options=options.options||{};try{CQ_Analytics.recordBeforeCallbacks.sort(function(a,b){return a.rank-b.rank});for(var callback in CQ_Analytics.recordBeforeCallbacks)if(CQ_Analytics.recordBeforeCallbacks[callback].func.call(this,options))return}catch(err){}var dataMgr=options.dataMgr||CQ_Analytics.EventDataMgr;if(dataMgr.reset(),"string"==typeof options.event?dataMgr.setProperty("events",options.event):dataMgr.setProperty("events",options.event.join("…")),options.values)for(var j in options.values)dataMgr.setProperty(j,options.values[j]);try{CQ_Analytics.recordAfterCallbacks.sort(function(a,b){return a.rank-b.rank});for(var callback in CQ_Analytics.recordAfterCallbacks)if(CQ_Analytics.recordAfterCallbacks[callback].func.call(this,options))return}catch(err){}}},CQ_Analytics.recordBeforeCallbacks=[],CQ_Analytics.recordAfterCallbacks=[],CQ_Analytics.registerBeforeCallback=function(callback,rank){CQ_Analytics.recordBeforeCallbacks.push({rank:rank,func:callback})},CQ_Analytics.registerAfterCallback=function(callback,rank){CQ_Analytics.recordAfterCallbacks.push({rank:rank,func:callback})},CQ_Analytics.ClientContext||(CQ_Analytics.ClientContext=new function(){return{get:function(path,resolveVariables){if(path){0!=path.indexOf("/")&&(path="/"+path);var storeName=path.split("/")[1],propertyName=path.substring(path.indexOf("/"+storeName)+storeName.length+2,path.length),store=CQ_Analytics.CCM.getRegisteredStore(storeName);if(store){if(propertyName){var value=store.getProperty(propertyName);return value&&resolveVariables&&(value=CQ_Analytics.Variables.replaceVariables(value)),value}return store}}return null},set:function(path,value){if(path){0!=path.indexOf("/")&&(path="/"+path);var storeName=path.split("/")[1],propertyName=path.substring(path.indexOf("/"+storeName)+storeName.length+2,path.length),store=CQ_Analytics.CCM.getRegisteredStore(storeName);store&&propertyName&&store.setProperty(propertyName,value)}},clear:function(){var stores=CQ_Analytics.CCM.getStores();if(stores)for(var s in stores)stores[s].clear&&stores[s].clear()},reset:function(){var stores=CQ_Analytics.CCM.getStores();if(stores)for(var s in stores)stores[s].reset&&stores[s].reset()},persist:function(storeName){CQ_Analytics.ClientContextMgr.ServerStorage.post(storeName,!0)}}},window.ClientContext=CQ_Analytics.ClientContext,window.ContextCloud=CQ_Analytics.ClientContext),CQ_Analytics.ClientContextUI||(CQ_Analytics.ClientContextUI=function(){this.loaded=!1,this.ccUrl=null,this.visible=!1,this.rendered=!1,this.containerId=null,this.boxId=null,this.contentPlaceholderId=null,this.editMode=!1},CQ_Analytics.ClientContextUI.prototype=new CQ_Analytics.Observable,CQ_Analytics.ClientContextUI.prototype.SHOW_BOX_COOKIE="cq-show-clientcontext",CQ_Analytics.ClientContextUI.prototype.init=function(url,containerId,boxId,contentPlaceholderId,editMode){this.ccUrl=url,this.containerId=containerId,this.boxId=boxId,this.contentPlaceholderId=contentPlaceholderId,this.editMode=editMode,$CQ(document).bind("keydown",CQ_Analytics.Utils.eventWrapper(function(event,keyCode){event.ctrlKey&&event.altKey&&keyCode=="C".charCodeAt(0)&&CQ_Analytics.ClientContextUI.toggle()})),"true"==CQ_Analytics.Cookie.read(this.SHOW_BOX_COOKIE)&&this.show()},CQ_Analytics.ClientContextUI.prototype.render=function(){this.rendered||this.fireEvent("beforerender")===!1||(this.rendered=!0,this.fireEvent("render"))},CQ_Analytics.ClientContextUI.prototype.load=function(force){if(this.ccUrl&&(!this.loaded||force)&&this.fireEvent("beforeload")!==!1){var url=CQ.shared.HTTP.addParameter(this.ccUrl,"wcmmode",this.editMode?"preview":"disabled"),response=CQ.shared.HTTP.get(url);$CQ("#"+this.contentPlaceholderId).html(response.responseText),this.loaded=!0,this.fireEvent("load")}},CQ_Analytics.ClientContextUI.prototype.show=function(){this.load(),this.render(),this.fireEvent("beforeshow")!==!1&&($CQ.support.opacity?$CQ("#"+this.containerId).show("normal"):$CQ("#"+this.containerId).show(),this.visible=!0,CQ_Analytics.Cookie.set(this.SHOW_BOX_COOKIE,"true",365),this.fireEvent("show"))},CQ_Analytics.ClientContextUI.prototype.hide=function(){this.fireEvent("beforehide")!==!1&&($CQ.support.opacity?$CQ("#"+this.containerId).hide("fast"):$CQ("#"+this.containerId).hide(),this.visible=!1,CQ_Analytics.Cookie.set(this.SHOW_BOX_COOKIE,"false",365),this.fireEvent("hide"))},CQ_Analytics.ClientContextUI.prototype.toggle=function(){this.visible?this.hide():this.show()},CQ_Analytics.ClientContextUI.prototype.onLoad=function(callback,scope){callback&&(this.loaded?callback.call(scope||this):this.addListener("load",callback,scope))},CQ_Analytics.ClientContextUI.prototype.isAvailable=function(){return this.boxId&&$CQ("#"+this.boxId).length>0},CQ_Analytics.ClientContextUI.prototype.getBoxId=function(){return this.boxId},CQ_Analytics.ClientContextUI=new CQ_Analytics.ClientContextUI,CQ_Analytics.ClientContextUI.CONTAINER_ID="cq-clientcontext-container",CQ_Analytics.ClientContextUI.BOX_ID="cq-clientcontext-box",CQ_Analytics.ClientContextUI.BOX_CLASS="cq-clientcontext",CQ_Analytics.ClientContextUI.ACTIONS_ID="cq-clientcontext-box-actions",CQ_Analytics.ClientContextUI.ACTIONS_CONTAINER_ID="cq-clientcontext-box-actions-container",CQ_Analytics.ClientContextUI.CONTENT_ID="cq-clientcontext-box-content",CQ_Analytics.ClientContextUI.createPlaceholders=function(){var cc=$CQ("<div>").attr("id",CQ_Analytics.ClientContextUI.BOX_ID).addClass(CQ_Analytics.ClientContextUI.BOX_CLASS);cc.append($CQ("<div>").attr("id",CQ_Analytics.ClientContextUI.ACTIONS_ID).append($CQ("<div>").attr("id",CQ_Analytics.ClientContextUI.ACTIONS_CONTAINER_ID))),cc.append($CQ("<div>").attr("id",CQ_Analytics.ClientContextUI.CONTENT_ID));var container=$CQ("<div>").attr("id",CQ_Analytics.ClientContextUI.CONTAINER_ID);container.append(cc),$CQ("body").append(container)},CQ_Analytics.ClientContextUI.create=function(ccPath,pagePath){CQ_Analytics.ClientContextUI.createPlaceholders(),CQ_Analytics.ClientContextUI.addListener("beforerender",function(){$CQ("<div>").addClass("cq-clientcontext-box-action").addClass("cq-clientcontext-design").attr("title","Open the ClientContext design page").appendTo("#"+CQ_Analytics.ClientContextUI.ACTIONS_CONTAINER_ID).bind("click",function(){CQ.shared.Util.open(_g.shared.HTTP.externalize(ccPath+"/content.html"))}),$CQ("<div>").addClass("cq-clientcontext-box-action").addClass("cq-clientcontext-load").attr("title","Load a profile in the ClientContext").appendTo("#"+CQ_Analytics.ClientContextUI.ACTIONS_CONTAINER_ID).bind("click",function(){var dlg=new CQ.personalization.ProfileLoader({});dlg.show()}),$CQ("<div>").addClass("cq-clientcontext-box-action").addClass("cq-clientcontext-reset").attr("title","Reset the ClientContext").appendTo("#"+CQ_Analytics.ClientContextUI.ACTIONS_CONTAINER_ID).bind("click",function(){CQ_Analytics.ClientContext.reset()}),$CQ("<div>").addClass("cq-clientcontext-box-action").addClass("cq-clientcontext-close").attr("title","Close the ClientContext").appendTo("#"+CQ_Analytics.ClientContextUI.ACTIONS_CONTAINER_ID).bind("click",function(){CQ_Analytics.ClientContextUI.hide()});var offset=$CQ("#"+CQ_Analytics.ClientContextUI.BOX_ID).offset();$CQ("#"+CQ_Analytics.ClientContextUI.BOX_ID).draggable({handle:"#"+CQ_Analytics.ClientContextUI.ACTIONS_ID,revert:!1,stop:function(){offset=$CQ("#"+CQ_Analytics.ClientContextUI.BOX_ID).offset()}}),$CQ("#"+CQ_Analytics.ClientContextUI.BOX_ID).addClass("CQjquery").resizable(),window.CQ&&CQ.wcm&&CQ.wcm.emulator&&CQ.wcm.emulator.EmulatorManager&&CQ.wcm.emulator.EmulatorManager.WRAPPING_EXCLUDED_IDS&&CQ.wcm.emulator.EmulatorManager.WRAPPING_EXCLUDED_IDS.push(CQ_Analytics.ClientContextUI.CONTAINER_ID)});var clientContextURL=CQ.shared.HTTP.addParameter(ccPath+"/content/jcr:content/stores.html","path",pagePath);CQ_Analytics.ClientContextUI.init(clientContextURL,CQ_Analytics.ClientContextUI.CONTAINER_ID,CQ_Analytics.ClientContextUI.BOX_ID,CQ_Analytics.ClientContextUI.CONTENT_ID,!0)});var TEASER_SETTINGS={debug:!1,debugStrategy:!1},TEASER_SELECT={criteria:{},log:function(msg){TEASER_SETTINGS.debug&&console.log("TEASER_SELECT>> "+msg)},setCriteria:function(store,prop_name,operator,promo_field,value_format){var store_obj=CQ_Analytics.ClickstreamcloudMgr.get()[store],match_value=store_obj[prop_name];if(TEASER_SELECT.log("Set criteria: property="+prop_name+" value="+match_value),match_value){var id=[store,prop_name,operator,promo_field,"(",match_value,")"].join(" ");return TEASER_SELECT.criteria[id]||(TEASER_SELECT.criteria[id]={store_obj:store_obj,prop_name:prop_name,operator:operator,promo_field:promo_field,value_format:value_format},TEASER_SELECT.log("Set teaser criteria: "+id)),!0}return!1},evaluateTeaser:function(teaser){TEASER_SELECT.log("Checking criteria for teaser: "+teaser.path);for(var c in TEASER_SELECT.criteria){var criterion=TEASER_SELECT.criteria[c];if(!CQ_Analytics.OperatorActions.operate(criterion.store_obj,criterion.prop_name,criterion.operator,teaser.promo_metadata[criterion.promo_field],criterion.value_format))return TEASER_SELECT.log("    Failed criterion: "+c),!1;TEASER_SELECT.log("    Passed criterion: "+c)}return TEASER_SELECT.log("    PASSED ALL CRITERIA."),!0},purge:function(){TEASER_SELECT.criteria={},TEASER_SELECT.log("Purged criteria.")}};CQ_Analytics.StrategyMgr||(CQ_Analytics.StrategyMgr=function(){this.strategies={}},CQ_Analytics.StrategyMgr.prototype={},CQ_Analytics.StrategyMgr.prototype.isRegistered=function(strategy){return!!this.strategies[strategy]},CQ_Analytics.StrategyMgr.prototype.register=function(strategy,func){"function"==typeof func&&(this.strategies[strategy]=func)},CQ_Analytics.StrategyMgr.prototype.choose=function(strategy,teasers){return this.strategies[strategy]?this.strategies[strategy].call(this,teasers):void 0},CQ_Analytics.StrategyMgr=new CQ_Analytics.StrategyMgr),CQ_Analytics.StrategyMgr.register("teasercriteria",function(teasers){function stratlog(msg){TEASER_SETTINGS.debugStrategy&&console.log("TEASER_STRATEGY>> "+msg)}function sortSegmentsByBoost(segments){for(var seg_boosts=[],sorted=[],lenS=segments.length,i=0;lenS>i;i++)seg_boosts.push([segments[i],CQ_Analytics.SegmentMgr.getBoost(segments[i])]);seg_boosts.sort(function(a,b){return a[1]<b[1]?1:a[1]>b[1]?-1:0});for(var i=0;lenS>i;i++)sorted.push(seg_boosts[i][0]);return sorted}function getTeasersForSegment(segment,teasers){function contains(a,obj){for(var x=a.length;x--;)if(a[x]===obj)return!0;return!1}var teasers_for_segment=[],lenT=teasers.length;for(y=0;lenT>y;y++)contains(teasers[y].segments,segment)&&teasers_for_segment.push(teasers[y]);return teasers_for_segment}function makeFinalSelection(teasers){function getRandom(){var ranNum=Math.floor(Math.random()*teasers.length);return ranNum}function selectFinal(teaser){return stratlog("FINAL SELECTION: "+teaser.name),teaser}return selectFinal(1==teasers.length?teasers[0]:teasers[getRandom()])}function containsOnlyNormalSegments(teaser){for(var currentSegments=teaser.segments,sIndex=0;sIndex<currentSegments.length;sIndex++){stratlog("Checking for "+currentSegments[sIndex]);var rule=CQ_Analytics.SegmentMgr.segments[currentSegments[sIndex]];if(-1!=rule.indexOf("TEASER_SELECT"))return stratlog("Segment is TEASER_SELECT based."),!1}return!0}var selectedTeasers=[],segmentResolvedTeasers=[],failedSegments=[],currentBoost=0,highestBoost=0;stratlog("Got teasers: "+teasers.length);var resolved_segments=sortSegmentsByBoost(CQ_Analytics.SegmentMgr.getResolved());stratlog("Segment preference order: "+resolved_segments.join(", "));for(var lenRS=resolved_segments.length,i=0;lenRS>i;i++){var teaser_driven=!1,rule=CQ_Analytics.SegmentMgr.segments[resolved_segments[i]];if(currentBoost=CQ_Analytics.SegmentMgr.getBoost(resolved_segments[i]),segmentResolvedTeasers=[],stratlog("Current segment boost is "+currentBoost),-1!=rule.indexOf("TEASER_SELECT")){teaser_driven=!0,TEASER_SELECT.purge(),TEASER_SELECT.log("Activating criteria for segment: "+resolved_segments[i]);var clickstreamcloud=CQ_Analytics.CCM.get();eval(rule)}var teasers_for_segment=getTeasersForSegment(resolved_segments[i],teasers);stratlog("Got teasers: "+teasers_for_segment.length+" segment of "+resolved_segments[i]);for(var lenTS=teasers_for_segment.length,j=0;lenTS>j;j++)teaser_driven?TEASER_SELECT.evaluateTeaser(teasers_for_segment[j])&&segmentResolvedTeasers.push(teasers_for_segment[j]):(stratlog("Found teaser with normal segment, checking for custom segments..."),containsOnlyNormalSegments(teasers_for_segment[j])&&(stratlog("Teaser has only normal segments. Adding to selection!"),segmentResolvedTeasers.push(teasers_for_segment[j])));segmentResolvedTeasers.length>0&&(currentBoost==highestBoost?(stratlog("Found same boost teaser..."),selectedTeasers=selectedTeasers.concat(segmentResolvedTeasers)):currentBoost>highestBoost&&(stratlog("Found higher boost teaser..."),highestBoost=currentBoost,selectedTeasers=segmentResolvedTeasers))}return selectedTeasers.length>0?(stratlog("Choosing among total teasers: "+selectedTeasers.length),makeFinalSelection(selectedTeasers)):(stratlog("RESULT: No qualified teasers..."),null)}),CQ_Analytics.SurferInfoMgr||(CQ_Analytics.SurferInfoMgr=function(){},CQ_Analytics.SurferInfoMgr.prototype=new CQ_Analytics.PersistedSessionStore,CQ_Analytics.SurferInfoMgr.prototype.STOREKEY="SURFERINFO",CQ_Analytics.SurferInfoMgr.prototype.STORENAME="surferinfo",CQ_Analytics.SurferInfoMgr.prototype.init=function(){var store=new CQ_Analytics.SessionPersistence,value=store.get(this.getStoreKey());if(value&&""!=value)this.data=this.parse(value),this.data.keywords!=this.initProperty.keywords&&(this.data.keywords=this.initProperty.keywords);else{this.data={};for(var p in this.initProperty)this.data[p]=this.initProperty[p]}this.persist(),this.fireEvent("update")},CQ_Analytics.SurferInfoMgr.prototype.clear=function(){var store=new CQ_Analytics.SessionPersistence;store.remove(this.getStoreKey()),this.data=null,this.initProperty={}},CQ_Analytics.SurferInfoMgr.prototype.getLabel=function(name){return name},CQ_Analytics.SurferInfoMgr.prototype.getLink=function(){return""},CQ_Analytics.SurferInfoMgr=new CQ_Analytics.SurferInfoMgr,CQ_Analytics.CCM.addListener("configloaded",function(){this.loadInitProperties(CQ_Analytics.CCM.getInitialData(this.getName()));var bi=new CQ_Analytics.BrowserInfo;this.addInitProperty("browser",bi.getBrowserName()),this.addInitProperty("OS",bi.getOSName()),this.addInitProperty("resolution",bi.getScreenResolution()),this.setNonPersisted("mouse X"),this.setNonPersisted("mouse Y"),CQ_Analytics.MousePositionMgr&&CQ_Analytics.MousePositionMgr.addListener("update",function(){this.setProperty("mouse X",CQ_Analytics.MousePositionMgr.getProperty("x")),this.setProperty("mouse Y",CQ_Analytics.MousePositionMgr.getProperty("y"))},this),this.setNonPersisted("browser"),this.setNonPersisted("resolution"),this.setNonPersisted("OS"),this.setNonPersisted("IP"),this.setNonPersisted("keywords"),CQ_Analytics.ClickstreamcloudUI.register(this.getSessionStore(),CQ_Analytics.CCM.getUIConfig(this.getName())),CQ_Analytics.CCM.register(this)},CQ_Analytics.SurferInfoMgr)),CQ_Analytics.CCM.addListener("configloaded",function(){var isMobile={Kindle:function(){return navigator.userAgent.match(/Kindle/i)},Nook:function(){return navigator.userAgent.match(/Nook|nook/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},any:function(){return isMobile.iOS()||isMobile.Kindle()||isMobile.Nook()},getDevice:function(){return isMobile.iOS()?"ipad":isMobile.Nook()?"nook":isMobile.Kindle()?"kindleFire":"other"}};CQ_Analytics.PageDataMgr.setProperty("targetDevice",isMobile.getDevice())}),window.CQ_trackTeasersStats=!0;var currentVisibleTeaser=null;CQ_Analytics.CQloadedTeasersStack=new Array,CQ_Analytics.TagCloudMgr||(CQ_Analytics.TagCloudMgr=function(){this.data=null,this.addedTags={},this.frequencies=null,this.initialTags=null,this.initialAddedTags={},this.copyObject=function(from){var to={};for(var p in from)to[p]=from[p];return to}},CQ_Analytics.TagCloudMgr.prototype=new CQ_Analytics.PersistedSessionStore,CQ_Analytics.TagCloudMgr.prototype.STOREKEY="TAGCLOUD",CQ_Analytics.TagCloudMgr.prototype.STORENAME="tagcloud",CQ_Analytics.TagCloudMgr.prototype.parseTagList=function(taglist){var tags={},tagArray=taglist.split(",");for(var t in tagArray)if(tagArray.hasOwnProperty(t)){var entry=tagArray[t].split("=");2==entry.length&&(tags[entry[0]]=parseInt(entry[1]))}return tags},CQ_Analytics.TagCloudMgr.prototype.parseString=function(taglist){return this.data=this.parseTagList(taglist),this},CQ_Analytics.TagCloudMgr.prototype.add=function(tag){this.addedTags[tag]=!0,this.data[tag]=(this.data[tag]||0)+1},CQ_Analytics.TagCloudMgr.prototype.each=function(func){for(var t in this.data)this.data.hasOwnProperty(t)&&func(t,this.data[t])},CQ_Analytics.TagCloudMgr.prototype.calculateFrequencies=function(){var freqSet={},freqArray=[];return this.each(function(tag,count){freqSet[count]||freqArray.push(count),freqSet[count]=!0}),freqArray.sort(function(a,b){return a>b?1:b>a?-1:0}),freqArray},CQ_Analytics.TagCloudMgr.prototype.calculateNtile=function(frequency,n){null===this.frequencies&&(this.frequencies=this.calculateFrequencies());for(var i=0;;){if(i>=this.frequencies.length-1||this.frequencies[i]>=frequency)return Math.ceil((i+1)/this.frequencies.length*n);i++}},CQ_Analytics.TagCloudMgr.prototype.getTags=function(){return this.data},CQ_Analytics.TagCloudMgr.prototype.getData=function(){return this.getTags()},CQ_Analytics.TagCloudMgr.prototype.getTag=function(tag){return this.data[tag]>0?this.data[tag]:0},CQ_Analytics.TagCloudMgr.prototype.init=function(pageTags){var store=new CQ_Analytics.SessionPersistence,value=store.get(this.getStoreKey());if(value=null===value?"":new String(value),this.data=this.parseTagList(value),pageTags)for(var i in pageTags)pageTags.hasOwnProperty(i)&&this.add(pageTags[i]);this.initialTags=this.copyObject(this.data),this.initialAddedTags=this.copyObject(this.addedTags),this.persist(),this.initialized=!0,this.fireEvent("initialize",this),this.fireEvent("update")},CQ_Analytics.TagCloudMgr.prototype.setProperty=function(tag,value){null==this.data&&this.init(),value>0?(this.addedTags[tag]=!0,this.data[tag]=value>0?value:0):(delete this.addedTags[tag],delete this.data[tag]),this.persist(),this.fireEvent("update")},CQ_Analytics.TagCloudMgr.prototype.reset=function(){this.clear(),this.fireEvent("update")},CQ_Analytics.TagCloudMgr.prototype.getProperty=function(tag){return null==this.data&&this.init(),this.data[tag]>0?this.data[tag]:0},CQ_Analytics.TagCloudMgr.prototype.removeProperty=function(tag){null==this.data&&this.init(),this.setProperty(tag,0)},CQ_Analytics.TagCloudMgr.prototype.clear=function(){var store=new CQ_Analytics.SessionPersistence;store.remove(this.getStoreKey()),this.addedTags={},this.data={}},CQ_Analytics.TagCloudMgr.prototype.getLink=function(){return""},CQ_Analytics.TagCloudMgr.prototype.getLabel=function(name){if(name){var namespaceSplit=name.split(":"),pathSplit=namespaceSplit[namespaceSplit.length-1].split("/");name=pathSplit[pathSplit.length-1]}return name},CQ_Analytics.TagCloudMgr.prototype.createHTMLElement=function(){var div=document.createElement("div"),cloud=document.createElement("div"),currentTagCloud=this;cloud.className="cloud";var nbTags=0;if(this.each(function(tag,count){var li=document.createElement("div"),dectil=currentTagCloud.calculateNtile(count,10),namespaceSplit=tag.split(":"),pathSplit=namespaceSplit[namespaceSplit.length-1].split("/");li.innerHTML=pathSplit[pathSplit.length-1],li.className="tag",currentTagCloud.addedTags[tag]&&(li.className+=" new"),li.className+=" tag"+dectil,li.title=tag+" ("+count+")",li.setAttribute("data-property",tag),li.setAttribute("data-store",currentTagCloud.STORENAME),cloud.appendChild(li),cloud.appendChild(document.createTextNode(" ")),nbTags++}),0==nbTags){var li=document.createElement("div");li.className="tag notag",li.innerHTML="No interest",cloud.appendChild(li)}return div.appendChild(cloud),div},CQ_Analytics.TagCloudMgr=new CQ_Analytics.TagCloudMgr,CQ_Analytics.TagCloudMgr.renderer=function(store,targetId){store&&store.STORENAME==CQ_Analytics.TagCloudMgr.STORENAME&&($CQ("#"+targetId).children().remove(),$CQ("#"+targetId).append(store.createHTMLElement()))},CQ_Analytics.CCM.addListener("configloaded",function(){CQ_Analytics.ClickstreamcloudUI.register(this.getSessionStore(),CQ_Analytics.CCM.getUIConfig(this.getName()),this.createHTMLElement),CQ_Analytics.CCM.register(this)},CQ_Analytics.TagCloudMgr)),CQ_Analytics.SurferInfoMgr||(CQ_Analytics.SurferInfoMgr=function(){},CQ_Analytics.SurferInfoMgr.prototype=new CQ_Analytics.SessionStore,CQ_Analytics.SurferInfoMgr.prototype.STOREKEY="SURFERINFO",CQ_Analytics.SurferInfoMgr.prototype.STORENAME="surferinfo",CQ_Analytics.SurferInfoMgr.prototype.init=function(){this.data={};for(var p in this.initProperty)this.data[p]=this.initProperty[p];this.initialized=!0,this.fireEvent("initialize",this),this.fireEvent("update")},CQ_Analytics.SurferInfoMgr.prototype.clear=function(){this.data=null,this.initProperty={}},CQ_Analytics.SurferInfoMgr.prototype.getLabel=function(name){return name},CQ_Analytics.SurferInfoMgr.prototype.getLink=function(){return""},CQ_Analytics.SurferInfoMgr=new CQ_Analytics.SurferInfoMgr,CQ_Analytics.CCM.addListener("configloaded",function(){var bi=CQ_Analytics.BrowserInfoInstance;this.addInitProperty("browserFamily",bi.getBrowserFamily()),this.addInitProperty("browserVersion",bi.getBrowserVersion()),this.addInitProperty("browser","${/surferinfo/browserFamily} ${/surferinfo/browserVersion}"),this.addInitProperty("OS",bi.getOSName()),this.addInitProperty("resolution",bi.getScreenResolution()),this.addInitProperty("device",bi.getDeviceType()),this.addInitProperty("isMobile",bi.isMobile()),this.addInitProperty("userAgent",bi.getUserAgent());var today=new Date;this.addInitProperty("day",today.getDate()),this.addInitProperty("month",today.getMonth()+1),this.addInitProperty("year",today.getFullYear()),this.addInitProperty("hours",today.getHours()),this.addInitProperty("minutes",today.getMinutes());var image="${/surferinfo/browserFamily}";bi.isMobile()&&(image="${/surferinfo/device}"),this.addInitProperty("image",image);var thumbnail=CQ_Analytics.ClientContextMgr.getClientContextURL("/contextstores/surferinfo/resources/${/surferinfo/image}.png");this.addInitProperty("thumbnail",thumbnail),CQ_Analytics.MousePositionMgr&&CQ_Analytics.MousePositionMgr.addListener("update",function(){this.setProperty("mouse X",CQ_Analytics.MousePositionMgr.getProperty("x")),this.setProperty("mouse Y",CQ_Analytics.MousePositionMgr.getProperty("y"))},this),this.addListener("update",function(){var deviceType=this.getProperty("device"),image="${/surferinfo/browserFamily}";bi.isMobile(deviceType)&&(image="${/surferinfo/device}");var currentImage=this.getProperty("image");currentImage!=image&&this.setProperty("image",image)},this),CQ_Analytics.ClickstreamcloudUI.register(this.getSessionStore(),CQ_Analytics.CCM.getUIConfig(this.getName())),CQ_Analytics.CCM.register(this)},CQ_Analytics.SurferInfoMgr)),CQ_Analytics.MobileSliderUtils||(CQ_Analytics.MobileSliderUtils=function(){return{injectCss:function(url){$CQ("head").append("<link>");var css=$CQ("head").children(":last");css.attr({rel:"stylesheet",type:"text/css",href:_g.shared.HTTP.externalize(url)})},removeCss:function(url){$CQ("[href='"+_g.shared.HTTP.externalize(url)+"']").remove()},switchToMobile:function(app){this.injectMobileBodyClass(app),this.injectMobileCss(app)},switchToDesktop:function(app){this.injectDesktopBodyClass(app),this.injectDesktopCss(app)},injectDesktopCss:function(app){var cssList=this.getConfig(app,"DESKTOP_CSS");if(cssList)for(var i=0;i<cssList.length;i++){var css=cssList[i];CQ_Analytics.MobileSliderUtils.injectCss(CQ_Analytics.Variables.replace(css,"app",app))}if(cssList=this.getConfig(app,"MOBILE_CSS"))for(var i=0;i<cssList.length;i++){var css=cssList[i];CQ_Analytics.MobileSliderUtils.removeCss(CQ_Analytics.Variables.replace(css,"app",app))}},injectMobileCss:function(app){var cssList=this.getConfig(app,"MOBILE_CSS");if(cssList)for(var i=0;i<cssList.length;i++){var css=cssList[i];CQ_Analytics.MobileSliderUtils.injectCss(CQ_Analytics.Variables.replace(css,"app",app))}if(cssList=this.getConfig(app,"DESKTOP_CSS"))for(var i=0;i<cssList.length;i++){var css=cssList[i];CQ_Analytics.MobileSliderUtils.removeCss(CQ_Analytics.Variables.replace(css,"app",app))}},injectMobileBodyClass:function(app){var classList=this.getConfig(app,"MOBILE_BODY_CLASS");if(classList)for(var i=0;i<classList.length;i++){var c=classList[i];$CQ(document.body).addClass(c)}if(classList=this.getConfig(app,"DESKTOP_BODY_CLASS"))for(var i=0;i<classList.length;i++){var c=classList[i];$CQ(document.body).removeClass(c)}},injectDesktopBodyClass:function(app){var classList=this.getConfig(app,"DESKTOP_BODY_CLASS");if(classList)for(var i=0;i<classList.length;i++){var c=classList[i];$CQ(document.body).addClass(c)}if(classList=this.getConfig(app,"MOBILE_BODY_CLASS"))for(var i=0;i<classList.length;i++){var c=classList[i];$CQ(document.body).removeClass(c)}},getConfig:function(app,property){var config=CQ_Analytics.MobileSliderUtils.CONFIG[app];return config?CQ_Analytics.MobileSliderUtils.CONFIG[app][property]:null}}}(),CQ_Analytics.MobileSliderUtils.CONFIG=window.CQMobileSlider||{}),CQ_Analytics.SocialGraphMgr||(CQ_Analytics.SocialGraphMgr=CQ_Analytics.JSONPStore.registerNewInstance("socialgraph"),CQ_Analytics.SocialGraphMgr.internalRenderer=function(divId){var uid=CQ_Analytics.ProfileDataMgr.getProperty("authorizableId");CQ_Analytics.SocialGraphMgr.lastUid=uid;var profilePath=CQ_Analytics.ProfileDataMgr.getProperty("path"),url=profilePath+".form.html";url+=CQ_Analytics.ClientContextMgr.getClientContextURL("/contextstores/socialgraph.js"),url+="?limit=10",url+="&callback=${callback}",CQ_Analytics.SocialGraphMgr.load(CQ.shared.HTTP.externalize(url),{},function(){$CQ("#"+divId).children().remove(),CQ_Analytics.SocialGraphMgr.reset();var name=CQ_Analytics.ProfileDataMgr.getProperty("formattedName"),div=$CQ("<div>").addClass("cq-socialgraph");$CQ("<div>").addClass("cq-socialgraph-text").html(name+"'s friends and followers (social graph): ").appendTo(div);var toDisplay={},data=this.getJSON(),friends=data.friends;if(friends)for(var i in friends)friends[i].authorizableId&&(toDisplay[friends[i].authorizableId]=friends[i]);var followers=data.followers;if(followers)for(var i in followers)followers[i].authorizableId&&(toDisplay[followers[i].authorizableId]=followers[i]);var count=0;for(var tod in toDisplay){var f=toDisplay[tod];if($CQ("<img>").attr("title",f.formattedName||f.authorizableId).attr("src",_g.shared.HTTP.externalize(f.avatar)).appendTo(div),count++,count>=9)break}div.hide(),$CQ("#"+divId).append(div),div.fadeIn("fast")})},CQ_Analytics.SocialGraphMgr.renderer=function(store,divId){var uid=CQ_Analytics.ProfileDataMgr.getProperty("authorizableId");uid!=CQ_Analytics.SocialGraphMgr.lastUid&&CQ_Analytics.SocialGraphMgr.internalRenderer(divId)},CQ_Analytics.CCM.addListener("configloaded",function(){CQ_Analytics.CCM.register(this),CQ_Analytics.ProfileDataMgr.addListener("update",function(){var uid=CQ_Analytics.ProfileDataMgr.getProperty("authorizableId");uid!=this.lastUid&&this.fireEvent("update")},CQ_Analytics.SocialGraphMgr)},CQ_Analytics.SocialGraphMgr)),CQ_Analytics.SegmentMgr&&!CQ_Analytics.SegmentMgr.isResolvedRegistered&&(CQ_Analytics.SegmentMgr.isResolvedRegistered=!0,CQ_Analytics.CCM.addListener("configloaded",function(){CQ_Analytics.StoreRegistry.register(CQ_Analytics.SegmentMgr),CQ_Analytics.CCM.fireEvent("storeregister",CQ_Analytics.SegmentMgr),CQ_Analytics.ClickstreamcloudUI.register(this.getSessionStore(),CQ_Analytics.CCM.getUIConfig(this.getName()))},CQ_Analytics.SegmentMgr)),CQ_Analytics.ProfileDataMgr||(CQ_Analytics.ProfileDataMgr=function(){this.addListener("beforepersist",function(){this.checkAuthorizableId()},this)},CQ_Analytics.ProfileDataMgr.prototype=new CQ_Analytics.PersistedSessionStore,CQ_Analytics.ProfileDataMgr.prototype.STOREKEY="PROFILEDATA",CQ_Analytics.ProfileDataMgr.prototype.STORENAME="profile",CQ_Analytics.ProfileDataMgr.prototype.LOADER_PATH=CQ_Analytics.Utils.externalize("/libs/cq/personalization/components/profileloader/content/load.js",!0),CQ_Analytics.ProfileDataMgr.prototype.PROFILE_LOADER=CQ_Analytics.Utils.externalize("/libs/cq/personalization/components/profileloader/content/load.json",!0),CQ_Analytics.ProfileDataMgr.prototype.init=function(){var store=new CQ_Analytics.SessionPersistence,value=store.get(this.getStoreKey());if(value&&""!=value)this.data=this.parse(value);else{this.data={};for(var p in this.initProperty)this.data[p]=this.initProperty[p]}this.persist(),this.initialized=!0,this.fireEvent("initialize",this),this.fireEvent("update")},CQ_Analytics.ProfileDataMgr.prototype.checkAuthorizableId=function(){this.data||this.init(),CQ_Analytics.CCM.setVisitorId(this.data.authorizableId?this.data.authorizableId:"")},CQ_Analytics.ProfileDataMgr.prototype.getLabel=function(name){return name},CQ_Analytics.ProfileDataMgr.prototype.getLink=function(){return""},CQ_Analytics.ProfileDataMgr.prototype.clear=function(){var store=new CQ_Analytics.SessionPersistence;store.remove(this.getStoreKey()),this.data=null,this.initProperty={}},CQ_Analytics.ProfileDataMgr.prototype.getLoaderURL=function(){return CQ_Analytics.ClientContextMgr.getClientContextURL("/contextstores/profiledata/loader.json")},CQ_Analytics.ProfileDataMgr.prototype.loadProfile=function(authorizableId){var url=this.getLoaderURL();
url=CQ_Analytics.Utils.addParameter(url,"authorizableId",authorizableId);try{var object=CQ.shared.HTTP.eval(url);if(object){this.data={};for(var p in object)this.data[p]=object[p];return this.persist(),this.fireEvent("initialize",this),this.fireEvent("update"),CQ_Analytics.ClickstreamcloudEditor&&CQ_Analytics.ClickstreamcloudEditor.reload(),!0}}catch(error){console&&console.log&&console.log("Error during profile loading",error)}return!1},CQ_Analytics.ProfileDataMgr=new CQ_Analytics.ProfileDataMgr,CQ_Analytics.CCM.addListener("configloaded",function(){this.checkAuthorizableId(),this.addListener("update",function(event,property){if("birthday"==property||!property){var birthday=this.getProperty("birthday"),age=this.getProperty("age"),newAge="";if(birthday)try{var getDaysBetween=function(d1,d2){var tmp=new Date(d2.getTime());tmp.setUTCHours(d1.getUTCHours(),d1.getUTCMinutes(),d1.getUTCSeconds(),d1.getUTCMilliseconds());var time=tmp.getTime()-d1.getTime();return time/864e5},getDayOfYear=function(dob){var start=new Date(dob.getFullYear(),0,0);return-1*getDaysBetween(dob,start)},dob=new Date(Date.parse(birthday));if(isNaN(dob.getTime()))newAge="";else{var today=new Date;if(getDayOfYear(dob)==getDayOfYear(today)&&dob.getMonth()==today.getMonth())newAge=CQ.shared.HTTP.externalize(CQ_Analytics.ClientContextMgr.getClientContextURL("/contextstores/profiledata/resources/birthday_cake.png"));else{var yearDiff=today.getFullYear()-dob.getFullYear();newAge=getDayOfYear(dob)>getDayOfYear(today)?yearDiff:Math.max(0,yearDiff-1)}}}catch(error){newAge=""}age!=newAge&&this.setProperty("age",newAge)}}),CQ_Analytics.ClickstreamcloudUI.register(this.getSessionStore(),CQ_Analytics.CCM.getUIConfig(this.getName())),CQ_Analytics.CCM.register(this)},CQ_Analytics.ProfileDataMgr)),!function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,v=e.reduce,h=e.reduceRight,d=e.filter,g=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,_=Object.keys,w=i.bind,j=function(n){return n instanceof j?n:this instanceof j?void(this._wrapped=n):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):n._=j,j.VERSION="1.5.1";var A=j.each=j.forEach=function(n,t,e){if(null!=n)if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(t.call(e,n[u],u,n)===r)return}else for(var a in n)if(j.has(n,a)&&t.call(e,n[a],a,n)===r)return};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var E="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduce===v)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(E);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduceRight===h)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(E);return r},j.find=j.detect=function(n,t,r){var e;return O(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:d&&n.filter===d?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:g&&n.every===g?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var O=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?-1!=n.indexOf(t):O(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,t){return j.map(n,function(n){return n[t]})},j.where=function(n,t,r){return j.isEmpty(t)?r?void 0:[]:j[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},j.findWhere=function(n,t){return j.where(n,t,!0)},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&j.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})}),e.value},j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&j.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e};var F=function(n){return j.isFunction(n)?n:function(t){return t[n]}};j.sortBy=function(n,t,r){var e=F(t);return j.pluck(j.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index<t.index?-1:1}),"value")};var k=function(n,t,r,e){var u={},i=F(null==t?j.identity:t);return A(n,function(t,a){var o=i.call(r,t,a,n);e(u,o,t)}),u};j.groupBy=function(n,t,r){return k(n,t,r,function(n,t,r){(j.has(n,t)?n[t]:n[t]=[]).push(r)})},j.countBy=function(n,t,r){return k(n,t,r,function(n,t){j.has(n,t)||(n[t]=0),n[t]++})},j.sortedIndex=function(n,t,r,e){r=null==r?j.identity:F(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var R=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):R(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return R(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.indexOf(t,n)>=0})})},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var M=function(){};j.bind=function(n,t){var r,e;if(w&&n.bind===w)return w.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));M.prototype=n.prototype;var u=new M;M.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,u)};return function(){var l=new Date;o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u=null;return function(){var i=this,a=arguments,o=function(){u=null,r||(e=n.apply(i,a))},c=r&&!u;return clearTimeout(u),u=setTimeout(o,t),c&&(e=n.apply(i,a)),e}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return function(){var r=[n];return a.apply(r,arguments),t.apply(this,r)}},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=_||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){var t=[];for(var r in n)j.has(n,r)&&t.push(n[r]);return t},j.pairs=function(n){var t=[];for(var r in n)j.has(n,r)&&t.push([r,n[r]]);return t},j.invert=function(n){var t={};for(var r in n)j.has(n,r)&&(t[n[r]]=r);return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return void 0===n},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};I.unescape=j.invert(I.escape);var T={escape:new RegExp("["+j.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(I.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(T[n],function(t){return I[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){var Backbone,root=this,previousBackbone=root.Backbone,array=[],push=array.push,slice=array.slice,splice=array.splice;Backbone="undefined"!=typeof exports?exports:root.Backbone={},Backbone.VERSION="1.0.0";var _=root._;_||"undefined"==typeof require||(_=require("underscore")),Backbone.$=root.jQuery||root.Zepto||root.ender||root.$,Backbone.noConflict=function(){return root.Backbone=previousBackbone,this},Backbone.emulateHTTP=!1,Backbone.emulateJSON=!1;var Events=Backbone.Events={on:function(name,callback,context){if(!eventsApi(this,"on",name,[callback,context])||!callback)return this;this._events||(this._events={});var events=this._events[name]||(this._events[name]=[]);return events.push({callback:callback,context:context,ctx:context||this}),this},once:function(name,callback,context){if(!eventsApi(this,"once",name,[callback,context])||!callback)return this;var self=this,once=_.once(function(){self.off(name,once),callback.apply(this,arguments)});return once._callback=callback,this.on(name,once,context)},off:function(name,callback,context){var retain,ev,events,names,i,l,j,k;if(!this._events||!eventsApi(this,"off",name,[callback,context]))return this;if(!name&&!callback&&!context)return this._events={},this;for(names=name?[name]:_.keys(this._events),i=0,l=names.length;l>i;i++)if(name=names[i],events=this._events[name]){if(this._events[name]=retain=[],callback||context)for(j=0,k=events.length;k>j;j++)ev=events[j],(callback&&callback!==ev.callback&&callback!==ev.callback._callback||context&&context!==ev.context)&&retain.push(ev);retain.length||delete this._events[name]}return this},trigger:function(name){if(!this._events)return this;var args=slice.call(arguments,1);if(!eventsApi(this,"trigger",name,args))return this;var events=this._events[name],allEvents=this._events.all;return events&&triggerEvents(events,args),allEvents&&triggerEvents(allEvents,arguments),this},stopListening:function(obj,name,callback){var listeners=this._listeners;if(!listeners)return this;var deleteListener=!name&&!callback;"object"==typeof name&&(callback=this),obj&&((listeners={})[obj._listenerId]=obj);for(var id in listeners)listeners[id].off(name,callback,this),deleteListener&&delete this._listeners[id];return this}},eventSplitter=/\s+/,eventsApi=function(obj,action,name,rest){if(!name)return!0;if("object"==typeof name){for(var key in name)obj[action].apply(obj,[key,name[key]].concat(rest));return!1}if(eventSplitter.test(name)){for(var names=name.split(eventSplitter),i=0,l=names.length;l>i;i++)obj[action].apply(obj,[names[i]].concat(rest));return!1}return!0},triggerEvents=function(events,args){var ev,i=-1,l=events.length,a1=args[0],a2=args[1],a3=args[2];switch(args.length){case 0:for(;++i<l;)(ev=events[i]).callback.call(ev.ctx);return;case 1:for(;++i<l;)(ev=events[i]).callback.call(ev.ctx,a1);return;case 2:for(;++i<l;)(ev=events[i]).callback.call(ev.ctx,a1,a2);return;case 3:for(;++i<l;)(ev=events[i]).callback.call(ev.ctx,a1,a2,a3);return;default:for(;++i<l;)(ev=events[i]).callback.apply(ev.ctx,args)}},listenMethods={listenTo:"on",listenToOnce:"once"};_.each(listenMethods,function(implementation,method){Events[method]=function(obj,name,callback){var listeners=this._listeners||(this._listeners={}),id=obj._listenerId||(obj._listenerId=_.uniqueId("l"));return listeners[id]=obj,"object"==typeof name&&(callback=this),obj[implementation](name,callback,this),this}}),Events.bind=Events.on,Events.unbind=Events.off,_.extend(Backbone,Events);var Model=Backbone.Model=function(attributes,options){var defaults,attrs=attributes||{};options||(options={}),this.cid=_.uniqueId("c"),this.attributes={},_.extend(this,_.pick(options,modelOptions)),options.parse&&(attrs=this.parse(attrs,options)||{}),(defaults=_.result(this,"defaults"))&&(attrs=_.defaults({},attrs,defaults)),this.set(attrs,options),this.changed={},this.initialize.apply(this,arguments)},modelOptions=["url","urlRoot","collection"];_.extend(Model.prototype,Events,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return _.clone(this.attributes)},sync:function(){return Backbone.sync.apply(this,arguments)},get:function(attr){return this.attributes[attr]},escape:function(attr){return _.escape(this.get(attr))},has:function(attr){return null!=this.get(attr)},set:function(key,val,options){var attr,attrs,unset,changes,silent,changing,prev,current;if(null==key)return this;if("object"==typeof key?(attrs=key,options=val):(attrs={})[key]=val,options||(options={}),!this._validate(attrs,options))return!1;unset=options.unset,silent=options.silent,changes=[],changing=this._changing,this._changing=!0,changing||(this._previousAttributes=_.clone(this.attributes),this.changed={}),current=this.attributes,prev=this._previousAttributes,this.idAttribute in attrs&&(this.id=attrs[this.idAttribute]);for(attr in attrs)val=attrs[attr],_.isEqual(current[attr],val)||changes.push(attr),_.isEqual(prev[attr],val)?delete this.changed[attr]:this.changed[attr]=val,unset?delete current[attr]:current[attr]=val;if(!silent){changes.length&&(this._pending=!0);for(var i=0,l=changes.length;l>i;i++)this.trigger("change:"+changes[i],this,current[changes[i]],options)}if(changing)return this;if(!silent)for(;this._pending;)this._pending=!1,this.trigger("change",this,options);return this._pending=!1,this._changing=!1,this},unset:function(attr,options){return this.set(attr,void 0,_.extend({},options,{unset:!0}))},clear:function(options){var attrs={};for(var key in this.attributes)attrs[key]=void 0;return this.set(attrs,_.extend({},options,{unset:!0}))},hasChanged:function(attr){return null==attr?!_.isEmpty(this.changed):_.has(this.changed,attr)},changedAttributes:function(diff){if(!diff)return this.hasChanged()?_.clone(this.changed):!1;var val,changed=!1,old=this._changing?this._previousAttributes:this.attributes;for(var attr in diff)_.isEqual(old[attr],val=diff[attr])||((changed||(changed={}))[attr]=val);return changed},previous:function(attr){return null!=attr&&this._previousAttributes?this._previousAttributes[attr]:null},previousAttributes:function(){return _.clone(this._previousAttributes)},fetch:function(options){options=options?_.clone(options):{},void 0===options.parse&&(options.parse=!0);var model=this,success=options.success;return options.success=function(resp){return model.set(model.parse(resp,options),options)?(success&&success(model,resp,options),void model.trigger("sync",model,resp,options)):!1},wrapError(this,options),this.sync("read",this,options)},save:function(key,val,options){var attrs,method,xhr,attributes=this.attributes;if(null==key||"object"==typeof key?(attrs=key,options=val):(attrs={})[key]=val,!(!attrs||options&&options.wait||this.set(attrs,options)))return!1;if(options=_.extend({validate:!0},options),!this._validate(attrs,options))return!1;attrs&&options.wait&&(this.attributes=_.extend({},attributes,attrs)),void 0===options.parse&&(options.parse=!0);var model=this,success=options.success;return options.success=function(resp){model.attributes=attributes;var serverAttrs=model.parse(resp,options);return options.wait&&(serverAttrs=_.extend(attrs||{},serverAttrs)),_.isObject(serverAttrs)&&!model.set(serverAttrs,options)?!1:(success&&success(model,resp,options),void model.trigger("sync",model,resp,options))},wrapError(this,options),method=this.isNew()?"create":options.patch?"patch":"update","patch"===method&&(options.attrs=attrs),xhr=this.sync(method,this,options),attrs&&options.wait&&(this.attributes=attributes),xhr},destroy:function(options){options=options?_.clone(options):{};var model=this,success=options.success,destroy=function(){model.trigger("destroy",model,model.collection,options)};if(options.success=function(resp){(options.wait||model.isNew())&&destroy(),success&&success(model,resp,options),model.isNew()||model.trigger("sync",model,resp,options)},this.isNew())return options.success(),!1;wrapError(this,options);var xhr=this.sync("delete",this,options);return options.wait||destroy(),xhr},url:function(){var base=_.result(this,"urlRoot")||_.result(this.collection,"url")||urlError();return this.isNew()?base:base+("/"===base.charAt(base.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(resp){return resp},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(options){return this._validate({},_.extend(options||{},{validate:!0}))},_validate:function(attrs,options){if(!options.validate||!this.validate)return!0;attrs=_.extend({},this.attributes,attrs);var error=this.validationError=this.validate(attrs,options)||null;return error?(this.trigger("invalid",this,error,_.extend(options||{},{validationError:error})),!1):!0}});var modelMethods=["keys","values","pairs","invert","pick","omit"];_.each(modelMethods,function(method){Model.prototype[method]=function(){var args=slice.call(arguments);return args.unshift(this.attributes),_[method].apply(_,args)}});var Collection=Backbone.Collection=function(models,options){options||(options={}),options.url&&(this.url=options.url),options.model&&(this.model=options.model),void 0!==options.comparator&&(this.comparator=options.comparator),this._reset(),this.initialize.apply(this,arguments),models&&this.reset(models,_.extend({silent:!0},options))},setOptions={add:!0,remove:!0,merge:!0},addOptions={add:!0,merge:!1,remove:!1};_.extend(Collection.prototype,Events,{model:Model,initialize:function(){},toJSON:function(options){return this.map(function(model){return model.toJSON(options)})},sync:function(){return Backbone.sync.apply(this,arguments)},add:function(models,options){return this.set(models,_.defaults(options||{},addOptions))},remove:function(models,options){models=_.isArray(models)?models.slice():[models],options||(options={});var i,l,index,model;for(i=0,l=models.length;l>i;i++)model=this.get(models[i]),model&&(delete this._byId[model.id],delete this._byId[model.cid],index=this.indexOf(model),this.models.splice(index,1),this.length--,options.silent||(options.index=index,model.trigger("remove",model,this,options)),this._removeReference(model));return this},set:function(models,options){options=_.defaults(options||{},setOptions),options.parse&&(models=this.parse(models,options)),_.isArray(models)||(models=models?[models]:[]);var i,l,model,existing,sort,at=options.at,sortable=this.comparator&&null==at&&options.sort!==!1,sortAttr=_.isString(this.comparator)?this.comparator:null,toAdd=[],toRemove=[],modelMap={};for(i=0,l=models.length;l>i;i++)(model=this._prepareModel(models[i],options))&&((existing=this.get(model))?(options.remove&&(modelMap[existing.cid]=!0),options.merge&&(existing.set(model.attributes,options),sortable&&!sort&&existing.hasChanged(sortAttr)&&(sort=!0))):options.add&&(toAdd.push(model),model.on("all",this._onModelEvent,this),this._byId[model.cid]=model,null!=model.id&&(this._byId[model.id]=model)));if(options.remove){for(i=0,l=this.length;l>i;++i)modelMap[(model=this.models[i]).cid]||toRemove.push(model);toRemove.length&&this.remove(toRemove,options)}if(toAdd.length&&(sortable&&(sort=!0),this.length+=toAdd.length,null!=at?splice.apply(this.models,[at,0].concat(toAdd)):push.apply(this.models,toAdd)),sort&&this.sort({silent:!0}),options.silent)return this;for(i=0,l=toAdd.length;l>i;i++)(model=toAdd[i]).trigger("add",model,this,options);return sort&&this.trigger("sort",this,options),this},reset:function(models,options){options||(options={});for(var i=0,l=this.models.length;l>i;i++)this._removeReference(this.models[i]);return options.previousModels=this.models,this._reset(),this.add(models,_.extend({silent:!0},options)),options.silent||this.trigger("reset",this,options),this},push:function(model,options){return model=this._prepareModel(model,options),this.add(model,_.extend({at:this.length},options)),model},pop:function(options){var model=this.at(this.length-1);return this.remove(model,options),model},unshift:function(model,options){return model=this._prepareModel(model,options),this.add(model,_.extend({at:0},options)),model},shift:function(options){var model=this.at(0);return this.remove(model,options),model},slice:function(begin,end){return this.models.slice(begin,end)},get:function(obj){return null==obj?void 0:this._byId[null!=obj.id?obj.id:obj.cid||obj]},at:function(index){return this.models[index]},where:function(attrs,first){return _.isEmpty(attrs)?first?void 0:[]:this[first?"find":"filter"](function(model){for(var key in attrs)if(attrs[key]!==model.get(key))return!1;return!0})},findWhere:function(attrs){return this.where(attrs,!0)},sort:function(options){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return options||(options={}),_.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(_.bind(this.comparator,this)),options.silent||this.trigger("sort",this,options),this},sortedIndex:function(model,value,context){value||(value=this.comparator);var iterator=_.isFunction(value)?value:function(model){return model.get(value)};return _.sortedIndex(this.models,model,iterator,context)},pluck:function(attr){return _.invoke(this.models,"get",attr)},fetch:function(options){options=options?_.clone(options):{},void 0===options.parse&&(options.parse=!0);var success=options.success,collection=this;return options.success=function(resp){var method=options.reset?"reset":"set";collection[method](resp,options),success&&success(collection,resp,options),collection.trigger("sync",collection,resp,options)},wrapError(this,options),this.sync("read",this,options)},create:function(model,options){if(options=options?_.clone(options):{},!(model=this._prepareModel(model,options)))return!1;options.wait||this.add(model,options);var collection=this,success=options.success;return options.success=function(resp){options.wait&&collection.add(model,options),success&&success(model,resp,options)},model.save(null,options),model},parse:function(resp){return resp},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(attrs,options){if(attrs instanceof Model)return attrs.collection||(attrs.collection=this),attrs;options||(options={}),options.collection=this;var model=new this.model(attrs,options);return model._validate(attrs,options)?model:(this.trigger("invalid",this,attrs,options),!1)},_removeReference:function(model){this===model.collection&&delete model.collection,model.off("all",this._onModelEvent,this)},_onModelEvent:function(event,model,collection,options){("add"!==event&&"remove"!==event||collection===this)&&("destroy"===event&&this.remove(model,options),model&&event==="change:"+model.idAttribute&&(delete this._byId[model.previous(model.idAttribute)],null!=model.id&&(this._byId[model.id]=model)),this.trigger.apply(this,arguments))}});var methods=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];_.each(methods,function(method){Collection.prototype[method]=function(){var args=slice.call(arguments);return args.unshift(this.models),_[method].apply(_,args)}});var attributeMethods=["groupBy","countBy","sortBy"];_.each(attributeMethods,function(method){Collection.prototype[method]=function(value,context){var iterator=_.isFunction(value)?value:function(model){return model.get(value)};return _[method](this.models,iterator,context)}});var View=Backbone.View=function(options){this.cid=_.uniqueId("view"),this._configure(options||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},delegateEventSplitter=/^(\S+)\s*(.*)$/,viewOptions=["model","collection","el","id","attributes","className","tagName","events"];_.extend(View.prototype,Events,{tagName:"div",$:function(selector){return this.$el.find(selector)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(element,delegate){return this.$el&&this.undelegateEvents(),this.$el=element instanceof Backbone.$?element:Backbone.$(element),this.el=this.$el[0],delegate!==!1&&this.delegateEvents(),this},delegateEvents:function(events){if(!events&&!(events=_.result(this,"events")))return this;
this.undelegateEvents();for(var key in events){var method=events[key];if(_.isFunction(method)||(method=this[events[key]]),method){var match=key.match(delegateEventSplitter),eventName=match[1],selector=match[2];method=_.bind(method,this),eventName+=".delegateEvents"+this.cid,""===selector?this.$el.on(eventName,method):this.$el.on(eventName,selector,method)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(options){this.options&&(options=_.extend({},_.result(this,"options"),options)),_.extend(this,_.pick(options,viewOptions)),this.options=options},_ensureElement:function(){if(this.el)this.setElement(_.result(this,"el"),!1);else{var attrs=_.extend({},_.result(this,"attributes"));this.id&&(attrs.id=_.result(this,"id")),this.className&&(attrs["class"]=_.result(this,"className"));var $el=Backbone.$("<"+_.result(this,"tagName")+">").attr(attrs);this.setElement($el,!1)}}}),Backbone.sync=function(method,model,options){var type=methodMap[method];_.defaults(options||(options={}),{emulateHTTP:Backbone.emulateHTTP,emulateJSON:Backbone.emulateJSON});var params={type:type,dataType:"json"};if(options.url||(params.url=_.result(model,"url")||urlError()),null!=options.data||!model||"create"!==method&&"update"!==method&&"patch"!==method||(params.contentType="application/json",params.data=JSON.stringify(options.attrs||model.toJSON(options))),options.emulateJSON&&(params.contentType="application/x-www-form-urlencoded",params.data=params.data?{model:params.data}:{}),options.emulateHTTP&&("PUT"===type||"DELETE"===type||"PATCH"===type)){params.type="POST",options.emulateJSON&&(params.data._method=type);var beforeSend=options.beforeSend;options.beforeSend=function(xhr){return xhr.setRequestHeader("X-HTTP-Method-Override",type),beforeSend?beforeSend.apply(this,arguments):void 0}}"GET"===params.type||options.emulateJSON||(params.processData=!1),"PATCH"!==params.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(params.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var xhr=options.xhr=Backbone.ajax(_.extend(params,options));return model.trigger("request",model,xhr,options),xhr};var methodMap={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};Backbone.ajax=function(){return Backbone.$.ajax.apply(Backbone.$,arguments)};var Router=Backbone.Router=function(options){options||(options={}),options.routes&&(this.routes=options.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},optionalParam=/\((.*?)\)/g,namedParam=/(\(\?)?:\w+/g,splatParam=/\*\w+/g,escapeRegExp=/[\-{}\[\]+?.,\\\^$|#\s]/g;_.extend(Router.prototype,Events,{initialize:function(){},route:function(route,name,callback){_.isRegExp(route)||(route=this._routeToRegExp(route)),_.isFunction(name)&&(callback=name,name=""),callback||(callback=this[name]);var router=this;return Backbone.history.route(route,function(fragment){var args=router._extractParameters(route,fragment);callback&&callback.apply(router,args),router.trigger.apply(router,["route:"+name].concat(args)),router.trigger("route",name,args),Backbone.history.trigger("route",router,name,args)}),this},navigate:function(fragment,options){return Backbone.history.navigate(fragment,options),this},_bindRoutes:function(){if(this.routes){this.routes=_.result(this,"routes");for(var route,routes=_.keys(this.routes);null!=(route=routes.pop());)this.route(route,this.routes[route])}},_routeToRegExp:function(route){return route=route.replace(escapeRegExp,"\\$&").replace(optionalParam,"(?:$1)?").replace(namedParam,function(match,optional){return optional?match:"([^/]+)"}).replace(splatParam,"(.*?)"),new RegExp("^"+route+"$")},_extractParameters:function(route,fragment){var params=route.exec(fragment).slice(1);return _.map(params,function(param){return param?decodeURIComponent(param):null})}});var History=Backbone.History=function(){this.handlers=[],_.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},routeStripper=/^[#\/]|\s+$/g,rootStripper=/^\/+|\/+$/g,isExplorer=/msie [\w.]+/,trailingSlash=/\/$/;History.started=!1,_.extend(History.prototype,Events,{interval:50,getHash:function(window){var match=(window||this).location.href.match(/#(.*)$/);return match?match[1]:""},getFragment:function(fragment,forcePushState){if(null==fragment)if(this._hasPushState||!this._wantsHashChange||forcePushState){fragment=this.location.pathname;var root=this.root.replace(trailingSlash,"");fragment.indexOf(root)||(fragment=fragment.substr(root.length))}else fragment=this.getHash();return fragment.replace(routeStripper,"")},start:function(options){if(History.started)throw new Error("Backbone.history has already been started");History.started=!0,this.options=_.extend({},{root:"/"},this.options,options),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var fragment=this.getFragment(),docMode=document.documentMode,oldIE=isExplorer.exec(navigator.userAgent.toLowerCase())&&(!docMode||7>=docMode);this.root=("/"+this.root+"/").replace(rootStripper,"/"),oldIE&&this._wantsHashChange&&(this.iframe=Backbone.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(fragment)),this._hasPushState?Backbone.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!oldIE?Backbone.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=fragment;var loc=this.location,atRoot=loc.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!atRoot?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&atRoot&&loc.hash&&(this.fragment=this.getHash().replace(routeStripper,""),this.history.replaceState({},document.title,this.root+this.fragment+loc.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){Backbone.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),History.started=!1},route:function(route,callback){this.handlers.unshift({route:route,callback:callback})},checkUrl:function(){var current=this.getFragment();return current===this.fragment&&this.iframe&&(current=this.getFragment(this.getHash(this.iframe))),current===this.fragment?!1:(this.iframe&&this.navigate(current),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(fragmentOverride){var fragment=this.fragment=this.getFragment(fragmentOverride),matched=_.any(this.handlers,function(handler){return handler.route.test(fragment)?(handler.callback(fragment),!0):void 0});return matched},navigate:function(fragment,options){if(!History.started)return!1;if(options&&options!==!0||(options={trigger:options}),fragment=this.getFragment(fragment||""),this.fragment!==fragment){this.fragment=fragment;var url=this.root+fragment;if(this._hasPushState)this.history[options.replace?"replaceState":"pushState"]({},document.title,url);else{if(!this._wantsHashChange)return this.location.assign(url);this._updateHash(this.location,fragment,options.replace),this.iframe&&fragment!==this.getFragment(this.getHash(this.iframe))&&(options.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,fragment,options.replace))}options.trigger&&this.loadUrl(fragment)}},_updateHash:function(location,fragment,replace){if(replace){var href=location.href.replace(/(javascript:|#).*$/,"");location.replace(href+"#"+fragment)}else location.hash="#"+fragment}}),Backbone.history=new History;var extend=function(protoProps,staticProps){var child,parent=this;child=protoProps&&_.has(protoProps,"constructor")?protoProps.constructor:function(){return parent.apply(this,arguments)},_.extend(child,parent,staticProps);var Surrogate=function(){this.constructor=child};return Surrogate.prototype=parent.prototype,child.prototype=new Surrogate,protoProps&&_.extend(child.prototype,protoProps),child.__super__=parent.prototype,child};Model.extend=Collection.extend=Router.extend=View.extend=History.extend=extend;var urlError=function(){throw new Error('A "url" property or function must be specified')},wrapError=function(model,options){var error=options.error;options.error=function(resp){error&&error(model,resp,options),model.trigger("error",model,resp,options)}}}.call(this),function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY,track=function(ev){cX=ev.pageX,cY=ev.pageY},compare=function(ev,ob){return ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t),Math.abs(pX-cX)+Math.abs(pY-cY)<cfg.sensitivity?($(ob).unbind("mousemove",track),ob.hoverIntent_s=1,cfg.over.apply(ob,[ev])):(pX=cX,pY=cY,ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval),void 0)},delay=function(ev,ob){return ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t),ob.hoverIntent_s=0,cfg.out.apply(ob,[ev])},handleHover=function(e){var ev=jQuery.extend({},e),ob=this;ob.hoverIntent_t&&(ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t)),"mouseenter"==e.type?(pX=ev.pageX,pY=ev.pageY,$(ob).bind("mousemove",track),1!=ob.hoverIntent_s&&(ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval))):($(ob).unbind("mousemove",track),1==ob.hoverIntent_s&&(ob.hoverIntent_t=setTimeout(function(){delay(ev,ob)},cfg.timeout)))};return this.bind("mouseenter",handleHover).bind("mouseleave",handleHover)}}(jQuery),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory(jQuery)}(function($){function raw(s){return s}function decoded(s){return decodeURIComponent(s.replace(pluses," "))}function converted(s){0===s.indexOf('"')&&(s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return config.json?JSON.parse(s):s}catch(er){}}var pluses=/\+/g,config=$.cookie=function(key,value,options){if(void 0!==value){if(options=$.extend({},config.defaults,options),"number"==typeof options.expires){var days=options.expires,t=options.expires=new Date;t.setDate(t.getDate()+days)}return value=config.json?JSON.stringify(value):String(value),document.cookie=[config.raw?key:encodeURIComponent(key),"=",config.raw?value:encodeURIComponent(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}for(var decode=config.raw?raw:decoded,cookies=document.cookie.split("; "),result=key?void 0:{},i=0,l=cookies.length;l>i;i++){var parts=cookies[i].split("="),name=decode(parts.shift()),cookie=decode(parts.join("="));if(key&&key===name){result=converted(cookie);break}key||(result[name]=converted(cookie))}return result};config.defaults={},$.removeCookie=function(key,options){return void 0!==$.cookie(key)?($.cookie(key,"",$.extend(options,{expires:-1})),!0):!1}}),mdp.app.Dialog=function(e,b){function c(){var g=$("#mdpdialog").length>0?$("#mdpdialog"):$("<div>").attr({id:"mdpdialog","class":"share-dialog"});g.addClass("activated"),null!=d.specialClass&&g.addClass(d.specialClass),d.coverAll&&g.addClass("coverall");var f=d.offsetX,l=d.offsetY;null!=navigator.userAgent.match(/iPad/i)&&(f+=window.pageXOffset,l+=window.pageYOffset);var j,h;switch(d.position){case"center":j={x:Math.ceil($(window).width()/2-d.width/2+f),y:Math.ceil($(window).height()/2-d.height/2+l)};break;case"left":j={x:f,y:Math.ceil($(window).height()/2-d.height/2+l)};break;case"right":j={x:Math.ceil($(window).width()-d.width+f),y:Math.ceil($(window).height()/2-d.height/2+l)};break;case"bottom":j={x:Math.ceil($(window).width()/2-d.width/2+f),y:Math.ceil($(window).height()-d.height+l)};break;case"bottom-left":j={x:f,y:Math.ceil($(window).height()-d.height+l)};break;case"bottom-left":j={x:d.offsetX,y:Math.ceil($(window).height()-d.height+d.offsetY)};break;case"top":j={x:Math.ceil($(window).width()/2-d.width/2+f),y:l};break;case"mobile":j={x:null,y:null},h="height:"+d.height+"px;"}if(mdp.util.log&&mdp.util.log("x:"+j.x+" , y:"+j.y),null!=j.x){h="top:"+j.y+"px; left:"+j.x+"px; width:"+d.width+"px; height:"+d.height+"px;";var i="top: 0; left: 0;"}g.html('<div class="dialog-fixed" style="'+i+'"><div style="'+h+'" class="dialog-wrapper"><div id="dialogclose"><span>X</span></div><div class="dialog-border"><div id="dialogmsg" class="dialog-msg"></div></div></div></div>'),$(document.body).append(g),$("#dialogclose").click(function(){d.onClose()}),mdp.sharebarItems=$("body:first").find("div[id^=sb]"),mdp.dialogParent=$(".dialog-fixed:first"),$("body:first").unbind("click").click(function(r){var m=$("#mdpdialog");if(m.length>0){var p=$(r.target).parents().is("#mdpdialog");if(!p&&m!=$(r.target)){var q=r.target;void 0==q&&(q=event.srcElement);var o=$.contains(mdp.dialogParent[0],q);o[0]||(m.hasClass("activated")?m.removeClass("activated"):d.onClose())}}});var k=$("#dialogmsg");"string"==typeof e?k.html(k.html()+e):k.append(e),d.onShow.call(a)}var b=b||{},d={position:"center",offsetX:0,offsetY:0,width:200,height:200,coverAllFull:!1,coverAll:!1,onClose:function(){a.close()},specialClass:null,onShow:function(){}};$.extend(d,b),d.onShow=b.onShow||function(){};var a=this;this.close=function(){$("#mdpdialog").remove()},c()},function(){function htmlParser(stream,options){stream=stream||"",options=options||{};for(var key in supports)supports.hasOwnProperty(key)&&(options.autoFix&&(options["fix_"+key]=!0),options.fix=options.fix||options["fix_"+key]);var stack=[],append=function(str){stream+=str},prepend=function(str){stream=str+stream},detect={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s>]/i,startTag:/^</,chars:/^[^<]/},reader={comment:function(){var index=stream.indexOf("-->");return index>=0?{content:stream.substr(4,index),length:index+3}:void 0},endTag:function(){var match=stream.match(endTag);return match?{tagName:match[1],length:match[0].length}:void 0},atomicTag:function(){var start=reader.startTag();if(start){var rest=stream.slice(start.length);if(rest.match(new RegExp("</\\s*"+start.tagName+"\\s*>","i"))){var match=rest.match(new RegExp("([\\s\\S]*?)</\\s*"+start.tagName+"\\s*>","i"));if(match)return{tagName:start.tagName,attrs:start.attrs,content:match[1],length:match[0].length+start.length}}}},startTag:function(){var match=stream.match(startTag);if(match){var attrs={};return match[2].replace(attr,function(match,name){var value=arguments[2]||arguments[3]||arguments[4]||fillAttr.test(name)&&name||null;attrs[name]=value}),{tagName:match[1],attrs:attrs,unary:!!match[3],length:match[0].length}}},chars:function(){var index=stream.indexOf("<");return{length:index>=0?index:stream.length}}},readToken=function(){for(var type in detect)if(detect[type].test(stream)){DEBUG&&console.log("suspected "+type);var token=reader[type]();return token?(DEBUG&&console.log("parsed "+type,token),token.type=token.type||type,token.text=stream.substr(0,token.length),stream=stream.slice(token.length),token):null}},readTokens=function(handlers){for(var tok;tok=readToken();)if(handlers[tok.type]&&handlers[tok.type](tok)===!1)return},clear=function(){var rest=stream;return stream="",rest},rest=function(){return stream};return options.fix&&!function(){var EMPTY=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,CLOSESELF=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i,stack=[];stack.last=function(){return this[this.length-1]},stack.lastTagNameEq=function(tagName){var last=this.last();return last&&last.tagName&&last.tagName.toUpperCase()===tagName.toUpperCase()},stack.containsTagName=function(tagName){for(var tok,i=0;tok=this[i];i++)if(tok.tagName===tagName)return!0;return!1};var correct=function(tok){return tok&&"startTag"===tok.type&&(tok.unary=EMPTY.test(tok.tagName)||tok.unary),tok},readTokenImpl=readToken,peekToken=function(){var tmp=stream,tok=correct(readTokenImpl());return stream=tmp,tok},closeLast=function(){var tok=stack.pop();prepend("</"+tok.tagName+">")},handlers={startTag:function(tok){var tagName=tok.tagName;"TR"===tagName.toUpperCase()&&stack.lastTagNameEq("TABLE")?(prepend("<TBODY>"),prepareNextToken()):options.fix_selfClose&&CLOSESELF.test(tagName)&&stack.containsTagName(tagName)?stack.lastTagNameEq(tagName)?closeLast():(prepend("</"+tok.tagName+">"),prepareNextToken()):tok.unary||stack.push(tok)},endTag:function(tok){var last=stack.last();last?options.fix_tagSoup&&!stack.lastTagNameEq(tok.tagName)?closeLast():stack.pop():options.fix_tagSoup&&skipToken()}},skipToken=function(){readTokenImpl(),prepareNextToken()},prepareNextToken=function(){var tok=peekToken();tok&&handlers[tok.type]&&handlers[tok.type](tok)};readToken=function(){return prepareNextToken(),correct(readTokenImpl())}}(),{append:append,readToken:readToken,readTokens:readTokens,clear:clear,rest:rest,stack:stack}}var supports=function(){var html,supports={},work=this.document.createElement("div");return html="<P><I></P></I>",work.innerHTML=html,supports.tagSoup=work.innerHTML!==html,work.innerHTML="<P><i><P></P></i></P>",supports.selfClose=2===work.childNodes.length,supports}(),startTag=/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag=/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr=/([\-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,fillAttr=/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i,DEBUG=!1;htmlParser.supports=supports,htmlParser.tokenToString=function(tok){var handler={comment:function(tok){return"<--"+tok.content+"-->"},endTag:function(tok){return"</"+tok.tagName+">"},atomicTag:function(tok){return console.log(tok),handler.startTag(tok)+tok.content+handler.endTag(tok)},startTag:function(tok){var str="<"+tok.tagName;for(var key in tok.attrs){var val=tok.attrs[key];str+=" "+key+'="'+(val?val.replace(/(^|[^\\])"/g,'$1\\"'):"")+'"'}return str+(tok.unary?"/>":">")},chars:function(tok){return tok.text}};return handler[tok.type](tok)},htmlParser.escapeAttributes=function(attrs){var escapedAttrs={};for(var name in attrs){var value=attrs[name];escapedAttrs[name]=value&&value.replace(/(^|[^\\])"/g,'$1\\"')}return escapedAttrs};for(var key in supports)htmlParser.browserHasFlaw=htmlParser.browserHasFlaw||!supports[key]&&key;this.htmlParser=htmlParser}(),function(){function doNothing(){}function isFunction(x){return"function"==typeof x}function each(arr,fn,_this){var i,len=arr&&arr.length||0;for(i=0;len>i;i++)fn.call(_this,arr[i],i)}function eachKey(obj,fn,_this){var key;for(key in obj)obj.hasOwnProperty(key)&&fn.call(_this,key,obj[key])}function set(obj,props){return eachKey(props,function(key,value){obj[key]=value}),obj}function defaults(options,_defaults){return options=options||{},eachKey(_defaults,function(key,val){null==options[key]&&(options[key]=val)}),options}function toArray(obj){try{return slice.call(obj)}catch(e){var ret=[];return each(obj,function(val){ret.push(val)}),ret}}function isScript(tok){return/^script$/i.test(tok.tagName)}var global=this;if(!global.postscribe){var DEBUG_CHUNK=!1,slice=Array.prototype.slice,WriteStream=function(){function data(el,name,value){var attr=BASEATTR+name;if(2===arguments.length){var val=el.getAttribute(attr);return null==val?val:String(val)}null!=value&&""!==value?el.setAttribute(attr,value):el.removeAttribute(attr)}function WriteStream(root,options){var doc=root.ownerDocument;set(this,{root:root,options:options,win:doc.defaultView||doc.parentWindow,doc:doc,parser:global.htmlParser("",{autoFix:!0}),actuals:[root],proxyHistory:"",proxyRoot:doc.createElement(root.nodeName),scriptStack:[],writeQueue:[]}),data(this.proxyRoot,"proxyof",0)}var BASEATTR="data-ps-";return WriteStream.prototype.write=function(){[].push.apply(this.writeQueue,arguments);for(var arg;!this.deferredRemote&&this.writeQueue.length;)arg=this.writeQueue.shift(),isFunction(arg)?this.callFunction(arg):this.writeImpl(arg)},WriteStream.prototype.callFunction=function(fn){var tok={type:"function",value:fn.name||fn.toString()};this.onScriptStart(tok),fn.call(this.win,this.doc),this.onScriptDone(tok)},WriteStream.prototype.writeImpl=function(html){this.parser.append(html);for(var tok,tokens=[];(tok=this.parser.readToken())&&!isScript(tok);)tokens.push(tok);this.writeStaticTokens(tokens),tok&&this.handleScriptToken(tok)},WriteStream.prototype.writeStaticTokens=function(tokens){var chunk=this.buildChunk(tokens);if(chunk.actual)return chunk.html=this.proxyHistory+chunk.actual,this.proxyHistory+=chunk.proxy,this.proxyRoot.innerHTML=chunk.html,DEBUG_CHUNK&&(chunk.proxyInnerHTML=this.proxyRoot.innerHTML),this.walkChunk(),DEBUG_CHUNK&&(chunk.actualInnerHTML=this.root.innerHTML),chunk},WriteStream.prototype.buildChunk=function(tokens){var nextId=this.actuals.length,raw=[],actual=[],proxy=[];return each(tokens,function(tok){if(raw.push(tok.text),tok.attrs){if(!/^noscript$/i.test(tok.tagName)){var id=nextId++;actual.push(tok.text.replace(/(\/?>)/," "+BASEATTR+"id="+id+" $1")),"ps-script"!==tok.attrs.id&&proxy.push("atomicTag"===tok.type?"":"<"+tok.tagName+" "+BASEATTR+"proxyof="+id+(tok.unary?"/>":">"))}}else actual.push(tok.text),proxy.push("endTag"===tok.type?tok.text:"")}),{tokens:tokens,raw:raw.join(""),actual:actual.join(""),proxy:proxy.join("")}},WriteStream.prototype.walkChunk=function(){for(var node,stack=[this.proxyRoot];null!=(node=stack.shift());){var isElement=1===node.nodeType,isProxy=isElement&&data(node,"proxyof");if(!isProxy){isElement&&(this.actuals[data(node,"id")]=node,data(node,"id",null));var parentIsProxyOf=node.parentNode&&data(node.parentNode,"proxyof");parentIsProxyOf&&this.actuals[parentIsProxyOf].appendChild(node)}stack.unshift.apply(stack,toArray(node.childNodes))}},WriteStream.prototype.handleScriptToken=function(tok){var remainder=this.parser.clear();remainder&&this.writeQueue.unshift(remainder),tok.src=tok.attrs.src||tok.attrs.SRC,tok.src&&this.scriptStack.length?this.deferredRemote=tok:this.onScriptStart(tok);var _this=this;this.writeScriptToken(tok,function(){_this.onScriptDone(tok)})},WriteStream.prototype.onScriptStart=function(tok){tok.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(tok)},WriteStream.prototype.onScriptDone=function(tok){return tok!==this.scriptStack[0]?void this.options.error({message:"Bad script nesting or script finished twice"}):(this.scriptStack.shift(),this.write.apply(this,tok.outerWrites),void(!this.scriptStack.length&&this.deferredRemote&&(this.onScriptStart(this.deferredRemote),this.deferredRemote=null)))},WriteStream.prototype.writeScriptToken=function(tok,done){var el=this.buildScript(tok);tok.src&&(el.src=tok.src,this.scriptLoadHandler(el,done));try{this.insertScript(el),tok.src||done()}catch(e){this.options.error(e),done()}},WriteStream.prototype.buildScript=function(tok){var el=this.doc.createElement(tok.tagName);return eachKey(tok.attrs,function(name,value){el.setAttribute(name,value)}),tok.content&&(el.text=tok.content),el},WriteStream.prototype.insertScript=function(el){this.writeImpl('<span id="ps-script"/>');var cursor=this.doc.getElementById("ps-script");cursor.parentNode.replaceChild(el,cursor)},WriteStream.prototype.scriptLoadHandler=function(el,done){function cleanup(){el=el.onload=el.onreadystatechange=el.onerror=null,done()}var error=this.options.error;set(el,{onload:function(){cleanup()},onreadystatechange:function(){/^(loaded|complete)$/.test(el.readyState)&&cleanup()},onerror:function(){error({message:"remote script failed "+el.src}),cleanup()}})},WriteStream}(),postscribe=function(){function nextStream(){var args=queue.shift();args&&(args.stream=runStream.apply(null,args))}function runStream(el,html,options){function write(str){str=options.beforeWrite(str),active.write(str),options.afterWrite(str)}active=new WriteStream(el,options),active.id=nextId++,active.name=options.name||active.id,postscribe.streams[active.name]=active;var doc=el.ownerDocument,stash={write:doc.write,writeln:doc.writeln};set(doc,{write:write,writeln:function(str){write(str+"\n")}});var oldOnError=active.win.onerror||doNothing;return active.win.onerror=function(msg,url,line){options.error({msg:msg+" - "+url+":"+line}),oldOnError.apply(active.win,arguments)},active.write(html,function(){set(doc,stash),active.win.onerror=oldOnError,options.done(),active=null,nextStream()}),active}function postscribe(el,html,options){isFunction(options)&&(options={done:options}),options=defaults(options,{done:doNothing,error:function(e){throw e},beforeWrite:function(str){return str},afterWrite:doNothing}),el=/^#/.test(el)?global.document.getElementById(el.substr(1)):el.jquery?el[0]:el;var args=[el,html,options];return el.postscribe={cancel:function(){args.stream?args.stream.abort():args[1]=doNothing}},queue.push(args),active||nextStream(),el.postscribe}var nextId=0,queue=[],active=null;return set(postscribe,{streams:{},queue:queue,WriteStream:WriteStream})}();global.postscribe=postscribe}}(),function(factory){"function"==typeof define&&define.amd?"undefined"!=typeof jQuery?define(["jquery"],factory):define([],factory):"undefined"!=typeof jQuery?factory(jQuery):factory()}(function($,undefined){function parseUri(url,strictMode){for(var str=decodeURI(url),res=parser[strictMode?"strict":"loose"].exec(str),uri={attr:{},param:{},seg:{}},i=14;i--;)uri.attr[key[i]]=res[i]||"";return uri.param.query=parseString(uri.attr.query),uri.param.fragment=parseString(uri.attr.fragment),uri.seg.path=uri.attr.path.replace(/^\/+|\/+$/g,"").split("/"),uri.seg.fragment=uri.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),uri.attr.base=uri.attr.host?(uri.attr.protocol?uri.attr.protocol+"://"+uri.attr.host:uri.attr.host)+(uri.attr.port?":"+uri.attr.port:""):"",uri}function getAttrName(elm){var tn=elm.tagName;return"undefined"!=typeof tn?tag2attr[tn.toLowerCase()]:tn}function promote(parent,key){if(0==parent[key].length)return parent[key]={};var t={};for(var i in parent[key])t[i]=parent[key][i];return parent[key]=t,t}function parse(parts,parent,key,val){var part=parts.shift();if(part){var obj=parent[key]=parent[key]||[];"]"==part?isArray(obj)?""!=val&&obj.push(val):"object"==typeof obj?obj[keys(obj).length]=val:obj=parent[key]=[parent[key],val]:~part.indexOf("]")?(part=part.substr(0,part.length-1),!isint.test(part)&&isArray(obj)&&(obj=promote(parent,key)),parse(parts,obj,part,val)):(!isint.test(part)&&isArray(obj)&&(obj=promote(parent,key)),parse(parts,obj,part,val))}else isArray(parent[key])?parent[key].push(val):parent[key]="object"==typeof parent[key]?val:"undefined"==typeof parent[key]?val:[parent[key],val]}function merge(parent,key,val){if(~key.indexOf("]")){{var parts=key.split("[");parts.length}parse(parts,parent,"base",val)}else{if(!isint.test(key)&&isArray(parent.base)){var t={};for(var k in parent.base)t[k]=parent.base[k];parent.base=t}set(parent.base,key,val)}return parent}function parseString(str){return reduce(String(str).split(/&|;/),function(ret,pair){try{pair=decodeURIComponent(pair.replace(/\+/g," "))}catch(e){}var eql=pair.indexOf("="),brace=lastBraceInKey(pair),key=pair.substr(0,brace||eql),val=pair.substr(brace||eql,pair.length),val=val.substr(val.indexOf("=")+1,val.length);return""==key&&(key=pair,val=""),merge(ret,key,val)},{base:{}}).base}function set(obj,key,val){var v=obj[key];undefined===v?obj[key]=val:isArray(v)?v.push(val):obj[key]=[v,val]}function lastBraceInKey(str){for(var brace,c,len=str.length,i=0;len>i;++i)if(c=str[i],"]"==c&&(brace=!1),"["==c&&(brace=!0),"="==c&&!brace)return i}function reduce(obj,accumulator){for(var i=0,l=obj.length>>0,curr=arguments[2];l>i;)i in obj&&(curr=accumulator.call(undefined,curr,obj[i],i,obj)),++i;return curr}function isArray(vArg){return"[object Array]"===Object.prototype.toString.call(vArg)}function keys(obj){var keys=[];for(prop in obj)obj.hasOwnProperty(prop)&&keys.push(prop);return keys}function purl(url,strictMode){return 1===arguments.length&&url===!0&&(strictMode=!0,url=undefined),strictMode=strictMode||!1,url=url||window.location.toString(),{data:parseUri(url,strictMode),attr:function(attr){return attr=aliases[attr]||attr,"undefined"!=typeof attr?this.data.attr[attr]:this.data.attr},param:function(param){return"undefined"!=typeof param?this.data.param.query[param]:this.data.param.query},fparam:function(param){return"undefined"!=typeof param?this.data.param.fragment[param]:this.data.param.fragment},segment:function(seg){return"undefined"==typeof seg?this.data.seg.path:(seg=0>seg?this.data.seg.path.length+seg:seg-1,this.data.seg.path[seg])},fsegment:function(seg){return"undefined"==typeof seg?this.data.seg.fragment:(seg=0>seg?this.data.seg.fragment.length+seg:seg-1,this.data.seg.fragment[seg])}}}var tag2attr={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},key=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],aliases={anchor:"fragment"},parser={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},isint=(Object.prototype.toString,/^[0-9]+$/);"undefined"!=typeof $?($.fn.url=function(strictMode){var url="";return this.length&&(url=$(this).attr(getAttrName(this[0]))||""),purl(url,strictMode)},$.url=purl):window.purl=purl}),function($){$.expander={version:"1.4.7",defaults:{slicePoint:240,preserveWords:!0,widow:4,expandText:"read more",expandPrefix:"&hellip; ",expandAfterSummary:!1,summaryClass:"summary",detailClass:"details",moreClass:"read-more",lessClass:"read-less",collapseTimer:0,expandEffect:"show",expandSpeed:0,collapseEffect:"hide",collapseSpeed:0,userCollapse:!0,userCollapseText:"read less",userCollapsePrefix:" ",onSlice:null,beforeExpand:null,afterExpand:null,onCollapse:null,afterCollapse:null}},$.fn.expander=function(options){function buildHTML(o,blocks){var el="span",summary=o.summary;return blocks?(el="div",rLastCloseTag.test(summary)&&!o.expandAfterSummary?summary=summary.replace(rLastCloseTag,o.moreLabel+"$1"):summary+=o.moreLabel,summary='<div class="'+o.summaryClass+'">'+summary+"</div>"):summary+=o.moreLabel,[summary," <",el+' class="'+o.detailClass+'"',">",o.details,"</"+el+">"].join("")}function buildMoreLabel(o){var ret='<span class="'+o.moreClass+'">'+o.expandPrefix;return ret+='<a href="#">'+o.expandText+"</a></span>"}function backup(txt,preserveWords){return txt.lastIndexOf("<")>txt.lastIndexOf(">")&&(txt=txt.slice(0,txt.lastIndexOf("<"))),preserveWords&&(txt=txt.replace(rAmpWordEnd,"")),$.trim(txt)}function reCollapse(o,el){el.stop(!0,!0)[o.collapseEffect](o.collapseSpeed,function(){var prevMore=el.prev("span."+o.moreClass).show();prevMore.length||el.parent().children("div."+o.summaryClass).show().find("span."+o.moreClass).show(),o.afterCollapse&&o.afterCollapse.call(el)})}function delayCollapse(option,$collapseEl,thisEl){option.collapseTimer&&(delayedCollapse=setTimeout(function(){reCollapse(option,$collapseEl),$.isFunction(option.onCollapse)&&option.onCollapse.call(thisEl,!1)},option.collapseTimer))}var meth="init";"string"==typeof options&&(meth=options,options={});var delayedCollapse,opts=$.extend({},$.expander.defaults,options),rSelfClose=/^<(?:area|br|col|embed|hr|img|input|link|meta|param).*>$/i,rAmpWordEnd=opts.wordEnd||/(&(?:[^;]+;)?|[a-zA-Z\u00C0-\u0100]+)$/,rOpenCloseTag=/<\/?(\w+)[^>]*>/g,rOpenTag=/<(\w+)[^>]*>/g,rCloseTag=/<\/(\w+)>/g,rLastCloseTag=/(<\/[^>]+>)\s*$/,rTagPlus=/^(<[^>]+>)+.?/,methods={init:function(){this.each(function(){var i,l,tmp,newChar,summTagless,summOpens,summCloses,lastCloseTag,detailText,detailTagless,html,expand,$thisDetails,$readMore,openTagsForDetails=[],closeTagsForsummaryText=[],defined={},thisEl=this,$this=$(this),$summEl=$([]),o=$.extend({},opts,$this.data("expander")||$.meta&&$this.data()||{}),hasDetails=!!$this.find("."+o.detailClass).length,hasBlocks=!!$this.find("*").filter(function(){var display=$(this).css("display");
return/^block|table|list/.test(display)}).length,el=hasBlocks?"div":"span",detailSelector=el+"."+o.detailClass,moreClass=o.moreClass+"",lessClass=o.lessClass+"",expandSpeed=o.expandSpeed||0,allHtml=$.trim($this.html()),summaryText=($.trim($this.text()),allHtml.slice(0,o.slicePoint));if(o.moreSelector="span."+moreClass.split(" ").join("."),o.lessSelector="span."+lessClass.split(" ").join("."),!$.data(this,"expanderInit")){for($.data(this,"expanderInit",!0),$.data(this,"expander",o),$.each(["onSlice","beforeExpand","afterExpand","onCollapse","afterCollapse"],function(index,val){defined[val]=$.isFunction(o[val])}),summaryText=backup(summaryText),summTagless=summaryText.replace(rOpenCloseTag,"").length;summTagless<o.slicePoint;)newChar=allHtml.charAt(summaryText.length),"<"===newChar&&(newChar=allHtml.slice(summaryText.length).match(rTagPlus)[0]),summaryText+=newChar,summTagless++;for(summaryText=backup(summaryText,o.preserveWords),summOpens=summaryText.match(rOpenTag)||[],summCloses=summaryText.match(rCloseTag)||[],tmp=[],$.each(summOpens,function(index,val){rSelfClose.test(val)||tmp.push(val)}),summOpens=tmp,l=summCloses.length,i=0;l>i;i++)summCloses[i]=summCloses[i].replace(rCloseTag,"$1");if($.each(summOpens,function(index,val){var thisTagName=val.replace(rOpenTag,"$1"),closePosition=$.inArray(thisTagName,summCloses);-1===closePosition?(openTagsForDetails.push(val),closeTagsForsummaryText.push("</"+thisTagName+">")):summCloses.splice(closePosition,1)}),closeTagsForsummaryText.reverse(),hasDetails)detailText=$this.find(detailSelector).remove().html(),summaryText=$this.html(),allHtml=summaryText+detailText,lastCloseTag="";else{if(detailText=allHtml.slice(summaryText.length),detailTagless=$.trim(detailText.replace(rOpenCloseTag,"")),""===detailTagless||detailTagless.split(/\s+/).length<o.widow)return;lastCloseTag=closeTagsForsummaryText.pop()||"",summaryText+=closeTagsForsummaryText.join(""),detailText=openTagsForDetails.join("")+detailText}o.moreLabel=$this.find(o.moreSelector).length?"":buildMoreLabel(o),hasBlocks&&(detailText=allHtml),summaryText+=lastCloseTag,o.summary=summaryText,o.details=detailText,o.lastCloseTag=lastCloseTag,defined.onSlice&&(tmp=o.onSlice.call(thisEl,o),o=tmp&&tmp.details?tmp:o),html=buildHTML(o,hasBlocks),$this.html(html),$thisDetails=$this.find(detailSelector),$readMore=$this.find(o.moreSelector),"slideUp"===o.collapseEffect&&"slideDown"!==o.expandEffect||$this.is(":hidden")?$thisDetails.css({display:"none"}):$thisDetails[o.collapseEffect](0),$summEl=$this.find("div."+o.summaryClass),expand=function(event){event.preventDefault(),$readMore.hide(),$summEl.hide(),defined.beforeExpand&&o.beforeExpand.call(thisEl),$thisDetails.stop(!1,!0)[o.expandEffect](expandSpeed,function(){$thisDetails.css({zoom:""}),defined.afterExpand&&o.afterExpand.call(thisEl),delayCollapse(o,$thisDetails,thisEl)})},$readMore.find("a").unbind("click.expander").bind("click.expander",expand),o.userCollapse&&!$this.find(o.lessSelector).length&&$this.find(detailSelector).append('<span class="'+o.lessClass+'">'+o.userCollapsePrefix+'<a href="#">'+o.userCollapseText+"</a></span>"),$this.find(o.lessSelector+" a").unbind("click.expander").bind("click.expander",function(event){event.preventDefault(),clearTimeout(delayedCollapse);var $detailsCollapsed=$(this).closest(detailSelector);reCollapse(o,$detailsCollapsed),defined.onCollapse&&o.onCollapse.call(thisEl,!0)})}})},destroy:function(){this.each(function(){var o,details,$this=$(this);$this.data("expanderInit")&&(o=$.extend({},$this.data("expander")||{},opts),details=$this.find("."+o.detailClass).contents(),$this.removeData("expanderInit"),$this.removeData("expander"),$this.find(o.moreSelector).remove(),$this.find("."+o.summaryClass).remove(),$this.find("."+o.detailClass).after(details).remove(),$this.find(o.lessSelector).remove())})}};return methods[meth]&&methods[meth].call(this),this},$.fn.expander.defaults=$.expander.defaults}(jQuery),function(){APP={},_.extend(APP,Backbone.Events)}(),function($,window,document,undefined){"use strict";function removeQuotes(string){return("string"==typeof string||string instanceof String)&&(string=string.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),string}var header_helpers=function(class_array){for(var i=class_array.length;i--;)0===$("head").has("."+class_array[i]).length&&$("head").append('<meta class="'+class_array[i]+'">')};header_helpers(["foundation-mq-small","foundation-mq-medium","foundation-mq-large","foundation-mq-xlarge","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),$(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof document.body&&FastClick.attach(document.body)});var S=function(selector,context){if("string"==typeof selector){if(context){var cont;return cont=context.jquery?context[0]:context,$(cont.querySelectorAll(selector))}return $(document.querySelectorAll(selector))}return $(selector,context)},attr_name=function(init){var arr=[];return init||arr.push("data"),this.namespace.length>0&&arr.push(this.namespace),arr.push(this.name),arr.join("-")},header_helpers=function(class_array){for(var i=class_array.length;i--;)0===$("head").has("."+class_array[i]).length&&$("head").append('<meta class="'+class_array[i]+'">')},add_namespace=function(str){for(var parts=str.split("-"),i=parts.length,arr=[];i--;)0!==i?arr.push(parts[i]):this.namespace.length>0?arr.push(this.namespace,parts[i]):arr.push(parts[i]);return arr.reverse().join("-")},bindings=function(method,options){var self=this,should_bind_events=!S(this).data(this.attr_name(!0));return"string"==typeof method?this[method].call(this,options):void(S(this.scope).is("["+this.attr_name()+"]")?(S(this.scope).data(this.attr_name(!0)+"-init",$.extend({},this.settings,options||method,this.data_options(S(this.scope)))),should_bind_events&&this.events(this.scope)):S("["+this.attr_name()+"]",this.scope).each(function(){var should_bind_events=!S(this).data(self.attr_name(!0)+"-init");S(this).data(self.attr_name(!0)+"-init",$.extend({},self.settings,options||method,self.data_options(S(this)))),should_bind_events&&self.events(this)}))},single_image_loaded=function(image,callback){function loaded(){callback(image[0])}function bindLoad(){if(this.one("load",loaded),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var src=this.attr("src"),param=src.match(/\?/)?"&":"?";param+="random="+(new Date).getTime(),this.attr("src",src+param)}}return image.attr("src")?void(image[0].complete||4===image[0].readyState?loaded():bindLoad.call(image)):void loaded()};window.matchMedia=window.matchMedia||function(doc){var bool,docElem=doc.documentElement,refNode=docElem.firstElementChild||docElem.firstChild,fakeBody=doc.createElement("body"),div=doc.createElement("div");return div.id="mq-test-1",div.style.cssText="position:absolute;top:-100em",fakeBody.style.background="none",fakeBody.appendChild(div),function(q){return div.innerHTML='&shy;<style media="'+q+'"> #mq-test-1 { width: 42px; }</style>',docElem.insertBefore(fakeBody,refNode),bool=42===div.offsetWidth,docElem.removeChild(fakeBody),{matches:bool,media:q}}}(document),function(){function raf(){animating&&(requestAnimationFrame(raf),jQuery.fx.tick())}for(var animating,lastTime=0,vendors=["webkit","moz"],requestAnimationFrame=window.requestAnimationFrame,cancelAnimationFrame=window.cancelAnimationFrame;lastTime<vendors.length&&!requestAnimationFrame;lastTime++)requestAnimationFrame=window[vendors[lastTime]+"RequestAnimationFrame"],cancelAnimationFrame=cancelAnimationFrame||window[vendors[lastTime]+"CancelAnimationFrame"]||window[vendors[lastTime]+"CancelRequestAnimationFrame"];requestAnimationFrame?(window.requestAnimationFrame=requestAnimationFrame,window.cancelAnimationFrame=cancelAnimationFrame,jQuery.fx.timer=function(timer){timer()&&jQuery.timers.push(timer)&&!animating&&(animating=!0,raf())},jQuery.fx.stop=function(){animating=!1}):(window.requestAnimationFrame=function(callback){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,id},window.cancelAnimationFrame=function(id){clearTimeout(id)})}(jQuery),window.Foundation={name:"Foundation",version:"5.1.1",media_queries:{small:S(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:S(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:S(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:S(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:S(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:$("<style></style>").appendTo("head")[0].sheet,global:{namespace:""},init:function(scope,libraries,method,options,response){var args=[scope,method,options,response],responses=[];if(this.rtl=/rtl/i.test(S("html").attr("dir")),this.scope=scope||this.scope,this.set_namespace(),libraries&&"string"==typeof libraries&&!/reflow/i.test(libraries))this.libs.hasOwnProperty(libraries)&&responses.push(this.init_lib(libraries,args));else for(var lib in this.libs)responses.push(this.init_lib(lib,libraries));return scope},init_lib:function(lib,args){return this.libs.hasOwnProperty(lib)?(this.patch(this.libs[lib]),args&&args.hasOwnProperty(lib)?this.libs[lib].init.apply(this.libs[lib],[this.scope,args[lib]]):(args=args instanceof Array?args:Array(args),this.libs[lib].init.apply(this.libs[lib],args))):function(){}},patch:function(lib){lib.scope=this.scope,lib.namespace=this.global.namespace,lib.rtl=this.rtl,lib.data_options=this.utils.data_options,lib.attr_name=attr_name,lib.add_namespace=add_namespace,lib.bindings=bindings,lib.S=this.utils.S},inherit:function(scope,methods){for(var methods_arr=methods.split(" "),i=methods_arr.length;i--;)this.utils.hasOwnProperty(methods_arr[i])&&(scope[methods_arr[i]]=this.utils[methods_arr[i]])},set_namespace:function(){var namespace=$(".foundation-data-attribute-namespace").css("font-family");/false/i.test(namespace)||(this.global.namespace=namespace)},libs:{},utils:{S:S,throttle:function(func,delay){var timer=null;return function(){var context=this,args=arguments;clearTimeout(timer),timer=setTimeout(function(){func.apply(context,args)},delay)}},debounce:function(func,delay,immediate){var timeout,result;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||(result=func.apply(context,args))},callNow=immediate&&!timeout;return clearTimeout(timeout),timeout=setTimeout(later,delay),callNow&&(result=func.apply(context,args)),result}},data_options:function(el){function isNumber(o){return!isNaN(o-0)&&null!==o&&""!==o&&o!==!1&&o!==!0}function trim(str){return"string"==typeof str?$.trim(str):str}var ii,p,opts_arr,opts={},data_options=function(el){var namespace=Foundation.global.namespace;return el.data(namespace.length>0?namespace+"-options":"options")},cached_options=data_options(el);if("object"==typeof cached_options)return cached_options;for(opts_arr=(cached_options||":").split(";"),ii=opts_arr.length;ii--;)p=opts_arr[ii].split(":"),/true/i.test(p[1])&&(p[1]=!0),/false/i.test(p[1])&&(p[1]=!1),isNumber(p[1])&&(p[1]=parseInt(p[1],10)),2===p.length&&p[0].length>0&&(opts[trim(p[0])]=trim(p[1]));return opts},register_media:function(media,media_class){Foundation.media_queries[media]===undefined&&($("head").append('<meta class="'+media_class+'">'),Foundation.media_queries[media]=removeQuotes($("."+media_class).css("font-family")))},add_custom_rule:function(rule,media){if(media===undefined)Foundation.stylesheet.insertRule(rule,Foundation.stylesheet.cssRules.length);else{var query=Foundation.media_queries[media];query!==undefined&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[media]+"{ "+rule+" }")}},image_loaded:function(images,callback){var self=this,unloaded=images.length;images.each(function(){single_image_loaded(self.S(this),function(){unloaded-=1,0==unloaded&&callback(images)})})},random_str:function(length){var chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");length||(length=Math.floor(Math.random()*chars.length));for(var str="";length--;)str+=chars[Math.floor(Math.random()*chars.length)];return str}}},$.fn.foundation=function(){var args=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(args)),this})}}(jQuery,this,this.document),CacheBuster={getCacheBuster:function(){var dow,diff,d=new Date,dateBits=[];return d.setUTCHours(d.getUTCHours()-9),dow=d.getUTCDay(),diff=(2>dow?2:5)-dow,diff=1>diff?diff+4:diff,d.setUTCDate(d.getUTCDate()+diff),dateBits.push(d.getUTCFullYear()),dateBits.push(d.getUTCMonth()+1),dateBits.push(d.getUTCDate()),dateBits.join("-")},formatUrl:function(url){return _.isUndefined(url)?"":url+"?"+this.getCacheBuster()}},jQuery.cachedScript=function(url,options){return options=$.extend(options||{},{dataType:"script",cache:!0,url:url}),jQuery.ajax(options)};var copyright_date=$("#copyright-date");copyright_date.length>0&&copyright_date.html((new Date).getFullYear()),DropDown.prototype={initEvents:function(){var obj=this;obj.placeholder.on("click",function(event){event.preventDefault(),event.stopPropagation(),$(this).parent().toggleClass("active")}),obj.placeholder.on("change",function(){$(this).removeClass("hasValue").addClass("hasValue"),$(this).parent().removeClass("active")}),$(obj.document).on("click",function(e){$(e.target).parents().andSelf().is(obj.dd)||$(obj.dd).removeClass("active")}),obj.opts.on("click",function(event){event.preventDefault();var opt=$(this);obj.val=opt.data("value"),obj.label=opt.text(),obj.index=opt.index(),obj.placeholder.text(obj.label),obj.placeholder.attr("title",obj.label),obj.placeholder.data("value",obj.val),obj.placeholder.trigger("change")})},getValue:function(){return this.val},getIndex:function(){return this.index}},$(".dropdown").each(function(){new DropDown($(this),window.document)}),_.isUndefined(window.APP)&&(window.APP={}),function(Backbone){APP.Truncate=Backbone.View.extend({initialize:function(options){this.opts=options.opts,this.trunc()},trunc:function(){this.$el.expander(this.opts)}})}(this.Backbone),URLCleaner={getUrl:function(){return this.getCleanUrl()+window.location.hash},getCleanUrl:function(){var pageUrl=document.URL;return-1!=pageUrl.indexOf("#")&&(pageUrl=pageUrl.substr(0,pageUrl.indexOf("#"))),-1!=pageUrl.indexOf("?")&&(pageUrl=pageUrl.substr(0,pageUrl.indexOf("?"))),pageUrl.match(/\/$/)||(pageUrl+="/"),pageUrl},getRegistrationUrl:function(regSource){return _.isUndefined(regSource)&&(regSource="1000"),"/common/profile/regStep1.jsp?regSource="+regSource+"&returnURL="+this.getUrl()}},CQEnvironment=Backbone.Model.extend({storesLoaded:!1,configLoaded:!1,initialize:function(){_.bindAll(this,"setConfigLoaded"),_.bindAll(this,"setStoresLoaded")},isReady:function(){return this.configLoaded&&this.storesLoaded},setStoresLoaded:function(){this.storesLoaded=!0,this.triggerEvent()},setConfigLoaded:function(){this.configLoaded=!0,this.triggerEvent()},triggerEvent:function(){this.isReady()&&APP.trigger("mdp:cq:ready")}}),CQProfileWrapper={MAPPING:{member:"Registered User",id:"User Id",firstName:"First Name",lastName:"Last Name",email:"Email",magazineSubscriptions:"Magazine Subscriptions",partyId:"Party Id",visitCount:"Visit Count",lastAccessed:"Last Accessed",lastVisitDate:"Visit Date",zip:"Zip Code",zone:"USDA Plant Zone"},curentDate:new Date,isMember:function(){var boolEval=!0===this.getProperty("member"),stringEval="true"===this.getProperty("member");return boolEval||stringEval},setDefaultProfile:function(){this.setProperty("member","false"),this.setDefaultVars()},setDefaultRegisteredProfile:function(){this.setProperty("member","true"),this.setDefaultVars()},getProperty:function(keyName){var clickstreamKey=this.MAPPING[keyName];return CQ_Analytics.ProfileDataMgr.getProperty(clickstreamKey)},setProperty:function(key,value){var clickstreamKey=this.MAPPING[key];CQ_Analytics.ProfileDataMgr.setProperty(clickstreamKey,value)},setLastAccessedDate:function(){this.setProperty("lastAccessed",this.curentDate)},setData:function(profileData){var properties=_.pairs(profileData),that=this;_.each(properties,function(property){var clickstreamKey=that.MAPPING[property[0]],value=property[1];"object"==typeof property[1]&&(value=property[1]?property[1].join(" "):""),CQ_Analytics.ProfileDataMgr.setProperty(clickstreamKey,value)}),this.setLastAccessedDate()},destroyProfile:function(){CQ_Analytics.ProfileDataMgr.clear(),CQ_Analytics.ProfileDataMgr.init(),this.setDefaultProfile()},updateVisitCount:function(){if("undefined"!=typeof this.getProperty("visitCount")){var count=parseInt(this.getProperty("visitCount"))+1;this.setProperty("visitCount",count)}else this.setProperty("visitCount",1)},setDefaultVars:function(){this.setProperty("magazineSubscriptions",""),this.updateVisitCount()},setTargetingData:function(data){this.setProperty("lastVisitData",data.lastVisit),this.setProperty("magazineSubscriptions",data.activeSubscriptions)}},function($){MDPPartnerCookie={isAvailable:function(){var partnerCookieValue=$.cookie("mdp_partner");return partnerCookieValue?new RegExp("\\|Y\\|").test(partnerCookieValue):!1},getProfileId:function(){var partnerCookieValue=$.cookie("mdp_partner"),match=new RegExp("^(.*?)\\|").exec(partnerCookieValue);return match[1]}}}(jQuery),Sitecatalyst=Backbone.View.extend({loaded:!1,initialize:function(){APP.bind("mdp:profile:loaded",this.loadSettings,this),APP.bind("mdp:sitecatalyst:send",this.sendData,this),APP.bind("mdp:sitecatalyst:loaded",this.setLoaded,this)},loadSettings:function(){var pageSettings=$("#sitecatalyst-settings").data("script"),pageAnalytics=$("#sitecatalyst-analytics").data("script");yepnope({load:[pageSettings,pageAnalytics],callback:function(url){url==pageAnalytics&&_.defer(function(){console&&console.log("Initializing sitecatalyst..."),APP.trigger("mdp:sitecatalyst:loaded"),1==BHG_PAGE.submitOmniture&&APP.trigger("mdp:sitecatalyst:send")})}})},sendData:function(){_.defer(function(){CQ_Analytics.Sitecatalyst.collect();var s_code=mdp.s.t();s_code&&document.write(s_code)})},setLoaded:function(){this.loaded=!0},isLoaded:function(){return this.loaded}}),_.isUndefined(window.APP)&&(window.APP={}),function(Backbone){APP.ProfileTargeting=Backbone.Model.extend({urlRoot:"/services/profile/targetingByHashId",parse:function(targetingData){CQProfileWrapper.setTargetingData(targetingData),APP.Profile.setValidEmailVisitor(!0),APP.trigger("mdp:profile:loaded",this)}})}(this.Backbone),Profile=Backbone.Model.extend({urlRoot:"/services/profile",isValidEmailVisitor:!1,initialize:function(){APP.bind("mdp:cq:ready",this.loadProfile,this)},loadProfile:function(){var isCQProfile=CQProfileWrapper.isMember(),isMdpPartnerCookie=MDPPartnerCookie.isAvailable(),defaultErrorMethod=_.bind(function(){CQProfileWrapper.setDefaultProfile(),APP.trigger("mdp:profile:loaded",this)}),triggerOnceLoaded=!0;if(CQProfileWrapper.setLastAccessedDate(),this.shouldCreateProfile(isCQProfile,isMdpPartnerCookie)){var defaultProfile=_.bind(function(){CQProfileWrapper.setDefaultProfile(),APP.trigger("mdp:profile:loaded",this)});this.fetch({error:defaultProfile})}else{if(this.shouldDestroyProfile(isCQProfile,isMdpPartnerCookie))CQProfileWrapper.destroyProfile();else if(this.notLoggedIn(isCQProfile,isMdpPartnerCookie)&&(CQProfileWrapper.setDefaultProfile(),this.isPotentialEmailVisitor())){triggerOnceLoaded=!1;var visitorId=this.getEmailVisitorId(),profileTargeting=new APP.ProfileTargeting({id:visitorId});profileTargeting.fetch({error:defaultErrorMethod})}triggerOnceLoaded&&APP.trigger("mdp:profile:loaded",this)}},shouldDestroyProfile:function(isCQProfile,isMdpPartnerCookie){return isCQProfile&&!isMdpPartnerCookie},shouldCreateProfile:function(isCQProfile,isMdpPartnerCookie){var isNewlyLoggedIn=!isCQProfile&&isMdpPartnerCookie,isSessionExpired=isCQProfile&&this.profileExpired();return isNewlyLoggedIn||isSessionExpired},profileExpired:function(){var lastAccessed=this.getLastAccessedDate();if(lastAccessed){var thirtyMinutesAgo=new Date;return thirtyMinutesAgo.setMinutes(thirtyMinutesAgo.getMinutes()-30),thirtyMinutesAgo>lastAccessed}return!1},notLoggedIn:function(isCQProfile,isMdpPartnerCookie){return!(isCQProfile&&isMdpPartnerCookie)},parse:function(profileData){CQProfileWrapper.setData(profileData),APP.trigger("mdp:profile:loaded",this)},isMember:function(){return CQProfileWrapper.isMember()},getLastAccessedDate:function(){return CQProfileWrapper.getProperty("lastAccessed")},getUserId:function(){return CQProfileWrapper.getProperty("id")},isPotentialEmailVisitor:function(){var hIdCookieValue=this.getEmailVisitorId();return!_.isNull(hIdCookieValue)&&!_.isEmpty(hIdCookieValue)},getEmailVisitorId:function(){return $.cookie("hid")},isEmailVisitor:function(){return this.isValidEmailVisitor},setValidEmailVisitor:function(state){this.isValidEmailVisitor=state},getZoneInfo:function(){var dataObject={};return dataObject.zone=CQProfileWrapper.getProperty("zone"),dataObject.zip=CQProfileWrapper.getProperty("zip"),dataObject},setZoneInfo:function(zip,zone){CQProfileWrapper.setProperty("zip",zip),CQProfileWrapper.setProperty("zone",zone)},getSubscriptions:function(){return CQProfileWrapper.getProperty("magazineSubscriptions")},lastVisitDate:function(){return CQProfileWrapper.getProperty("lastVisitDate")},isMemberOnly:function(){return this.isMember()&&0==this.isEmailVisitor()},isEmailLinkVisitor:function(){var params=$.url().param();return"undefined"!=typeof params.esrc},checkEmailVisitor:function(){return!this.isEmailLinkVisitor()||this.isMember()||this.isEmailVisitor()?($.removeCookie("EMAIL_VISITOR",{domain:".bhg.com"}),!1):($.cookie("EMAIL_VISITOR","Y"),!0)}}),function(){APP.CQ=new CQEnvironment,APP.Sitecatalyst=new Sitecatalyst,APP.Profile=new Profile}(),CQ_Analytics.CCM.addListener("storesloaded",APP.CQ.setStoresLoaded),CQ_Analytics.CCM.addListener("configloaded",APP.CQ.setConfigLoaded,CQ_Analytics.PageDataMgr),ZoneFinder=Backbone.Model.extend({urlRoot:"/services/profile/zipcode",initialize:function(){APP.bind("mdp:profile:loaded",this.loadZone,this),this.zoneForm=$("#zoneFinderForm"),this.zoneResult=$("#zoneFinderAnswer"),this.zoneMessage=$("#zoneFinderMessage")},loadZone:function(){if(APP.Profile.isMember()&&this.zoneForm&&this.zoneResult){var zoneData=APP.Profile.getZoneInfo();zoneData.zone&&zoneData.zip?this.showUserResults(APP.Profile.getZoneInfo()):this.showNoResults()}else this.showNoResults()},resetZone:function(){this.zoneResult.empty(),this.showNoResults()},showUserResults:function(data){this.zoneResult.empty();var html=window.JST["templates/zonefinder_results.tpl"](data);this.zoneResult.append(html)},showNoResults:function(){this.zoneForm.empty();var html=window.JST["templates/zonefinder_form.tpl"]();this.zoneForm.append(html)},submit:function(){var zoneData=$("#zoneFinderZipCode");if(!APP.Profile.isMember()){var currentUrl=window.location.pathname;window.location.href="/common/profile/regStep1.jsp?regSource=1000&returnURL="+currentUrl}if(null!=zoneData){zoneData=zoneData.eq(0).val(),this.id=zoneData;var errorMessage=_.bind(function(){this.zoneMessage&&this.zoneMessage("Invalid Zip Code")});this.fetch({error:errorMessage})}},parse:function(data){APP.Profile.setZoneInfo(data.zipCode,data.zone),this.zoneForm.empty(),this.zoneMessage.empty(),this.loadZone()}}),_.isUndefined(window.APP)&&(window.APP={}),function(Backbone,$){APP.Teasers=Backbone.View.extend({isDisabled:!1,allTeasers:null,initialize:function(){APP.bind("mdp:teasers:init",this.loadSegments,this),APP.bind("mdp:teasers:start",this.loadTeasers,this),APP.bind("mdp:teasers:loaded",this.setUpTeasers,this),APP.bind("mdp:teasers:track",this.trackTeasers,this),APP.bind("mdp:teasers:reset:impressions",this.resetImpressions,this),APP.bind("mdp:teasers:disable",this.disableTeasers,this),APP.bind("mdp:teasers:enable",this.reloadTeasers,this),APP.bind("mdp:teasers:reload",this.reloadTeasers,this),this.allTeasers=$(".teaser")},getPathList:function(){var allPaths=new Array;return this.allTeasers.each(function(){$(this).show();var script=$(this).data("script");"undefined"!=typeof script&&allPaths.push(script)}),allPaths},loadSegments:function(){yepnope({load:"/etc/segmentation.segment.js",callback:function(){APP.trigger("mdp:teasers:start")}})},loadTeasers:function(){this.resetImpressions();var scriptPaths=this.getPathList();yepnope({load:scriptPaths,complete:function(){APP.trigger("mdp:teasers:loaded")}})},reloadTeasers:function(){this.resetImpressions();for(var scriptPaths=this.getPathList(),index=0;index<scriptPaths.length;index++)$.cachedScript(scriptPaths[index]);_.defer(function(){APP.trigger("mdp:teasers:loaded")})},loadHoverIntentTeasers:function(){function boxOpen(){$("#hptoprolloverlayer").slideDown(100).css("display","block")}function boxClose(){}if($(".teaser.rollOver").length>0){var config={interval:200,over:boxOpen,timeout:200,out:boxClose};$(".teaser.rollOver").hoverIntent(config),$("html").click(function(){$("#hptoprolloverlayer").slideUp(100)}),$("#hptoprolloverclose").click(function(){$("#hptoprolloverlayer").slideUp(100)}),$(document).keyup(function(e){27==e.keyCode&&$("#hptoprolloverclose").click()})}},setUpTeasers:function(){this.loadHoverIntentTeasers(),this.trackTeasers()},trackTeasers:function(){_.defer(function(){trackTeaserImpressions("/services/teaser/impressions")})},resetImpressions:function(){resetTeaserImpressions()},disableTeasers:function(){this.isDisabled||(this.isDisabled=!0,this.hideTeasers())},enableTeasers:function(){this.isDisabled&&(this.isDisabled=!1,this.showTeasers())},hideTeasers:function(){this.allTeasers.each(function(){$(this).hide()})}})}(this.Backbone,jQuery),HeaderLinks=Backbone.View.extend({initialize:function(){APP.bind("mdp:profile:loaded",this.correctJoinNow,this)},correctJoinNow:function(){if(APP.Profile.isMember()||APP.Profile.isEmailVisitor())$("#topLinks .join-now-link").hide();else{var link=$("#topLinks .join-now-link a"),href=link.attr("href");link.attr("href",href+window.location.pathname)}}}),FooterLinks=Backbone.View.extend({initialize:function(){APP.bind("mdp:profile:loaded",this.correctLinks,this)},correctLinks:function(){if(APP.Profile.isMemberOnly()){var logoutLink=this.getLogoutLink();$("#footerLinks .navListLoggedOut").hide(),$(".col1 .navList li:contains('Logout')").show(),$(".col1 .navList li:contains('Logout') a").each(function(index,element){$(element).attr("href",logoutLink)})}else $(".col1 .navList li:contains('Logout')").hide(),$("#footerLinks .navListLoggedOut").show(),$("#footerLinks .navListLoggedOut a").each(function(index,element){var href=$(element).attr("href");$(element).attr("href",href+window.location.pathname)})},getLogoutLink:function(){return window.location.protocol+"//"+window.location.hostname+"/common/profile/member/logout.jsp?successPage="+window.location.pathname}}),PersonalizedModule=Backbone.View.extend({initialize:function(){APP.bind("mdp:profile:loaded",this.showProfile,this)},showProfile:function(){APP.Profile.isMember()&&!APP.Profile.isEmailVisitor()?this.showRegistered():this.showAnonymous()},showAnonymous:function(){$(".personalizedModule .anonymous a").each(function(index,element){var href=$(element).attr("href");$(element).attr("href",href+window.location.pathname)}),$(".personalizedModule .anonymous").show(),$(".personalizedModule .registered").hide()},showRegistered:function(){$(".personalizedModule .anonymous").hide();var name=CQProfileWrapper.getProperty("firstName");$(".personalizedModule .registered .user-greet").text("hi, "+name),$(".personalizedModule .registered").show()}}),function(){new APP.Teasers,APP.HeaderLinks=new HeaderLinks,APP.FooterLinks=new FooterLinks,APP.PersonalizedModule=new PersonalizedModule,APP.ZoneFinder=new ZoneFinder}(),function(Backbone){APP.SubNav=Backbone.Model.extend({url:$("#superNav").data("url")})}(Backbone),function(Backbone,$){APP.SubNavView=Backbone.View.extend({events:{"mouseenter .navLinks > li":"toggle","mouseleave .navLinks > li":"toggle"},initialize:function(){this.subNavs={},this.subNavFeaturedContent={},this.timeoutID="",this.timeoutDelay=500,APP.bind("mdp:subnav:init",this.setupData,this),this.model.fetch({success:function(){APP.trigger("mdp:subnav:init")}})},getSubNavByPath:function(path){for(var index in this.subNavData)if(!isNaN(parseInt(index))){var subNav=this.subNavData[index];if(subNav.path==path)return subNav}return null},setupData:function(){this.subNavData=this.model.toJSON(),this.subNavs={},this.subNavFeaturedContent={};for(var index in this.subNavData)if(!isNaN(parseInt(index))){var subNav=this.subNavData[index],channel=subNav.path.replace(/^(http:|\/content\/bhg\/)([^\.]+)(\.html)?$/,"$2").replace(/[^a-zA-Z-]+/,"");this.subNavs[channel]=window.JST["templates/supernav_subnav_template.tpl"](subNav),this.subNavFeaturedContent[channel]=window.JST["templates/supernav_featured_content.tpl"](subNav)}},toggle:function(event){var $el=$(event.currentTarget);this.cancelRender(),$el.hasClass("active")?this.remove($el):this.timeoutDelay>0?this.delayedRender($el):this.render($el),event.preventDefault()},cancelRender:function(){"number"==typeof this.timeoutID&&window.clearTimeout(this.timeoutID)},delayedRender:function($el){$el.addClass("active"),this.timeoutID=window.setTimeout(_.bind(function(){this.render($el),this.timeoutDelay=0},this),this.timeoutDelay)},render:function($el){var channel=$el.attr("id");$el.addClass("active"),0===$el.find(".subNavContainer").length&&(channel in this.subNavs&&$el.append(this.subNavs[channel]),channel in this.subNavFeaturedContent&&$el.find(".subNav").append(this.subNavFeaturedContent[channel]))},remove:function($el){$el.removeClass("active").find(".subNavContainer").remove()}})}(Backbone,jQuery),$(".searchSubmit").click(function(){return""==$(this.form).find(".searchBox").val()?(alert("Please enter search terms."),!1):!0}),function(_,Backbone,$){_.isUndefined($("#superNav").data("url"))||new APP.SubNavView({model:new APP.SubNav,el:$("#superNav")})}(this._,Backbone,jQuery),function(Backbone,$){APP.CenterNavView=Backbone.View.extend({el:$("#centerNav"),defaults:{numLinksToShow:28},events:{"click .navSeeMore":"expand","click .navSeeLess":"contract"},initialize:function(options){this.options=_.extend({},this.defaults,options),this.$navLinks=this.$el.find("> ul > li"),this.render()},render:function(){if(this.$navLinks.length>this.options.numLinksToShow)for(var index=this.options.numLinksToShow;index<this.$navLinks.length;index++)$(this.$navLinks[index]).addClass("hidden")},expand:function(event){event.preventDefault(),this.$el.find(".hidden").removeClass("hidden").addClass("prevHidden"),$(event.target).removeClass("navSeeMore").addClass("navSeeLess").text("Show Less")},contract:function(event){event.preventDefault(),this.$el.find(".prevHidden").removeClass("prevHidden").addClass("hidden"),$(event.target).removeClass("navSeeLess").addClass("navSeeMore").text("Show More")}})}(Backbone,jQuery),mdp.gigya=mdp.gigya||{},mdp.gigya.reporting=mdp.gigya.reporting||{},mdp.gigya.GigyaShareReporting=mdp.gigya.GigyaShareReporting||{},mdp.gigya.EventObj={user:""},mdp.gigya.setEventObj=function(param){$.extend(!0,mdp.gigya.EventObj,param)},mdp.gigya.getEventObj=function(){return mdp.gigya.EventObj||{user:""}},mdp.gigya.init=function(){mdp.gigyaLoaded=!0,mdp.gigya.GigyaShareReporting=new mdp.gigya.reporting.GigyaSharingReporting},mdp.gigya.ShareIt=function(obj,options){function buildDynamicButtonsForGigya(){var shareBarButtons=new Array;if("object"==typeof options.shareButtons)$.each(options.shareButtons,function(i){var button=options.shareButtons[i];shareBarButtons.push({enableCount:button.enableCount||"false",provider:button.name,tooltip:button.alt,iconImgUp:button.iconImg,iconImgOver:button.iconImgOver,iconOnly:options.iconOnly})});else if("string"==typeof options.shareButtons)return createTextLink();return shareBarButtons
}function buildButtonsForShareBar(){var shareBarButtons=new Array;if("object"==typeof options.shareButtons)$.each(options.shareButtons,function(i){var button=options.shareButtons[i];shareBarButtons.push({provider:button.name,tooltip:button.alt,iconImgUp:button.iconImg,iconImgOver:button.iconImgOver,iconOnly:options.iconOnly})});else if("string"==typeof options.shareButtons)return createTextLink();return shareBarButtons}function buildButtonsForMultiShare(){"object"==typeof options.shareButtons?$.each(options.shareButtons,function(i){var button=options.shareButtons[i],html=$("");html=button.iconImg?$("<img>").attr("id","img_"+button.name).attr("alt",button.alt).attr("src",button.iconImg):$("<span>").attr("id","img_"+button.name).attr("alt",button.alt).addClass(button.name),$(obj).append($("<a>",{href:"#",html:html}).addClass($(obj).attr("id")).attr("id",$(obj).attr("id")+"_"+button.name))}):"string"==typeof options.shareButtons&&createTextLink()}function createTextLink(){if("sharebar"===options.shareType)return options.shareButtons;var buttons=options.shareButtons.split(",");$.each(buttons,function(i){var link=""==options.linkText?buttons[i]:options.linkText;$(obj).append($("<a>",{href:"#",html:link}).addClass($(obj).attr("id")+"_"+buttons[i]).click(function(event){return event.preventDefault(),gigya.services.socialize.showShareUI(options.shareConfig,buildParams()),!1}))})}function buildCustomButton(){""!==options.linkUrl&&$(obj).append($("<a>",{href:options.linkUrl,html:$("<img>",{src:options.iconImage})}))}function buildComments(callback){function commentCountResponse(response){var commentCount=response.streamInfo.commentCount;0==response.errorCode&&$(".commentscountdisplay").empty().text(commentCount)}callback&&"function"==typeof callback||(callback=function(){});var streamIdUrl=document.location.toString().replace(document.location.search,"").replace(document.location.hash,""),commentParamDefaults={width:490,categoryID:"SiteComments",streamID:streamIdUrl,disabledProviders:"qq,sina,renren,vkontakte",containerID:"commentsDiv",onCommentSubmitted:mdp.gigya.GigyaShareReporting.OnCommentSubmitted,onLoad:callback},commentParams=$.extend(commentParamDefaults,options);if(gigya.services.socialize.showCommentsUI(mdp.gigyaConf,commentParams),$(".commentscountdisplay").length){var responseParams={categoryID:"SiteComments",streamID:document.location.toString().replace(document.location.search,"").replace(document.location.hash,""),callback:commentCountResponse};gigya.services.comments.getStreamInfo(mdp.gigyaConf,responseParams)}}function buildReviews(callback){callback&&"function"==typeof callback||(callback=function(){});var streamIdUrl=document.location.toString().replace(document.location.search,"").replace(document.location.hash,""),commentParamDefaults={width:490,categoryID:"SiteRatings",streamID:streamIdUrl,disabledProviders:"qq,sina,renren,vkontakte",containerID:"reviewDiv",onCommentSubmitted:mdp.gigya.GigyaShareReporting.OnCommentSubmitted,onLoad:callback},commentParams=$.extend(commentParamDefaults,options);gigya.services.socialize.showCommentsUI(mdp.gigyaConf,commentParams)}function buildParams(callback){var params={userAction:options.userAction,snapToElementID:$(obj).attr("id"),operationMode:options.operationMode,context:options.operationMode,showCounts:options.showCounts,noButtonBorders:options.noButtonBorders,emailProviders:"Google,Yahoo",showMoreButton:!0,showEmailButton:!0,buttonTemplate:options.buttonTemplate,title:options.title,emailBody:options.emailBody,defaultEmailMessage:options.defaultEmailMessage,onShareButtonClicked:mdp.gigya.GigyaShareReporting.OnShareButtonClicked,onSendDone:mdp.gigya.GigyaShareReporting.OnSendDone,layout:options.layout,onLoad:callback};if("sharebar"===options.shareType||"sharebar2"===options.shareType){var barOptions={shareButtons:"sharebar"===options.shareType?buildButtonsForShareBar():buildDynamicButtonsForGigya(),containerID:$(obj).attr("id")};if(params=$.extend(params,barOptions),"string"==typeof options.shareButtons){var buttonTemplate={buttonTemplate:'<a href="javascript:$onClick">'+options.linkText+"</a>"};params=$.extend(params,buttonTemplate)}}return params}function runShareBar(shareParams){gigya.services.socialize.showShareBarUI(options.shareConfig,shareParams)}function runMultiShareBar(){$("."+$(obj).attr("id")).click(function(){gigya.services.socialize.showShareUI(options.shareConfig,buildParams())})}this.run=function(callback){if("sharebar"===options.shareType||"sharebar2"===options.shareType){var barParams=buildParams(callback);runShareBar(barParams)}"multishare"===options.shareType&&(buildButtonsForMultiShare(),runMultiShareBar()),"custom"===options.shareType&&buildCustomButton(),"review"===options.shareType&&buildReviews(callback),"comments"===options.shareType&&buildComments(callback)}},function($){$.fn.extend({gigyaShare:function(options,callback){mdp.gigyaUa=mdp.gigyaUa||{},mdp.gigyaUa=new gigya.services.socialize.UserAction,mdp.gigyaUa.setTitle(options.title||$("title").html()),mdp.gigyaUa.setDescription(options.description&&""!=options.description?options.description:$("meta[name=description]").attr("content")),options.image&&""!=options.image&&mdp.gigyaUa.addMediaItem({type:"image",src:options.image}),mdp.gigyaUa.setLinkBack(options.linkBack&&""!=options.linkBack?options.linkBack:decodeURIComponent(self.location));var defaults={showCounts:"none",shareConfig:mdp.gigyaConf,userAction:mdp.gigyaUa,operationMode:"multiSelect",noButtonBorders:"true",iconOnly:!0,emailBody:"",title:"",shareType:"sharebar",linkUrl:"",iconImage:"",defaultEmailMessage:"",description:"",image:"",linkBack:"",linkText:"",layout:"horizontal"},options=$.extend(defaults,options);return this.each(function(){mdp.gigya.SocialShare=new mdp.gigya.ShareIt($(this),options),mdp.gigya.SocialShare.run(callback)})}})}(jQuery),mdp.gigya=mdp.gigya||{},mdp.gigya.reporting=mdp.gigya.reporting||{},mdp.gigya.reporting.GigyaRegistrationReporting=function(){this.TrackLoginEvent=function(event){_.isUndefined(APP)||_.isUndefined(APP.trigger)||APP.trigger("mdp:gigya:loginEvent",event)},this.TrackLogoutEvent=function(event){_.isUndefined(APP)||_.isUndefined(APP.trigger)||APP.trigger("mdp:gigya:logoutEvent",event)},this.TrackAddConnectionEvent=function(event){_.isUndefined(APP)||_.isUndefined(APP.trigger)||APP.trigger("mdp:gigya:addConnectionEvent",event)},this.TrackRemoveConnectionEvent=function(event){_.isUndefined(APP)||_.isUndefined(APP.trigger)||APP.trigger("mdp:gigya:removeConnectionEvent",event)}},mdp.gigya.reporting.GigyaSharingReporting=function(){this.OnShareButtonClicked=function(event){for(var providers=event.providers?event.providers.split(","):[],i=0;i<providers.length;i++)_.isUndefined(APP)||_.isUndefined(APP.trigger)||APP.trigger("mdp:gigya:buttonclicked",providers[i])},this.OnSendDone=function(event){for(var providers=event.providers?event.providers.split(","):[],i=0;i<providers.length;i++)_.isUndefined(APP)||_.isUndefined(APP.trigger)||APP.trigger("mdp:gigya:senddone",providers[i])},this.OnCommentSubmitted=function(){_.isUndefined(APP)||_.isUndefined(APP.trigger)||APP.trigger("mdp:gigya:commentsubmitted")}},mdp.gigya=mdp.gigya||{},mdp.gigya.reporting=mdp.gigya.reporting||{},mdp.gigya.GigyaRegReporting=mdp.gigya.GigyaRegReporting||{},mdp.gigya.SsoEnabled=mdp.gigya.SsoEnabled||!1,mdp.gigya.DefaultProviders=mdp.gigya.DefaultProviders||["facebook","google","yahoo","twitter"],mdp.gigya.SocialLogin={},mdp.gigya.SocialData=mdp.gigya.SocialData||{socialProviderType:"",providerIdentifier:"",socialLoginId:"",socialUIDTimestamp:"",socialUIDSignature:""},mdp.gigya.regLink={},mdp.gigya.EventObj={user:""},mdp.gigya.setEventObj=function(param){$.extend(!0,mdp.gigya.EventObj,param)},mdp.gigya.getEventObj=function(){return mdp.gigya.EventObj||{user:""}},mdp.gigya.getDefaultGigyaParams=function(param){var defaultOpts={showTermsLink:"false",buttonsStyle:"standard",hideGigyaLink:"true",facepilePosition:"none"};return $.extend(!0,defaultOpts,param)},mdp.gigya.getDefaultProviderParams=function(param){var defaultOpts={enabledProviders:determineProviders()};return $.extend(!0,defaultOpts,param)};var RegPage=!1,LoginPage=!1,pMod=!1,RoadBlock=!1,RegOverlayPage=!1;mdp.gigya.ssoInit=function(options){mdp.gigya.init(),mdp.gigya.GigyaRegReporting=new mdp.gigya.reporting.GigyaRegistrationReporting,$("body").hasClass("regOverlay")?(RegOverlayPage=!0,mdp.gigya.SocialLogin=new mdp.gigya.Login):$("#registration_form").length>0?(RegPage=!0,LoginPage=!0,mdp.gigya.SocialLogin=new mdp.gigya.Login):$("#login_email").length>0?(LoginPage=!0,mdp.gigya.SocialLogin=new mdp.gigya.Login,mdp.gigya.regLink=$(".regLink").attr("href")):$("#pMod").length>0?(pMod=!0,mdp.gigya.SocialLogin=new mdp.gigya.Login,mdp.gigya.regLink=$(".regLink").attr("href")):$("#reg_roadblock_body").length>0?RoadBlock=!0:$("#logout_button").length>0&&new mdp.gigya.Logout,(RegPage||LoginPage||pMod||RegOverlayPage)&&mdp.gigya.SocialLogin.run(options)},mdp.gigya.Logout=function(){function handleSiteLogout(){gigya.services.socialize.logout({callback:gigyaLogoutCallback,forceProvidersLogout:!0})}function gigyaLogoutCallback(e){mdp.gigya.GigyaRegReporting.TrackLogoutEvent(e)}$("#logoutForm").submit(handleSiteLogout)},mdp.gigya.Login=function(regForm){function getParameterByName(name){var match=RegExp("[?&]"+name+"=([^&]*)").exec(window.location.search);return match&&decodeURIComponent(match[1].replace(/\+/g," "))}function storeSocialData(socialProviderType,providerIdentifier,socialLoginId,socialUIDTimestamp,socialUIDSignature){mdp.gigya.SocialData={socialProviderType:socialProviderType,providerIdentifier:providerIdentifier,socialLoginId:socialLoginId,socialUIDTimestamp:socialUIDTimestamp,socialUIDSignature:socialUIDSignature}}function mdpLoginCallback(mdpData){mdpData&&pMod?window.location.href="/":mdp.loginCallback(mdpData)}function gigyaLoginCallback(eventObj){if(!mdp.gigya.loginCallBack){mdp.gigya.loginCallBack=!0,mdp.gigya.timer=setTimeout(function(){mdp.gigya.loginCallBack=!1,clearTimeout(mdp.gigya.timer)},1e3),eventObj=eventObj||{},eventObj.user=eventObj.user||{},mdp.gigya.setEventObj(eventObj),mdp.gigya.GigyaRegReporting.TrackLoginEvent(eventObj),$("#reg_field_fname").val(""),$("#gigya_reg_field_email").val(""),mdp.gigya.Email="";var regEmail=getParameterByName("regEmail");eventObj.user.firstName&&$("#reg_field_fname").val(eventObj.user.firstName),eventObj.user.email&&($("#gigya_reg_field_email").val(eventObj.user.email.toLowerCase()),$("#reg_field_email").val($("#gigya_reg_field_email").val()),mdp.gigya.Email=regEmail||eventObj.user.email.toLowerCase());var loginProvider=eventObj.user.loginProvider?eventObj.user.loginProvider:null,loginProviderUID=eventObj.user.loginProviderUID?eventObj.user.loginProviderUID:null,socialLoginId=eventObj.user.UID?eventObj.user.UID:null,socialUIDSignature=eventObj.user.UIDSignature?eventObj.user.UIDSignature:null,socialUIDTimestamp=eventObj.user.signatureTimestamp?eventObj.user.signatureTimestamp:null;if(storeSocialData(loginProvider,loginProviderUID,socialLoginId,socialUIDTimestamp,socialUIDSignature),regEmail)mdp.gigya.SocialLogin.SetGigyaRegistration(new mdp.gigya.GigyaRegistration(regEmail));else if(eventObj.user.isSiteUser&&eventObj.user.isSiteUID)loginExistingUser(mdpLoginCallback);else{if(pMod){var querystring=unescape(location.search);return void(window.location.href="/common/profile/regStep1.jsp"+querystring)}checkThirdPartyAuth(checkThirdPartyAuthCallback)}}}function loginExistingUser(callback){var user=mdp.gigya.getEventObj().user;if(user&&user.UID)GigyaService.isAlreadyAMemberLogin({socialLoginId:user.UID,socialProviderType:user.loginProvider,providerIdentifier:user.loginProviderUID,socialUIDSignature:user.UIDSignature,socialUIDTimestamp:user.signatureTimestamp},function(data){var jsonData=$.parseJSON(data);if(0==jsonData.statusCode)if(jsonData.registrationErrors.length>0){var errorText=$("<p>").attr({"class":"validation-advice"}).html(jsonData.registrationErrors[0]);errorText.insertAfter($(self).find(".LargeLoginDiv")),callback(data)}else callback(data,mdp.gigya.getEventObj());else{var errorText=$("<p>").attr({"class":"validation-advice"}).html(jsonData.registrationErrors[0]);errorText.insertAfter($(self).find(".LargeLoginDiv")),callback(data)}});else{var errorText=$("<p>").attr({"class":"validation-advice"}).text("missing uid in loginExistingUser");errorText.insertAfter($(self).find(".LargeLoginDiv"))}}function checkThirdPartyAuth(callback){var user=mdp.gigya.getEventObj().user;user.loginProvider&&user.loginProviderUID?GigyaService.getUserFromThirdPartAuth(user.loginProviderUID,user.loginProvider,function(thirdPartyStatus){var thirdPtyObj=$.parseJSON(thirdPartyStatus);callback(thirdPtyObj)}):callback(null)}function checkThirdPartyAuthCallback(thirdPtyObj){var user=mdp.gigya.getEventObj().user;thirdPtyObj&&(1==thirdPtyObj.statusCode&&thirdPtyObj.email?(mdp.gigya.setEventObj({user:{email:thirdPtyObj.email}}),mdp.gigya.SocialLogin.GetGigyaAccountLink().ShowAccountLink()):user.email?mdp.gigya.SocialLogin.isAlreadyMdpMember(user.email,function(exists){exists?mdp.gigya.SocialLogin.GetGigyaAccountLink().ShowAccountLink():self.SetGigyaRegistration(new mdp.gigya.GigyaRegistration)}):handleMissingEmail())}function handleMissingEmail(){if(!RegPage){var querystring=unescape(location.search);window.location.href="/common/profile/regStep1.jsp"+querystring}emailPrompt(function(email){email&&(mdp.gigya.setEventObj({user:{email:email}}),mdp.gigya.SocialLogin.isAlreadyMdpMember(email,function(exists){exists?self.SetGigyaAccountLink((new mdp.gigya.GigyaAccountLink).ShowAccountLink()):self.SetGigyaRegistration(new mdp.gigya.GigyaRegistration)}))})}function emailPrompt(callback){var emailForm=$(".emailPopup").clone(!0);emailForm.removeClass("emailPopup"),emailForm.addClass("clone_emailPopup"),emailForm.find(".emailPromptForm").attr("class","clone_emailPromptForm"),emailForm.find(".emailPrompt").attr("class","clone_emailPrompt"),emailForm.find(".emailPromptSubmitBtn").attr("class","clone_emailPromptSubmitBtn");{var emailPromptSubmit=function(e){e.preventDefault();var isValid=mdp.gigya.SocialLogin.ValidateEmail($(".clone_emailPromptForm input.clone_emailPrompt").val());if(mdp.removeErrorMessages(),isValid){var email=$(".clone_emailPromptForm input.clone_emailPrompt").val();mdp.gigya.SocialLogin.EmailPromptClosed(),callback(email)}else{var errorText=$("<p>").attr({"class":"validation-advice"}).text("Invalid Email Address");errorText.insertAfter(".clone_emailPrompt")}};new mdp.app.Dialog(emailForm.removeClass("hide"),{offsetY:5,width:500,height:75,onClose:mdp.gigya.SocialLogin.EmailPromptClosed})}$(".clone_emailPromptSubmitBtn").click(emailPromptSubmit)}function initializeGigya(providerOptions,loginOptions){providerOptions&&loginOptions&&(RegPage&&gigya.services.socialize.getUserInfo({callback:alreadyLoggedInCallback}),gigya.services.socialize.addEventHandlers({onLogin:gigyaLoginCallback,onLogout:gigyaLogoutCallback,onConnectionAdded:gigyaAddConnCallback,onConnectionRemoved:gigyaRemoveConnCallback}),gigya.services.socialize.showLoginUI(providerOptions,loginOptions))}function gigyaLogoutCallback(event){mdp.gigya.GigyaRegReporting.TrackLogoutEvent(event),mdp.gigya.Email="",mdp.gigya.SocialData=mdp.gigya.SocialData||{socialProviderType:"",providerIdentifier:"",socialLoginId:"",socialUIDTimestamp:"",socialUIDSignature:""}}function gigyaAddConnCallback(event){mdp.gigya.GigyaRegReporting.TrackAddConnectionEvent(event)}function gigyaRemoveConnCallback(event){mdp.gigya.GigyaRegReporting.TrackRemoveConnectionEvent(event)}function alreadyLoggedInCallback(eventObj){eventObj&&eventObj.user&&eventObj.user.UID&&gigyaLoginCallback(eventObj)}mdp.gigya.Email="",mdp.gigya.timer=0,mdp.gigya.loginCallBack=!1;var self=this;this.SetGigyaAccountLink=function(ref){this.GigyaAccountLink=ref||new mdp.gigya.GigyaAccountLink},this.GetGigyaAccountLink=function(){return this.GigyaAccountLink||new mdp.gigya.GigyaAccountLink};var GigyaRegistration={};this.SetGigyaRegistration=function(ref){this.GigyaRegistration=ref||new mdp.gigya.GigyaRegistration},this.GetGigyaRegistration=function(){return GigyaRegistration||new mdp.gigya.GigyaRegistration},this.run=function(options){function getGigyaWidth(){var logins=determineProviders().length;return 4==logins?330:1==logins?80:0}var extParams,providerParams=mdp.gigya.getDefaultProviderParams();if(LoginPage&&($componentDiv=$("#componentDiv"),$componentDivAllOpts=$("#componentDivAllOpts"),$componentDiv.length>0&&(extParams={height:50,width:160,containerID:"componentDiv"},initializeGigya(providerParams,mdp.gigya.getDefaultGigyaParams(extParams))),$componentDivAllOpts.length>0)){extParams={height:50,width:160,containerID:"componentDivAllOpts"};var allProviderOpts=mdp.gigya.getDefaultProviderParams();allProviderOpts.enabledProviders=mdp.gigya.DefaultProviders,initializeGigya(allProviderOpts,mdp.gigya.getDefaultGigyaParams(extParams))}RegOverlayPage&&(extParams={height:50,width:246,containerID:"componentDiv",buttonsStyle:"fullLogo"},initializeGigya({enabledProviders:"facebook,google,yahoo"},mdp.gigya.getDefaultGigyaParams(extParams))),RegPage&&(extParams=$.extend(!0,{height:65,width:getGigyaWidth(),containerID:"LargeLoginDiv",buttonsStyle:"fullLogo"},options),initializeGigya(providerParams,mdp.gigya.getDefaultGigyaParams(extParams))),pMod&&(extParams=$.extend(!0,{height:15,width:75,containerID:"pModLoginDiv",UIConfig:'<config><body><controls><snbuttons buttonsize="15" /></controls></body></config>'},options),initializeGigya(providerParams,mdp.gigya.getDefaultGigyaParams(extParams)))},this.isAlreadyMdpMember=function(email,callback){GigyaService.isAlreadyAMember(email,function(userStatus){var userStatusObj=$.parseJSON(userStatus),isEmailExists=0==userStatusObj.statusCode&&userStatusObj.registrationErrors.length>0;callback(isEmailExists)})},this.ValidateEmail=function(email){var re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(email)&&email.indexOf("proxymail.facebook.com")<0},this.EmailPromptClosed=function(){$("#mdpdialog").remove(),$("html,body").css("overflow","auto"),mdp.removeErrorMessages()}},mdp.gigya.GigyaRegistration=function(email){function gigyaRegSetup(email){var user=mdp.gigya.getEventObj().user;$("#gigya_reg_field_email").val(email?email.toLowerCase():user.email.toLowerCase()),$("#reg_field_email").val(email?email.toLowerCase():user.email.toLowerCase()),$("#gigya_reg_field_email").blur(function(){$("#gigya_reg_field_email")&&$("#gigya_reg_field_email").val()&&($("#reg_field_email").val($("#gigya_reg_field_email").val()),mdp.gigya.SocialLogin.isAlreadyMdpMember($("#gigya_reg_field_email").val(),function(exists){exists&&(user.email=$("#gigya_reg_field_email").val(),mdp.gigya.SocialLogin.SetGigyaAccountLink((new mdp.gigya.GigyaAccountLink).ShowAccountLink()))}))}),user.firstName&&($("#welcome_msg").text("Welcome "+user.firstName+"."),$("#reg_field_fname").val(user.firstName),$("#reg_field_fname").hide(),$("#reg_field_fname").parent().hide())}if(!RegPage){var querystring=unescape(location.search);return void(window.location.href="/common/profile/regStep1.jsp"+querystring)}$("#registration_form").html(),$.ajax({url:"/common/profile/gigya/registrationFields.jsp",type:"get",success:function(html){$("#registration_form").html(html),mdp.regStep1=new mdp.app.RegStep1,gigyaRegSetup(email)}})},mdp.gigya.GigyaAccountLink=function(){function buildRegObject(ref){var em=ref.find(".clone_userLogin").val().toLowerCase().trim(),pw=ref.find(".clone_account_link_pass").val(),sd=mdp.gigya.SocialData,ext={email:em,password:pw,newsletterBundleIds:[]};return $.extend(!0,sd,ext)}this.AccountLinkDialog={},$("#accountLinkRight a").click(function(e){e.preventDefault(),mdp.gigya.SocialLogin.GetGigyaAccountLink().AccountLinkClosed()}),this.ShowAccountLink=function(){var user=mdp.gigya.getEventObj().user;$("#accountLink").removeClass("hide"),$("#socialUIDTimestamp").val(user.signatureTimestamp),$("#socialUIDSignature").val(user.UIDSignature),$(".userLogin").val(user.email),$("#loginProviderName").text(user.loginProvider),$("#socialLoginProvider").val(user.loginProvider),$("#socialLoginProviderUID").val(user.loginProviderUID),$("#socialUID").val(user.UID),$("#login_fields").width(568),$("#login_fields").height(320);var newAccountLinkDiv=$(".accountLinkDiv").clone(!0);newAccountLinkDiv.removeClass("accountLinkDiv"),newAccountLinkDiv.addClass("visibleAccountLinkDiv"),newAccountLinkDiv.find("form.gigya_link_form").attr("id","clone_gigya_link_form"),newAccountLinkDiv.find(".gigya_link_button").attr("class","clone_gigya_link_button"),newAccountLinkDiv.find(".gigya_create_button").attr("class","clone_gigya_create_button hide"),newAccountLinkDiv.find(".account_link_pass").attr("class","clone_account_link_pass"),newAccountLinkDiv.find(".password_display").attr("class","clone_password_display"),newAccountLinkDiv.find(".userLogin").attr("class","clone_userLogin"),newAccountLinkDiv.find(".clone_userLogin").val(user.email),mdp.gigya.SocialLogin.SetGigyaAccountLink(new mdp.gigya.GigyaAccountLink),newAccountLinkDiv.find("#clone_gigya_link_form").submit(mdp.gigya.SocialLogin.GetGigyaAccountLink().GigyaAccountLinkSubmit),newAccountLinkDiv.find(".clone_gigya_create_button").click(mdp.gigya.SocialLogin.GetGigyaAccountLink().AccountLinkCreateAccount),newAccountLinkDiv.find(".clone_userLogin").blur(mdp.gigya.SocialLogin.GetGigyaAccountLink().AccountLinkEmailCheck),$("html,body").css("overflow","hidden"),AccountLinkDialog=new mdp.app.Dialog(newAccountLinkDiv.removeClass("hide"),{offsetY:50,width:568,height:330,onClose:this.AccountLinkClosed})},this.AccountLinkClosed=function(){$("#mdpdialog").remove(),$("html,body").css("overflow","auto"),mdp.removeErrorMessages()},this.AccountLinkEmailCheck=function(e){e.preventDefault(),mdp.removeErrorMessages();var ckEmail=$(".clone_userLogin").val(),validEmail=mdp.gigya.SocialLogin.ValidateEmail(ckEmail),isAlreadyMemberCb=function(exists){if(exists)$(".clone_gigya_create_button").addClass("hide"),$(".clone_gigya_link_button").removeClass("hide"),$(".clone_password_display").removeClass("hide");else{$(".clone_account_link_pass").val(""),$(".clone_password_display").addClass("hide"),$(".clone_gigya_link_button").addClass("hide"),$(".clone_gigya_create_button").removeClass("hide");var errorText=$("<p>").attr({"class":"validation-advice"}).html("Account does not exist.  Click the Create Account button to create it or enter a valid email to continue.");errorText.insertAfter($(".clone_userLogin"))}};if(validEmail)ckEmail&&mdp.gigya.SocialLogin.isAlreadyMdpMember(ckEmail,isAlreadyMemberCb);else{var errorText=$("<p>").attr({"class":"validation-advice"}).html("Invalid email address format.");errorText.insertAfter($(".clone_userLogin"))}},this.AccountLinkCreateAccount=function(e){e.preventDefault();var email=$(".clone_userLogin").val().toLowerCase();RegPage?(mdp.gigya.SocialLogin.SetGigyaRegistration(new mdp.gigya.GigyaRegistration(email)),mdp.gigya.SocialLogin.GetGigyaAccountLink().AccountLinkClosed()):window.location.href=mdp.gigya.regLink+"&regEmail="+email},this.GigyaAccountLinkSubmit=function(e){e.preventDefault(),mdp.removeErrorMessages(),regutil.showLoadIndicator($(this).find(".clone_gigya_link_button")),regutil.lockButton($(this).find(".clone_gigya_link_button"));var regObj=buildRegObject($(this)),handleErrors=function(registrationErrors){if(regutil.hideLoadIndicator(),regutil.unlockButton($(".reg_forgot_pass_submit")),regutil.unlockButton($(".clone_gigya_link_button")),registrationErrors&&registrationErrors[0]){var errorText=$("<p>").attr({"class":"validation-advice"}).html(registrationErrors[0]);errorText.insertAfter($(".clone_account_link_pass"))}},memberCheckCallback=function(exists){exists?GigyaService.isAlreadyAMemberLogin(regObj,regLoginCallback):($("#welcome_msg").text("Welcome "+mdp.gigya.getEventObj().user.firstName+"."),$("#gigya_reg_field_email").val(regObj.em))},regLoginCallback=function(data){var jsonData=$.parseJSON(data);jsonData&&jsonData.registrationErrors&&0==jsonData.registrationErrors.length?mdp.loginCallback(data):jsonData&&jsonData.registrationErrors&&jsonData.registrationErrors.length>0&&handleErrors(jsonData.registrationErrors)};regObj&&regObj.email&&(mdp.gigya.Email.indexOf(regObj.email)<0?mdp.gigya.SocialLogin.isAlreadyMdpMember(regObj.email,memberCheckCallback):GigyaService.isAlreadyAMemberLogin(regObj,regLoginCallback))}},mdp.gigyaLoadedCallbacks=[],mdp.gigyaLoaded=!1,mdp.onGigyaLoaded=function(f){if(mdp.gigyaLoadedCallbacks.push(f),mdp.gigyaLoaded)for(;mdp.gigyaLoadedCallbacks.length;)mdp.gigyaLoadedCallbacks.shift()()},mdp.gigyaLoaded||$.ajax({url:"https://cdns.gigya.com/JS/socialize.js?apikey="+getGigyaApiKey(),dataType:"script",success:function(){mdp.gigyaConf=mdp.gigyaConf||{},mdp.gigyaConf={APIKey:getGigyaApiKey(),cid:""},mdp.gigyaUa=mdp.gigyaUa||{},mdp.gigyaUa=new gigya.services.socialize.UserAction,mdp.gigyaUa.setLinkBack(decodeURIComponent(self.location).split("?")[0]),mdp.gigyaUa.setTitle($("title").text()),mdp.gigyaUa.setDescription($("meta[name=description]").attr("content")),mdp&&mdp.onGigyaLoaded&&(mdp.gigyaLoaded=!0,mdp.gigya.SsoEnabled=!0,mdp.gigyaLoadedCallbacks.splice(0,0,function(){mdp.gigya.SsoEnabled?mdp.gigya.ssoInit():mdp.gigya.init()}),mdp.onGigyaLoaded(function(){}))}}),function($){GigyaShareOptions={buttonLibrary:{facebookShareButton:{name:"facebook-like",enableCount:"true",iconImg:"http://w.sharethis.com/images/facebook_32.png",alt:"Share on facebook"},pinItButton:{name:"pinterest-pinit",enableCount:"true",iconImg:"//images.meredith.com/content/dam/bhg/Images/assets/pin_it.png",alt:"Share on Pinterest"},pinterestButton:{name:"Pinterest",enableCount:"true",iconImg:"//images.meredith.com/content/dam/bhg/Images/assets/pin_it.png",alt:"Share on Pinterest"},emailButton:{name:"email",iconImg:"http://images.meredith.com/content/dam/bhg/Images/assets/email_share.png",alt:"Email This Page"},twitterButton:{name:"twitter",iconImg:"http://images.meredith.com/content/dam/bhg/Images/assets/twitter_share.png",alt:"Share on Twitter",title:$("title").html()+" (via @BHG)"},googlePlusButton:{name:"googlePlus",iconImg:"http://images.meredith.com/content/dam/bhg/Images/assets/google_share.png",alt:"Share on Google Plus"},facebookLikeButton:{name:"facebook",iconImg:"//images.meredith.com/content/dam/bhg/Images/assets/facebook_share.png",alt:"Share on Facebook"},moreButton:{name:"share",iconImg:"http://images.meredith.com/bhg/images/template/socialmedia/more.png",alt:"More Sharing Options"},facebookDefaultShareButton:{name:"facebook",enableCount:"true",alt:"Share on Facebook"}},shareBarButtons:[{name:"facebook",alt:"Share This Page on Facebook"},{name:"twitter",alt:"Share This Page on Twitter",title:$("title").html()+" (via @BHG)"},{name:"email",iconImg:"http://images.meredith.com/content/dam/bhg/Images/assets/socialmedia/email_share.png",alt:"Email this page"},{name:"share",iconImg:"http://images.meredith.com/bhg/images/template/socialmedia/more.png",alt:"More Share Options"},{provider:"comments",streamID:document.location.toString().replace(document.location.search,"").replace(document.location.hash,""),categoryID:"SiteComments",showCounts:"right"}],toolbarButtons:[{name:"facebook",alt:"Share This Page on Facebook"},{name:"twitter",alt:"Share This Page on Twitter",title:$("title").html()+" (via @BHG)"},{name:"email",iconImg:"http://images.meredith.com/bhg/images/template/socialmedia/clear.gif",alt:"Email this page"},{name:"share",iconImg:"http://images.meredith.com/bhg/images/template/socialmedia/clear.gif",alt:"More Share Options"}],facebookLikeButton:[{name:"facebook-like",iconImg:"http://w.sharethis.com/images/facebook_32.png",alt:"Share on facebook"}],facebookShareButton:[{name:"facebook",iconImg:"//images.meredith.com/content/dam/bhg/Images/assets/facebook_share.png",alt:"Share on Facebook"}],pinterestShareButton:[{name:"Pinterest",iconImg:"//images.meredith.com/content/dam/bhg/Images/assets/pin_it.png",alt:"Share on Pinterest"}],twitterShareButton:[{name:"twitter",iconImg:"http://images.meredith.com/content/dam/bhg/Images/assets/twitter_share.png",alt:"Share on Twitter",title:$("title").html()+" (via @BHG)"}],googlePlusShareButton:[{name:"googlePlus",iconImg:"http://images.meredith.com/content/dam/bhg/Images/assets/google_share.png",alt:"Share on Google Plus"}],emailShareButton:[{name:"email",iconImg:"http://images.meredith.com/content/dam/bhg/Images/assets/email_share.png",alt:"Email This Page"}],moreShareButton:[{name:"share",iconImg:"http://images.meredith.com/bhg/images/template/socialmedia/more.png",alt:"More Sharing Options"}],getGigyaOptions:function(el){for(var container=$(el),opts=jQuery.trim($(container).data("buttons")),buttons=opts.split(","),shareButtons=[],i=0,len=buttons.length;len>i;i++){var button=buttons[i];"gigyafbShare"==button?shareButtons.push(this.buttonLibrary.facebookShareButton):"gigyafbDefaultShare"==button?shareButtons.push(this.buttonLibrary.facebookDefaultShareButton):"gigyaPinIt"==button?shareButtons.push(this.buttonLibrary.pinItButton):"gigyaPinterest"==button?shareButtons.push(this.buttonLibrary.pinterestButton):"gigyaGooglePlus"==button?shareButtons.push(this.buttonLibrary.googlePlusButton):"gigyaFacebook"==button?shareButtons.push(this.buttonLibrary.facebookLikeButton):"gigyaTwitter"==button?shareButtons.push(this.buttonLibrary.twitterButton):"gigyaEmail"==button?shareButtons.push(this.buttonLibrary.emailButton):"gigyaMore"==button&&shareButtons.push(this.buttonLibrary.moreButton)}return shareButtons},postGigyaLoadHandler:function(){APP.trigger("mdp:gigya:custombuttons"),setTimeout(function(){$("#gigyaBar").find(".gig-button-container-pinterest-pinit").find("a").on("click",function(){mdp.gigya.GigyaShareReporting.OnSendDone({providers:"pinterest"})})},1500)},initialize:function(title,description,link,image){$("#gigyaBar").gigyaShare({shareType:"sharebar2",shareButtons:this.getGigyaOptions("#gigyaBar"),description:description,showCounts:"",image:image,linkBack:link,title:title},this.postGigyaLoadHandler),$("#shareButtons").gigyaShare({shareType:"multishare",shareButtons:this.shareBarButtons,description:description,image:image}),$("#fbLikeButtonRecipeDetail").gigyaShare({shareType:"sharebar",showCounts:"top",shareButtons:this.facebookLikeButton}),$("#fbLikeButton").gigyaShare({shareType:"sharebar",image:image,showCounts:"",shareButtons:this.facebookLikeButton}),$("#printButton").gigyaShare({shareType:"custom",linkUrl:$("#printButton").attr("data-url"),iconImage:"css"}),$("#fb_share").gigyaShare({shareType:"sharebar",shareButtons:this.facebookShareButton,image:image,title:title}),$("#fb_share_default").gigyaShare({shareType:"sharebar",shareButtons:[this.buttonLibrary.facebookDefaultShareButton],showCounts:"right",title:title}),$("#fb_CQ_share").gigyaShare({shareType:"sharebar",shareButtons:this.facebookShareButton,image:image,linkBack:link,description:description,title:title}),$("#pin_share").gigyaShare({shareType:"sharebar",showCounts:"",shareButtons:this.pinterestShareButton,image:image,description:title+"\n"+description,title:title}),$("#pin_cq_share").gigyaShare({shareType:"sharebar",showCounts:"",shareButtons:this.pinterestShareButton,image:image,description:title+"\n"+description,linkBack:link,title:title}),$("#tw_share").gigyaShare({shareType:"sharebar",shareButtons:this.twitterShareButton,image:image,description:description,title:title}),$("#tw_CQ_share").gigyaShare({shareType:"sharebar",shareButtons:this.twitterShareButton,image:image,description:description,linkBack:link,title:title}),$("#g_CQ_share").gigyaShare({shareType:"sharebar",shareButtons:this.googlePlusShareButton,image:image,description:description,linkBack:link,title:title}),$("#email_share").gigyaShare({shareType:"sharebar",shareButtons:this.emailShareButton,image:image,description:description,linkBack:link,title:title}),$("#email_CQ_share").gigyaShare({shareType:"sharebar",shareButtons:this.emailShareButton,image:image,description:description,linkBack:link,title:title}),$("#more_share").gigyaShare({shareType:"sharebar",shareButtons:this.moreShareButton,image:image,description:description,title:title}),$("#more_CQ_share").gigyaShare({shareType:"sharebar",shareButtons:this.moreShareButton,image:image,description:description,linkBack:link,title:title}),$("#sb_share").gigyaShare({shareType:"sharebar",shareButtons:this.toolbarButtons,description:description,image:image,title:title}),$("#sb_like").gigyaShare({shareType:"sharebar",showCounts:"",shareButtons:this.facebookLikeButton,linkBack:"http://www.facebook.com/mybhg"}),$("#commentsDiv").gigyaShare({shareType:"comments"}),$("#reviewDiv").gigyaShare({shareType:"review"})
}}}(jQuery),_.isUndefined(window.APP)&&(window.APP={}),function(Backbone,$){APP.BHGGigya=Backbone.Model.extend({initialize:function(){APP.bind("mdp:gigya:loaded",this.initializeSharing,this),APP.bind("mdp:gigya:update",this.initializeDefaults,this),APP.bind("mdp:gigya:custombuttons",this.addCustomButtons,this)},initializeSharing:function(){console&&console.log("Gigya Loaded. Initializing sharing..."),this.initializeDefaults()},initializeDefaults:function(){var title=this.getTitle(),description=this.getDescription(),link=this.getLinkBack(),image=this.getImage();GigyaShareOptions.initialize(title,description,link,image),$("#native_email_share a").attr("href","mailto:?subject=Check out this BHG article!&body="+window.location)},getTitle:function(){if(this.isOverrideValue("title"))return this.getOverrideValue("title");var title=$("title");return null!=title.data("socialtitle")&&title.data("socialtitle").length>0?title.data("socialtitle"):this.htmlDecode(title.html())},getDescription:function(){if(this.isOverrideValue("description"))return this.getOverrideValue("description");var title=$("title");if(null!=title.data("socialdescription")&&title.data("socialdescription").length>0)return title.data("socialdescription");var recipeInfo=$(".recipeDescription p");if(recipeInfo.length>0)return recipeInfo.html();if($(".contestShareText").length>0)return $(".contestShareText").html();if($("meta[name=description]").length>0){var regex=/(<([^>]+)>)/gi;return $("meta[name=description]").attr("content").substring(0,225).replace(regex,"")}return"From Better Homes and Gardens, ideas and improvement projects for your home and garden plus recipes and entertaining ideas."},getImage:function(){if(this.isOverrideValue("image"))return this.getOverrideValue("image");var body=$("body");if(null!=body.data("shareimage")&&body.data("shareimage").length>0)return body.data("shareimage");var photo=$(".photo");return photo.length>0?photo.attr("src"):"http://images.meredith.com/bhg/images/template/shell/logo.png"},getLinkBack:function(){var base=location.protocol+"//"+location.host;if(this.isOverrideValue("url")){var overrideUrl=this.getOverrideValue("url");return 0==overrideUrl.indexOf("http://")?overrideUrl:base+overrideUrl}return base+location.pathname},htmlDecode:function(input){var e=document.createElement("div");return e.innerHTML=input,0===e.childNodes.length?"":e.childNodes[0].nodeValue},isOverrideValue:function(property){return"undefined"!=typeof mdp.gigya.sharingOverride&&""!=mdp.gigya.sharingOverride[property]},getOverrideValue:function(property){return mdp.gigya.sharingOverride[property]},addCustomButtons:function(){this.addShareText(),this.moveCustomButtons()},addShareText:function(){var placeShare=$("#gigyaBar").data("share-before");if(placeShare){var shareHTML='<div class="icons shareText">Share</div>';$("#gigyaBar .gig-share-bar-container").prepend(shareHTML)}},moveCustomButtons:function(){var gigyaCustomButtons=$("#gigyaCustomButtons");if(!$(gigyaCustomButtons).data("show-me")&&$(gigyaCustomButtons).children().length>0){var customButtonPlaceIndex,customButtons=$(gigyaCustomButtons).children(),customButtonPlacement=$("#gigyaBar").data("button-placement")||"default",defaultPlacement=2;if("number"==typeof customButtonPlacement)customButtonPlaceIndex=customButtonPlacement;else{if("before"==customButtonPlacement||"left"==customButtonPlacement)return void $("#gigyaBar .gig-share-bar-container").before(customButtons);if("after"==customButtonPlacement||"right"==customButtonPlacement)return void $("#gigyaBar .gig-share-bar-container").after(customButtons);customButtonPlaceIndex=defaultPlacement}$("#gigyaBar .gig-share-bar-container > table > tbody > tr:first").children().eq(customButtonPlaceIndex).before(customButtons)}}})}(this.Backbone,jQuery),_.isUndefined(window.APP)&&(window.APP={}),function(Backbone){APP.GigyaSitecatalyst=Backbone.Model.extend({initialize:function(){APP.bind("mdp:gigya:buttonclicked",this.onButtonClicked,this),APP.bind("mdp:gigya:senddone",this.onSendDone,this),APP.bind("mdp:gigya:commentsubmitted",this.onCommentSubmitted,this),APP.bind("mdp:gigya:loginEvent",this.trackEvent,this),APP.bind("mdp:gigya:logoutEvent",this.trackEvent,this),APP.bind("mdp:gigya:addConnectionEvent",this.trackEvent,this),APP.bind("mdp:gigya:removeConnectionEvent",this.trackEvent,this)},onButtonClicked:function(provider){this.trackSocialEvent(provider+": Share Button Clicked")},onSendDone:function(provider){this.trackSocialEvent(provider+": Share Published")},onCommentSubmitted:function(){this.trackSocialEvent("Comment Submitted")},trackEvent:function(event){this.trackSocialEvent(event.eventName+": "+event.provider)},trackSocialEvent:function(action){var local_s=mdp.s||s;local_s.linkTrackVars="events,eVar37,eVar44,eVar9",local_s.linkTrackEvents="event37",local_s.events="event37",local_s.eVar37=action,local_s.eVar44=local_s.prop11,local_s.tl(this,"o",local_s.eVar37),local_s.linkTrackVars=local_s.linkTrackEvents="None",local_s.events=local_s.eVar37=local_s.eVar44=""}})}(this.Backbone,window),function(){new APP.BHGGigya,new APP.GigyaSitecatalyst}(),mdp.onGigyaLoaded(function(){APP.trigger("mdp:gigya:loaded")}),_.isUndefined(window.APP)&&(window.APP={}),function(Backbone,global){APP.GoogleAnalytics=Backbone.Model.extend({initialize:function(){global.dataLayer=global.dataLayer||[],APP.bind("mdp:sitecatalyst:send",this.submitPageView,this),APP.bind("mdp:gigya:buttonclicked",this.submitGigyaButtonClicked,this),APP.bind("mdp:gigya:senddone",this.submitGigyaSendDone,this),APP.bind("mdp:gigya:commentsubmitted",this.submitGigyaComment,this),APP.bind("mdp:gigya:loginEvent",this.submitGigyaEvent,this),APP.bind("mdp:gigya:logoutEvent",this.submitGigyaEvent,this),APP.bind("mdp:gigya:addConnectionEvent",this.submitGigyaEvent,this),APP.bind("mdp:gigya:removeConnectionEvent",this.submitGigyaEvent,this)},submitPageView:function(){var dataLayerEntry={};this.copyAnalyticsProperty("Channel",dataLayerEntry,"Channel"),this.copyAnalyticsProperty("Page Name",dataLayerEntry,"Page Name"),this.copyAnalyticsProperty("Category Level Report",dataLayerEntry,"Category"),this.copyAnalyticsProperty("Subcategory Level Report",dataLayerEntry,"Subcategory"),this.copyAnalyticsProperty("Application Report",dataLayerEntry,"Application"),this.copyAnalyticsProperty("Most Popular Slideshows & Quizzes",dataLayerEntry,"Most Popular Slideshows & Quizzes"),this.copyAnalyticsProperty("Content ID",dataLayerEntry,"Content ID"),this.copyAnalyticsProperty("Site Search Term",dataLayerEntry,"Site Search Term"),this.copyAnalyticsProperty("Partner Name",dataLayerEntry,"Sponsor Name"),this.copyAnalyticsProperty("Error Status Code",dataLayerEntry,"status code"),this.copyAnalyticsProperty("Search Terms",dataLayerEntry,"Search Terms"),this.copyAnalyticsProperty("Member Logged In",dataLayerEntry,"Member Logged In"),dataLayerEntry["Registration Source - Reg"]="",dataLayerEntry["Registration Source - Traffic"]="",dataLayerEntry["Party ID"]="",dataLayerEntry["Profile ID"]="",_.isUndefined(APP.Profile.getEmailVisitorId())||(dataLayerEntry["Hash ID"]=APP.Profile.getEmailVisitorId()),mdp&&mdp.getQueryParam&&(mdp.getQueryParam("psrc")&&(dataLayerEntry["Internal Campaigns"]=mdp.getQueryParam("psrc")),mdp.getQueryParam("socsrc")&&(dataLayerEntry["Social Campaigns"]=mdp.getQueryParam("socsrc")),mdp.getQueryParam("esrc")&&(dataLayerEntry["Email Campaigns"]=mdp.getQueryParam("esrc"))),dataLayerEntry.event="pageview",global.dataLayer.push(dataLayerEntry)},submitGigyaButtonClicked:function(provider){global.dataLayer.push({"Social Network":this.capitalizeString(provider),"Social Action":"Share Button Clicked",event:"gigya"})},submitGigyaSendDone:function(provider){global.dataLayer.push({"Social Network":this.capitalizeString(provider),"Social Action":"Share Published",event:"gigya"})},submitGigyaComment:function(){global.dataLayer.push({"Social Action":"Comment Submitted",event:"gigya"})},submitGigyaEvent:function(){global.dataLayer.push({"Social Network":this.capitalizeString(event.provider),"Social Action":event.eventName,event:"gigya"})},capitalizeString:function(string){return string.charAt(0).toUpperCase()+string.slice(1)},copyAnalyticsProperty:function(pageDataMgrKey,dataLayerEntry,dataLayerKey){CQ_Analytics.PageDataMgr.getProperty(pageDataMgrKey)&&(dataLayerEntry[dataLayerKey]=CQ_Analytics.PageDataMgr.getProperty(pageDataMgrKey))}}),new APP.GoogleAnalytics}(Backbone,window);var mdp=mdp||{};mdp.app=mdp.app||{},mdp.app.VswYieldbot={standalone:function(yieldbotPin,pubId,domain,count,isSlideShow){this.run(yieldbotPin,!0,pubId,domain,count,isSlideShow)},withOtherAdServices:function(yieldbotPin,pubId,domain,count,isSlideShow){this.run(yieldbotPin,!1,pubId,domain,count,isSlideShow)},run:function(yieldbotPin,yieldbotGo,pubId,domain,count,isSlideShow){var self=this,vswScript=function(){self.withOnlyVSW(pubId,domain,count,isSlideShow)},yieldBotVsw=function(){yieldbot.pub(yieldbotPin),yieldbot.defineSlot("300x250_vsw","vsw"),yieldbot.enableAsync(),yieldbotGo&&yieldbot.go()},alternateSlot=function(){yieldbot.alternateSlot("300x250_vsw",vswScript)};"undefined"==typeof yieldbot?$.getScript("http://cdn.yldbt.com/js/yieldbot.intent.js",function(){ybotq.push(yieldBotVsw),ybotq.push(alternateSlot)}):(ybotq.push(yieldBotVsw),ybotq.push(alternateSlot))},withOnlyVSW:function(pubId,domain,count,isSlideShow){"undefined"!=typeof isSlideShow&&isSlideShow&&(window.ERA_RC=window.ERA_RC||{},window.ERA_RC.Global={linkid:"",linkindex:0});var era_rc,v="ERA_AD_BLOCK",sch="https:"==location.protocol?"https":"http",host="http"==sch?"as.featurelink.com":"secure.featurelink.com",src=(document.createElement("script"),sch+"://"+host+"/ERALinks/era_rl.aspx?elid="+v);era_rc="as.vs4homeandgarden.com"===domain&&"bhg"===pubId?{ERADomain:domain,PubID:pubId,Layout:"thumbnail",MaxRelatedItems:count,BlockID:"thumbnail",SearchWidgetPosition:"2",SearchBoxCaption:"Find More ...",ClassName:"era_ad_block"}:{ERADomain:domain,BlockID:"standard",Layout:"default",ClassName:"era_ad_block",MaxRelatedItems:count,PubID:pubId};for(var p in era_rc)era_rc.hasOwnProperty(p)&&(src+=decodeURIComponent("%26")+p.toLowerCase()+"="+encodeURIComponent(era_rc[p]));$.getScript(src)}},GPT=Backbone.View.extend({useLocal:!1,pageMode:"publish",initialize:function(){APP.bind("ads:gpt:refresh",this.refresh,this),this.initConfig()},initConfig:function(){this.pageMode=BHG_PAGE.pageMode,"author"===this.pageMode?console.log("Not loading ads for author mode"):(console.log("Starting GPT ads..."),adService.pageTargetingValues.id=BHG_PAGE.GPT_Id,adService.pageTargetingValues.type=BHG_PAGE.GPT_Type,adService.unitValues.channel=BHG_PAGE.GPT_Channel,adService.unitValues.parent=BHG_PAGE.GPT_ParentChannel,adService.unitValues.child=BHG_PAGE.GPT_ChildChannel,adService.jsonFile=this.adServiceJSON(),this.setApigeeEnvironment(adService),this.loadGPT())},loadGPT:function(){yepnope({load:[CacheBuster.formatUrl(this.adServiceCorePath())]})},adServiceJSON:function(){var env=this.getEnviroment(),env="local"===env?"dev":env,subDomain="prod"===env?"":env+".";return"http://"+subDomain+"api.meredith.com/rest/application/v1/advertisement/gpt"},adServiceCorePath:function(){var domain="";return"prod"===this.getEnviroment()?domain="http://s2.mdpcdn.com":this.useLocal?domain="http://local.bhg.com":"publish"===this.pageMode&&(domain="local"===this.getEnviroment()||"dev"===this.getEnviroment()?"http://dev.bhg.com":""),domain+"/web/js-min/js/mdp/app/gpt/gpt.core.js"},getEnviroment:function(){return document.location.host.match(/localhost\:4502|local\.bhg\.com/i)?"local":document.location.host.match(/dcq\.meredith\.com|dev\.bhg\.com/i)?"dev":document.location.host.match(/tcq\.meredith\.com|test\.bhg\.com/i)?"test":"prod"},setApigeeEnvironment:function(obj){var env=this.getEnviroment();"local"===env||"dev"===env?obj.environment="dev":"test"===env&&(obj.environment="test")},refresh:function(){"function"==typeof refreshAdFrame&&refreshAdFrame()}}),_.isUndefined(window.APP)&&(window.APP={}),function(Backbone,$){VSW=Backbone.Model.extend({initialize:function(){APP.bind("ads:vsw:refresh",this.refresh,this),this.config=new VswConfig,this.refresh()},refresh:function(){this.config.isSlideshow()?mdp.app.VswYieldbot.withOnlyVSW("bhg",this.config.getDomain(),this.config.getMaxItems(),!0):mdp.app.VswYieldbot.withOtherAdServices("e8e0","bhg",this.config.getDomain(),this.config.getMaxItems(),!1)}}),VswConfig=Backbone.Model.extend({initialize:function(){this.maxItems=$(".bhgvsw").data("count"),this.domain=this.computeDomain()},getMaxItems:function(){return this.maxItems},getDomain:function(){return this.domain},computeDomain:function(){return this.isFoodRelated()?"as.vs4food.com":this.isWeddingChannel()?"as.vs4weddings.com":"as.vs4homeandgarden.com"},isFoodRelated:function(){var foodRelatedCategories=["recipe[s]?","halloween/recipes","thanksgiving/sides-appetizers","thanksgiving/recipes","thanksgiving/pies-cakes","christmas/cookies","christmas/bars","christmas/baking","christmas/recipes","holidays/valentines-day/recipes","holidays/st-patricks-day/recipes","holidays/easter/recipes","holidays/mothers-day/recipes","holidays/july-4th/recipes"],regEx="^/("+foodRelatedCategories.join("|")+")/";return this.pathMatches(regEx)},isWeddingChannel:function(){var regEx="^/wedding/";return this.pathMatches(regEx)},pathMatches:function(data){return new RegExp(data,"i").test(window.location.pathname)},isSlideshow:function(){return $(".shell").hasClass("slideshow2")}})}(this.Backbone,jQuery);var adService={kruxEnabled:!0,gwdEnabled:!0,sonobiEnabled:!1,sonobiPlacements:{topBanner:"d367d5b464d54894d73e",rightBanner:"2dcecb9f9f9fd0d67d2d"},pubmaticEnabled:!0,pubmaticPub:37576,yieldbotEnabled:!0,yieldbotPub:"e8e0",unitValues:{adDomain:"bhg.mdp.com",channel:"",parent:"",child:""},pageTargetingValues:{id:"",type:"",search:""},localPaths:!1,jsonFile:""};!function(){APP.GPT=new GPT,APP.VSW=new VSW}(),function(Backbone,$){APP.VideoPlayerView=Backbone.View.extend({initialize:function(){this.formatThumbnails()},events:{click:"showVideo"},showVideo:function(e){this.isPopupVideo()?this.showPopupVideo(e):this.showOnpageVideo()},getIframe:function(){var video=this.$el;return $("<iframe />").attr({scrolling:"no",frameborder:0,src:video.data("videoembedurl")+"&width="+video.data("width")+"&height="+video.data("height"),height:video.data("height"),width:video.data("width")})},showOnpageVideo:function(){this.$el.html(this.getIframe())},showPopupVideo:function(e){e.preventDefault();var modal=$('<iframe width="998" height="615" scrolling="no" src="'+this.$el.data("videoembedurl")+'" frameborder="0"  allowfullscreen></iframe>'),title=$(".videoPlayer img").attr("alt");$("#bhgVideoModal .vidFrame").append(modal),$("#bhgVideoModal .videoTitle").html(title),$("#bhgVideoModal").yingsLightBox({afterClose:function(){modal.remove("iframe")}})},formatThumbnails:function(){function isThirdThumbnail(i){return i%3==0}var thumbnails=this.$el.parent().children(".thumbnail"),i=1;thumbnails.each(function(){var thumbnail=$(this);isThirdThumbnail(i)&&(thumbnail.addClass("last"),thumbnail.after($('<div class="clearfix" />'))),i++})},isPopupVideo:function(){return 1==this.$el.data("popup")}})}(Backbone,jQuery),function(){var videos=$("div.videoPlayer");videos.each(function(){var video=$(this);new APP.VideoPlayerView({el:video})})}(),APP.Monetate=Backbone.Model.extend({initialize:function(){APP.bind("mdp:profile:loaded",this.loadMonetate,this)},loadMonetate:function(){if(!mdp.environment.isAuthoring()){this.loadMonetateProfile();var monetateT=(new Date).getTime(),monetateUrl="http://b.monetate.net/js/1/a-38546bcd/p/bhg.com/"+Math.floor((monetateT+1856717)/36e5)+"/g";yepnope({load:monetateUrl})}},loadMonetateProfile:function(){var mdp=window.mdp||{};mdp.monetateProfile={mdpMember:APP.Profile.isMember(),activeSubs:APP.Profile.getSubscriptions(),lastVisit:APP.Profile.lastVisitDate()}}}),function(){mdp.environment.isProd()?yepnope({load:"http://s1.mdpcdn.com/web/js-min/js/mdp/app/regoverlay/mdp.RegOverlay.js",callback:function(){_.defer(function(){APP.trigger("mdp:overlay:loaded")})}}):mdp.environment.isAuthoring()||yepnope({load:"/web/js-min/js/mdp/app/regoverlay/mdp.RegOverlay.js",callback:function(){_.defer(function(){APP.trigger("mdp:overlay:loaded")})}})}(),_.isUndefined(window.APP)&&(window.APP={}),function(Backbone){APP.RegistrationPrompt=Backbone.Model.extend({initialize:function(){APP.bind("mdp:profile:loaded",this.showRegistration,this)},showRegistration:function(){this.shouldShowRegistration()&&(window.location=URLCleaner.getRegistrationUrl("1177"))},isRegistrationRequired:function(){return BHG_PAGE.regRequired?BHG_PAGE.regRequired===!0:!1},shouldShowRegistration:function(){return mdp.environment.isAuthoring()===!1&&this.isRegistrationRequired()===!0&&APP.Profile.isMember()===!1&&APP.Profile.isEmailVisitor()===!1}})}(this.Backbone),_.isUndefined(window.mdp_show_roadblock)&&(window.mdp_show_roadblock=!0),function(Backbone){APP.RoadBlock=Backbone.Model.extend({initialize:function(){APP.bind("mdp:profile:loaded",this.loadRoadblock,this)},loadRoadblock:function(){this.shouldLoadRoadblock()?yepnope("/web/js/mdp/app/roadblockdisplay/mdp.RoadBlockDisplay.js"):console&&console.log("RoadBlock:: not loading roadblock...")},shouldLoadRoadblock:function(){return!mdp.environment.isAuthoring()&&!APP.Profile.checkEmailVisitor()}}),new APP.RoadBlock}(Backbone),_.isUndefined(window.APP)&&(window.APP={}),function(Backbone){APP.PinterestComponent=Backbone.View.extend({events:{click:"launchPinterest"},launchPinterest:function(event){event.preventDefault(),window.open(this.getUrl(),"Pinterest","width=700, height=500, resizable=no, toolbar=no, scrollbars=no, menubar=no, status=no, directories=no")},getUrl:function(){return this.$el.data("url")}})}(this.Backbone),_.isUndefined(window.APP)&&(window.APP={}),function(){APP.FavoritePinterest=APP.PinterestComponent.extend({getUrl:function(){return this.$el.data("url")+"&url="+document.URL}})}(),_.isUndefined(window.APP)&&(window.APP={}),function(Backbone){APP.ViewportDispatcher=Backbone.View.extend({isFullSite:!0,initialize:function(){APP.bind("mdp:profile:loaded",this.profileLoaded,this),APP.bind("mdp:cq:ready",this.cqReady,this)},profileLoaded:function(){this.showFullSite()&&APP.trigger("mdp:teasers:init")},cqReady:function(){this.showFullSite()&&APP.trigger("ads:vsw:init")},showFullSite:function(){return this.isFullSite},setFullSite:function(fullSite){this.isFullSite=fullSite}})}(this.Backbone),_.isUndefined(window.APP)&&(window.APP={}),function(Backbone,$){APP.ShopnationFooter=Backbone.View.extend({el:$("#shopNationFooterForm"),events:{"submit form":"redirectSearch","click .image":"redirectSearch"},redirectSearch:function(event){event.preventDefault(),this.$el.submit()}})}(this.Backbone,jQuery),function(global){global.$buoop={vs:{i:10,f:25,o:17,s:6,n:9}},mdp.environment.isAuthoring()||yepnope({load:["//browser-update.org/update.js"]})}(window),function($){function YingsLightBox(root,options){function openModal(){if(options.beforeOpen(),$(body).append(overlay),options.preloadImage&&$(root).find("img").length>0)if("bhgImageModal"===$(root).attr("id")){var whenAllDone=$.when.apply($,preloadImages());whenAllDone.done(function(images){afterModalLoad(images)})}else{var whenAllDone=$.when.apply($,preloadImages());whenAllDone.done(function(){afterModalLoad(null)})}else afterModalLoad(null)}function preloadImages(){var img,promise,promises=[];return $(root).find("img").each(function(i,image){promise=$.Deferred(),img=new Image,img.onload=function(){promise.resolve({width:this.width,height:this.height})},img.onerror=function(){promise.resolve()},promises.push(promise),img.src=$(image).attr("src")}),promises}function afterModalLoad(images){$(root).removeClass("open").addClass("open"),position(images),options.afterOpen(),options.clickOverlayToClose&&$(overlay).on("click",function(){closeModal()})}function position(images){if(images){var width=images.width>$(window).width()?$(window).width():images.width,height=images.height>$(window).height()?$(window).height():images.height;figureOutMargin(width,height)}else figureOutMargin($(root).outerWidth(),$(root).outerHeight())}function figureOutMargin(width,height){var halfWidth=parseInt(width/2),halfHeight=parseInt(height/2);$(root).css("margin","-"+halfHeight+"px 0 0 -"+halfWidth+"px")}function loading(){$(root).addClass("loading")}function doneLoading(){$(root).removeClass("loading")}function closeModal(){options.beforeClose(),$(root).removeClass("open"),$(overlay).remove(),options.afterClose()}var body=$("body"),overlay=$('<div class="yingsLightBoxOverlay" />');return options.autoOpen&&openModal(),$(root).find(options.close).on("click",function(e){e.preventDefault(),closeModal()}),{openModal:function(){openModal()},closeModal:function(){closeModal()},position:function(){loading(),position(null),doneLoading()},preloadImages:function(){return preloadImages()}}}var opts={autoOpen:!0,clickOverlayToClose:!0,close:".close",preloadImage:!1,beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}};$.fn.yingsLightBox=function(options){var options=$.extend({},opts,options);return new YingsLightBox($(this),options)}}(jQuery),_.isUndefined(window.APP)&&(window.APP={}),function(Backbone,$){APP.ModalPopup=Backbone.View.extend({picture:null,pictureUrl:null,initialize:function(){this.pictureUrl=this.$el.data("url"),this.picture=$("#bhgImageModal img")},events:{click:"openModal"},openModal:function(event){event.preventDefault(),this.picture.attr("src",this.pictureUrl),$("#bhgImageModal").yingsLightBox({preloadImage:!0})}})}(this.Backbone,jQuery),function(){var links=$(".bhgpopup");links.each(function(){new APP.ModalPopup({el:$(this)})})}(),_.isUndefined(window.APP)&&(window.APP={}),function(Backbone){APP.SitecatalystData=Backbone.Model.extend({send:function(){console.log("Sending sitecatalyst data..."),APP.trigger("mdp:sitecatalyst:send")},shouldSend:function(){return mdp.environment&&!mdp.environment.isAuthoring()},changeProperty:function(name,value){CQ_Analytics.PageDataMgr.setProperty(name,value)}})}(this.Backbone),_.isUndefined(window.APP)&&(window.APP={}),function(Backbone){APP.SitecatalystEvent=Backbone.Model.extend({trackEvents:"",trackVars:"",overrideVars:{},send:function(name){if(this.shouldSend())if("function"==typeof s_gi){var s=s_gi("betterhg");this.collect(s),s.tl(this,"o",name)}else console.log("SitecatalystEvent unable to send data.");else console.log("Not sending sitecatalyst event.")},collect:function(sitecatalyst){if("object"==typeof sitecatalyst){for(var properties=this.trackVars.split(","),i=0;i<properties.length;i++)this.processProperty(properties[i],sitecatalyst);if(this.overrideVars)for(var prop in this.overrideVars)this.overrideVars.hasOwnProperty(prop)&&(sitecatalyst[prop]=this.overrideVars[prop]);sitecatalyst.linkTrackVars=this.trackVars,sitecatalyst.linkTrackEvents=this.trackEvents,sitecatalyst.events=this.trackEvents}},processProperty:function(propertyName,sitecatalyst){"prop1"==propertyName&&(sitecatalyst.prop1=CQ_Analytics.PageDataMgr.getProperty("Category Level Report")),"prop2"==propertyName&&(sitecatalyst.prop2=CQ_Analytics.PageDataMgr.getProperty("Subcategory Level Report")),"eVar9"==propertyName&&(sitecatalyst.eVar9=CQ_Analytics.PageDataMgr.getProperty("Page Name")),"eVar14"==propertyName&&(sitecatalyst.eVar14=CQ_Analytics.PageDataMgr.getProperty("Channel"))},setEvents:function(eventString){this.trackEvents=eventString},setVars:function(varString){this.trackVars=varString},setOverrideVars:function(overrideVars){this.overrideVars=overrideVars},shouldSend:function(){return mdp.environment&&!mdp.environment.isAuthoring()}})}(this.Backbone),_.isUndefined(window.APP)&&(window.APP={}),function(Backbone){APP.SelectableView=Backbone.View.extend({el:null,errorMessage:null,outcomes:null,errorModal:null,smUniqueKey:null,selectableLoad:!1,profileLoaded:!1,initialize:function(options){void 0!==options&&(this.el=options.el,this.errorMessage=this.$el.find(".container").data("error-message"),this.outcomes=this.$el.find(".container").data("outcomes"),this.smUniqueKey=this.$el.find(".container").data("sm-unique-key"),this.errorModal=$("#bhgErrorModal").yingsLightBox({autoOpen:!1})),APP.bind("mdp:profile:loaded",this.loadProfile,this),APP.bind("mdp:selectable:media:loaded",this.loadSelectable,this),this.bind("mdp:selectable:outcome",this.findOutcome),this.bind("mdp:selectable:closed",this.sendSitecatalystClosed)},events:{"click .submit":"handleSubmit"},loadSelectable:function(){this.selectableLoad=!0},loadProfile:function(){this.profileLoaded=!0},handleSubmit:function(event){if(event.preventDefault(),this.selectableLoad&&this.profileLoaded){var selectableView=this,smConfig={placement:this.smUniqueKey,callback:function(event){console.log("Event from Selectable Media: "+event.type),"vanguardClosed"==event.type&&($("#bhgLoadingModal").yingsLightBox(),selectableView.trigger("mdp:selectable:closed"))}},checkAdsAvailibility={placement:this.smUniqueKey,callback:function(event){event.adsAvailable?(console.log("adsAvailable"),SM_App.startPlayerSession(smConfig)):(console.log("NOT adsAvailable"),selectableView.trigger("mdp:selectable:outcome"))}},choice1=this.$el.find(".choice1").data("value"),choice2=this.$el.find(".choice2").data("value");choice1&&choice2?APP.Profile.isMember()?this.trigger("mdp:selectable:outcome"):(this.sendSitecatalystSelectable("Selectable Window:Open"),SM_App.checkAdsAvailable(checkAdsAvailibility)):($("#bhgErrorModal p").html(this.errorMessage),this.errorModal.openModal())}else $("#bhgErrorModal p").html("Please wait ... "),this.errorModal.openModal()},findOutcome:function(){var choice1=this.$el.find(".choice1").data("value"),choice2=this.$el.find(".choice2").data("value"),choices=this.outcomes.choices,foundChoice1=choices[choice1];if(foundChoice1){var foundChoice2=foundChoice1[choice2];foundChoice2?window.location=this.handleQueryString(choice1,choice2,foundChoice2):this.returnDefault(choice1,choice2)}else this.returnDefault(choice1,choice2)},handleQueryString:function(choice1,choice2,resultingUrl){mdp.environment&&mdp.environment.isAuthoring()&&(resultingUrl="/content/bhg"+resultingUrl.substring(0,resultingUrl.length-1)+".html?wcmmode=disabled");var toLoad=resultingUrl;return toLoad+=resultingUrl.indexOf("?")>-1?"&":"?",toLoad+="referrer=selectable&choices="+encodeURIComponent(choice1+","+choice2)},returnDefault:function(choice1,choice2){var defaultUrl=this.outcomes.defaultOutcome;window.location=this.handleQueryString(choice1,choice2,defaultUrl)},sendSitecatalystSelectable:function(event){var sitecatalyst=new APP.SitecatalystEvent;sitecatalyst.setVars("pageName,eVar9"),sitecatalyst.setOverrideVars({pageName:event,eVar9:event}),sitecatalyst.send(event)},sendSitecatalystClosed:function(){var selectableView=this;this.sendSitecatalystSelectable("Selectable Window:Close"),setTimeout(function(){selectableView.trigger("mdp:selectable:outcome")},1500)}})}(this.Backbone),function(){$(".selectable").each(function(){new APP.SelectableView({el:$(this)})})}(),_.isUndefined(window.APP)&&(window.APP={}),function(Backbone){APP.SelectableMedia=Backbone.View.extend({selectableUrl:"https://cdn.selectablemedia.com/tags/current/js/selectablemedia.js?ts="+String((new Date).getTime()),initialize:function(){$.getScript(this.selectableUrl,function(){console.log("Selectable media script loaded"),APP.trigger("mdp:selectable:media:loaded")})}})}(this.Backbone),function(){new APP.SelectableMedia}(),function(){new APP.ViewportDispatcher,$(".pinterestComponentShare").each(function(){new APP.PinterestComponent({el:$(this)})}),$(".favoritePinterest").each(function(){new APP.FavoritePinterest({el:$(this)})}),new APP.ShopnationFooter,new APP.Truncate({el:"div.video div.videoName p",opts:{slicePoint:"49",widow:0,preserveWords:!1,expandText:""}}),new APP.CenterNavView({numLinksToShow:28}),$(document).foundation()}();